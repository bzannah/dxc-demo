{"version":3,"file":"component---src-pages-index-tsx-870a462db787ead48a8a.js","mappings":"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","sources":["webpack://gatsby-frontend/./node_modules/@sanity/eventsource/browser.js","webpack://gatsby-frontend/./node_modules/@sanity/eventsource/node_modules/event-source-polyfill/src/eventsource.js","webpack://gatsby-frontend/./node_modules/@uniformdev/context-react/node_modules/cookie/index.js","webpack://gatsby-frontend/./node_modules/get-it/dist/_chunks/defaultOptionsValidator-4ba94809.js","webpack://gatsby-frontend/./node_modules/get-it/dist/index.browser.js","webpack://gatsby-frontend/./node_modules/get-it/node_modules/is-plain-object/dist/is-plain-object.mjs","webpack://gatsby-frontend/./node_modules/get-it/dist/middleware.browser.js","webpack://gatsby-frontend/./node_modules/tslib/tslib.es6.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/util/isFunction.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/util/createErrorClass.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/util/UnsubscriptionError.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/util/arrRemove.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/Subscription.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/config.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/scheduler/timeoutProvider.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/util/noop.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/NotificationFactories.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/util/errorContext.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/Subscriber.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/util/reportUnhandledError.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/symbol/observable.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/util/identity.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/util/pipe.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/Observable.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/util/EmptyError.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/lastValueFrom.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/util/lift.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/operators/map.js","webpack://gatsby-frontend/./node_modules/@sanity/client/node_modules/rxjs/dist/esm5/internal/operators/filter.js","webpack://gatsby-frontend/./node_modules/@sanity/client/dist/index.browser.js","webpack://gatsby-frontend/./src/components/Footer.tsx","webpack://gatsby-frontend/./src/components/Header.tsx","webpack://gatsby-frontend/./src/components/Layout.tsx","webpack://gatsby-frontend/./src/components/Page.tsx","webpack://gatsby-frontend/./node_modules/@uniformdev/context/dist/api/api.mjs","webpack://gatsby-frontend/./node_modules/@uniformdev/canvas/dist/chunk-QNNQJB7F.mjs","webpack://gatsby-frontend/./node_modules/dequal/lite/index.mjs","webpack://gatsby-frontend/./node_modules/js-cookie/dist/js.cookie.mjs","webpack://gatsby-frontend/./node_modules/@uniformdev/context/dist/index.esm.js","webpack://gatsby-frontend/./node_modules/@uniformdev/context-react/dist/index.esm.js","webpack://gatsby-frontend/./node_modules/@uniformdev/canvas-react/dist/index.esm.js","webpack://gatsby-frontend/./src/components/Hero.tsx","webpack://gatsby-frontend/./src/components/CTA.tsx","webpack://gatsby-frontend/./src/components/GenericGrid.tsx","webpack://gatsby-frontend/./src/components/GenericCard.tsx","webpack://gatsby-frontend/./src/components/OfferingCard.tsx","webpack://gatsby-frontend/./src/components/OfferingGrid.tsx","webpack://gatsby-frontend/./src/components/Default.tsx","webpack://gatsby-frontend/./node_modules/@uniformdev/canvas-sanity/dist/index.esm.js","webpack://gatsby-frontend/./src/pages/index.tsx","webpack://gatsby-frontend/./node_modules/get-it/node_modules/debug/src/browser.js","webpack://gatsby-frontend/./node_modules/get-it/node_modules/debug/src/common.js","webpack://gatsby-frontend/./node_modules/get-it/node_modules/ms/index.js","webpack://gatsby-frontend/./node_modules/parse-headers/parse-headers.js","webpack://gatsby-frontend/./node_modules/rfdc/index.js"],"sourcesContent":["/* eslint-disable no-var */\nvar evs = require(\"event-source-polyfill\");\n\nmodule.exports = evs.EventSourcePolyfill;\n","/** @license\r\n * eventsource.js\r\n * Available under MIT License (MIT)\r\n * https://github.com/Yaffle/EventSource/\r\n */\r\n\r\n/*jslint indent: 2, vars: true, plusplus: true */\r\n/*global setTimeout, clearTimeout */\r\n\r\n(function (global) {\r\n  \"use strict\";\r\n\r\n  var setTimeout = global.setTimeout;\r\n  var clearTimeout = global.clearTimeout;\r\n  var XMLHttpRequest = global.XMLHttpRequest;\r\n  var XDomainRequest = global.XDomainRequest;\r\n  var ActiveXObject = global.ActiveXObject;\r\n  var NativeEventSource = global.EventSource;\r\n\r\n  var document = global.document;\r\n  var Promise = global.Promise;\r\n  var fetch = global.fetch;\r\n  var Response = global.Response;\r\n  var TextDecoder = global.TextDecoder;\r\n  var TextEncoder = global.TextEncoder;\r\n  var AbortController = global.AbortController;\r\n\r\n  if (typeof window !== \"undefined\" && typeof document !== \"undefined\" && !(\"readyState\" in document) && document.body == null) { // Firefox 2\r\n    document.readyState = \"loading\";\r\n    window.addEventListener(\"load\", function (event) {\r\n      document.readyState = \"complete\";\r\n    }, false);\r\n  }\r\n\r\n  if (XMLHttpRequest == null && ActiveXObject != null) { // https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest_in_IE6\r\n    XMLHttpRequest = function () {\r\n      return new ActiveXObject(\"Microsoft.XMLHTTP\");\r\n    };\r\n  }\r\n\r\n  if (Object.create == undefined) {\r\n    Object.create = function (C) {\r\n      function F(){}\r\n      F.prototype = C;\r\n      return new F();\r\n    };\r\n  }\r\n\r\n  if (!Date.now) {\r\n    Date.now = function now() {\r\n      return new Date().getTime();\r\n    };\r\n  }\r\n\r\n  // see #118 (Promise#finally with polyfilled Promise)\r\n  // see #123 (data URLs crash Edge)\r\n  // see #125 (CSP violations)\r\n  // see pull/#138\r\n  // => No way to polyfill Promise#finally\r\n\r\n  if (AbortController == undefined) {\r\n    var originalFetch2 = fetch;\r\n    fetch = function (url, options) {\r\n      var signal = options.signal;\r\n      return originalFetch2(url, {headers: options.headers, credentials: options.credentials, cache: options.cache}).then(function (response) {\r\n        var reader = response.body.getReader();\r\n        signal._reader = reader;\r\n        if (signal._aborted) {\r\n          signal._reader.cancel();\r\n        }\r\n        return {\r\n          status: response.status,\r\n          statusText: response.statusText,\r\n          headers: response.headers,\r\n          body: {\r\n            getReader: function () {\r\n              return reader;\r\n            }\r\n          }\r\n        };\r\n      });\r\n    };\r\n    AbortController = function () {\r\n      this.signal = {\r\n        _reader: null,\r\n        _aborted: false\r\n      };\r\n      this.abort = function () {\r\n        if (this.signal._reader != null) {\r\n          this.signal._reader.cancel();\r\n        }\r\n        this.signal._aborted = true;\r\n      };\r\n    };\r\n  }\r\n\r\n  function TextDecoderPolyfill() {\r\n    this.bitsNeeded = 0;\r\n    this.codePoint = 0;\r\n  }\r\n\r\n  TextDecoderPolyfill.prototype.decode = function (octets) {\r\n    function valid(codePoint, shift, octetsCount) {\r\n      if (octetsCount === 1) {\r\n        return codePoint >= 0x0080 >> shift && codePoint << shift <= 0x07FF;\r\n      }\r\n      if (octetsCount === 2) {\r\n        return codePoint >= 0x0800 >> shift && codePoint << shift <= 0xD7FF || codePoint >= 0xE000 >> shift && codePoint << shift <= 0xFFFF;\r\n      }\r\n      if (octetsCount === 3) {\r\n        return codePoint >= 0x010000 >> shift && codePoint << shift <= 0x10FFFF;\r\n      }\r\n      throw new Error();\r\n    }\r\n    function octetsCount(bitsNeeded, codePoint) {\r\n      if (bitsNeeded === 6 * 1) {\r\n        return codePoint >> 6 > 15 ? 3 : codePoint > 31 ? 2 : 1;\r\n      }\r\n      if (bitsNeeded === 6 * 2) {\r\n        return codePoint > 15 ? 3 : 2;\r\n      }\r\n      if (bitsNeeded === 6 * 3) {\r\n        return 3;\r\n      }\r\n      throw new Error();\r\n    }\r\n    var REPLACER = 0xFFFD;\r\n    var string = \"\";\r\n    var bitsNeeded = this.bitsNeeded;\r\n    var codePoint = this.codePoint;\r\n    for (var i = 0; i < octets.length; i += 1) {\r\n      var octet = octets[i];\r\n      if (bitsNeeded !== 0) {\r\n        if (octet < 128 || octet > 191 || !valid(codePoint << 6 | octet & 63, bitsNeeded - 6, octetsCount(bitsNeeded, codePoint))) {\r\n          bitsNeeded = 0;\r\n          codePoint = REPLACER;\r\n          string += String.fromCharCode(codePoint);\r\n        }\r\n      }\r\n      if (bitsNeeded === 0) {\r\n        if (octet >= 0 && octet <= 127) {\r\n          bitsNeeded = 0;\r\n          codePoint = octet;\r\n        } else if (octet >= 192 && octet <= 223) {\r\n          bitsNeeded = 6 * 1;\r\n          codePoint = octet & 31;\r\n        } else if (octet >= 224 && octet <= 239) {\r\n          bitsNeeded = 6 * 2;\r\n          codePoint = octet & 15;\r\n        } else if (octet >= 240 && octet <= 247) {\r\n          bitsNeeded = 6 * 3;\r\n          codePoint = octet & 7;\r\n        } else {\r\n          bitsNeeded = 0;\r\n          codePoint = REPLACER;\r\n        }\r\n        if (bitsNeeded !== 0 && !valid(codePoint, bitsNeeded, octetsCount(bitsNeeded, codePoint))) {\r\n          bitsNeeded = 0;\r\n          codePoint = REPLACER;\r\n        }\r\n      } else {\r\n        bitsNeeded -= 6;\r\n        codePoint = codePoint << 6 | octet & 63;\r\n      }\r\n      if (bitsNeeded === 0) {\r\n        if (codePoint <= 0xFFFF) {\r\n          string += String.fromCharCode(codePoint);\r\n        } else {\r\n          string += String.fromCharCode(0xD800 + (codePoint - 0xFFFF - 1 >> 10));\r\n          string += String.fromCharCode(0xDC00 + (codePoint - 0xFFFF - 1 & 0x3FF));\r\n        }\r\n      }\r\n    }\r\n    this.bitsNeeded = bitsNeeded;\r\n    this.codePoint = codePoint;\r\n    return string;\r\n  };\r\n\r\n  // Firefox < 38 throws an error with stream option\r\n  var supportsStreamOption = function () {\r\n    try {\r\n      return new TextDecoder().decode(new TextEncoder().encode(\"test\"), {stream: true}) === \"test\";\r\n    } catch (error) {\r\n      console.debug(\"TextDecoder does not support streaming option. Using polyfill instead: \" + error);\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // IE, Edge\r\n  if (TextDecoder == undefined || TextEncoder == undefined || !supportsStreamOption()) {\r\n    TextDecoder = TextDecoderPolyfill;\r\n  }\r\n\r\n  var k = function () {\r\n  };\r\n\r\n  function XHRWrapper(xhr) {\r\n    this.withCredentials = false;\r\n    this.readyState = 0;\r\n    this.status = 0;\r\n    this.statusText = \"\";\r\n    this.responseText = \"\";\r\n    this.onprogress = k;\r\n    this.onload = k;\r\n    this.onerror = k;\r\n    this.onreadystatechange = k;\r\n    this._contentType = \"\";\r\n    this._xhr = xhr;\r\n    this._sendTimeout = 0;\r\n    this._abort = k;\r\n  }\r\n\r\n  XHRWrapper.prototype.open = function (method, url) {\r\n    this._abort(true);\r\n\r\n    var that = this;\r\n    var xhr = this._xhr;\r\n    var state = 1;\r\n    var timeout = 0;\r\n\r\n    this._abort = function (silent) {\r\n      if (that._sendTimeout !== 0) {\r\n        clearTimeout(that._sendTimeout);\r\n        that._sendTimeout = 0;\r\n      }\r\n      if (state === 1 || state === 2 || state === 3) {\r\n        state = 4;\r\n        xhr.onload = k;\r\n        xhr.onerror = k;\r\n        xhr.onabort = k;\r\n        xhr.onprogress = k;\r\n        xhr.onreadystatechange = k;\r\n        // IE 8 - 9: XDomainRequest#abort() does not fire any event\r\n        // Opera < 10: XMLHttpRequest#abort() does not fire any event\r\n        xhr.abort();\r\n        if (timeout !== 0) {\r\n          clearTimeout(timeout);\r\n          timeout = 0;\r\n        }\r\n        if (!silent) {\r\n          that.readyState = 4;\r\n          that.onabort(null);\r\n          that.onreadystatechange();\r\n        }\r\n      }\r\n      state = 0;\r\n    };\r\n\r\n    var onStart = function () {\r\n      if (state === 1) {\r\n        //state = 2;\r\n        var status = 0;\r\n        var statusText = \"\";\r\n        var contentType = undefined;\r\n        if (!(\"contentType\" in xhr)) {\r\n          try {\r\n            status = xhr.status;\r\n            statusText = xhr.statusText;\r\n            contentType = xhr.getResponseHeader(\"Content-Type\");\r\n          } catch (error) {\r\n            // IE < 10 throws exception for `xhr.status` when xhr.readyState === 2 || xhr.readyState === 3\r\n            // Opera < 11 throws exception for `xhr.status` when xhr.readyState === 2\r\n            // https://bugs.webkit.org/show_bug.cgi?id=29121\r\n            status = 0;\r\n            statusText = \"\";\r\n            contentType = undefined;\r\n            // Firefox < 14, Chrome ?, Safari ?\r\n            // https://bugs.webkit.org/show_bug.cgi?id=29658\r\n            // https://bugs.webkit.org/show_bug.cgi?id=77854\r\n          }\r\n        } else {\r\n          status = 200;\r\n          statusText = \"OK\";\r\n          contentType = xhr.contentType;\r\n        }\r\n        if (status !== 0) {\r\n          state = 2;\r\n          that.readyState = 2;\r\n          that.status = status;\r\n          that.statusText = statusText;\r\n          that._contentType = contentType;\r\n          that.onreadystatechange();\r\n        }\r\n      }\r\n    };\r\n    var onProgress = function () {\r\n      onStart();\r\n      if (state === 2 || state === 3) {\r\n        state = 3;\r\n        var responseText = \"\";\r\n        try {\r\n          responseText = xhr.responseText;\r\n        } catch (error) {\r\n          // IE 8 - 9 with XMLHttpRequest\r\n        }\r\n        that.readyState = 3;\r\n        that.responseText = responseText;\r\n        that.onprogress();\r\n      }\r\n    };\r\n    var onFinish = function (type, event) {\r\n      if (event == null || event.preventDefault == null) {\r\n        event = {\r\n          preventDefault: k\r\n        };\r\n      }\r\n      // Firefox 52 fires \"readystatechange\" (xhr.readyState === 4) without final \"readystatechange\" (xhr.readyState === 3)\r\n      // IE 8 fires \"onload\" without \"onprogress\"\r\n      onProgress();\r\n      if (state === 1 || state === 2 || state === 3) {\r\n        state = 4;\r\n        if (timeout !== 0) {\r\n          clearTimeout(timeout);\r\n          timeout = 0;\r\n        }\r\n        that.readyState = 4;\r\n        if (type === \"load\") {\r\n          that.onload(event);\r\n        } else if (type === \"error\") {\r\n          that.onerror(event);\r\n        } else if (type === \"abort\") {\r\n          that.onabort(event);\r\n        } else {\r\n          throw new TypeError();\r\n        }\r\n        that.onreadystatechange();\r\n      }\r\n    };\r\n    var onReadyStateChange = function (event) {\r\n      if (xhr != undefined) { // Opera 12\r\n        if (xhr.readyState === 4) {\r\n          if (!(\"onload\" in xhr) || !(\"onerror\" in xhr) || !(\"onabort\" in xhr)) {\r\n            onFinish(xhr.responseText === \"\" ? \"error\" : \"load\", event);\r\n          }\r\n        } else if (xhr.readyState === 3) {\r\n          if (!(\"onprogress\" in xhr)) { // testing XMLHttpRequest#responseText too many times is too slow in IE 11\r\n            // and in Firefox 3.6\r\n            onProgress();\r\n          }\r\n        } else if (xhr.readyState === 2) {\r\n          onStart();\r\n        }\r\n      }\r\n    };\r\n    var onTimeout = function () {\r\n      timeout = setTimeout(function () {\r\n        onTimeout();\r\n      }, 500);\r\n      if (xhr.readyState === 3) {\r\n        onProgress();\r\n      }\r\n    };\r\n\r\n    // XDomainRequest#abort removes onprogress, onerror, onload\r\n    if (\"onload\" in xhr) {\r\n      xhr.onload = function (event) {\r\n        onFinish(\"load\", event);\r\n      };\r\n    }\r\n    if (\"onerror\" in xhr) {\r\n      xhr.onerror = function (event) {\r\n        onFinish(\"error\", event);\r\n      };\r\n    }\r\n    // improper fix to match Firefox behaviour, but it is better than just ignore abort\r\n    // see https://bugzilla.mozilla.org/show_bug.cgi?id=768596\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=880200\r\n    // https://code.google.com/p/chromium/issues/detail?id=153570\r\n    // IE 8 fires \"onload\" without \"onprogress\r\n    if (\"onabort\" in xhr) {\r\n      xhr.onabort = function (event) {\r\n        onFinish(\"abort\", event);\r\n      };\r\n    }\r\n\r\n    if (\"onprogress\" in xhr) {\r\n      xhr.onprogress = onProgress;\r\n    }\r\n\r\n    // IE 8 - 9 (XMLHTTPRequest)\r\n    // Opera < 12\r\n    // Firefox < 3.5\r\n    // Firefox 3.5 - 3.6 - ? < 9.0\r\n    // onprogress is not fired sometimes or delayed\r\n    // see also #64 (significant lag in IE 11)\r\n    if (\"onreadystatechange\" in xhr) {\r\n      xhr.onreadystatechange = function (event) {\r\n        onReadyStateChange(event);\r\n      };\r\n    }\r\n\r\n    if (\"contentType\" in xhr || !(\"ontimeout\" in XMLHttpRequest.prototype)) {\r\n      url += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + \"padding=true\";\r\n    }\r\n    xhr.open(method, url, true);\r\n\r\n    if (\"readyState\" in xhr) {\r\n      // workaround for Opera 12 issue with \"progress\" events\r\n      // #91 (XMLHttpRequest onprogress not fired for streaming response in Edge 14-15-?)\r\n      timeout = setTimeout(function () {\r\n        onTimeout();\r\n      }, 0);\r\n    }\r\n  };\r\n  XHRWrapper.prototype.abort = function () {\r\n    this._abort(false);\r\n  };\r\n  XHRWrapper.prototype.getResponseHeader = function (name) {\r\n    return this._contentType;\r\n  };\r\n  XHRWrapper.prototype.setRequestHeader = function (name, value) {\r\n    var xhr = this._xhr;\r\n    if (\"setRequestHeader\" in xhr) {\r\n      xhr.setRequestHeader(name, value);\r\n    }\r\n  };\r\n  XHRWrapper.prototype.getAllResponseHeaders = function () {\r\n    // XMLHttpRequest#getAllResponseHeaders returns null for CORS requests in Firefox 3.6.28\r\n    return this._xhr.getAllResponseHeaders != undefined ? this._xhr.getAllResponseHeaders() || \"\" : \"\";\r\n  };\r\n  XHRWrapper.prototype.send = function () {\r\n    // loading indicator in Safari < ? (6), Chrome < 14, Firefox\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=736723\r\n    if ((!(\"ontimeout\" in XMLHttpRequest.prototype) || (!(\"sendAsBinary\" in XMLHttpRequest.prototype) && !(\"mozAnon\" in XMLHttpRequest.prototype))) &&\r\n        document != undefined &&\r\n        document.readyState != undefined &&\r\n        document.readyState !== \"complete\") {\r\n      var that = this;\r\n      that._sendTimeout = setTimeout(function () {\r\n        that._sendTimeout = 0;\r\n        that.send();\r\n      }, 4);\r\n      return;\r\n    }\r\n\r\n    var xhr = this._xhr;\r\n    // withCredentials should be set after \"open\" for Safari and Chrome (< 19 ?)\r\n    if (\"withCredentials\" in xhr) {\r\n      xhr.withCredentials = this.withCredentials;\r\n    }\r\n    try {\r\n      // xhr.send(); throws \"Not enough arguments\" in Firefox 3.0\r\n      xhr.send(undefined);\r\n    } catch (error1) {\r\n      // Safari 5.1.7, Opera 12\r\n      throw error1;\r\n    }\r\n  };\r\n\r\n  function toLowerCase(name) {\r\n    return name.replace(/[A-Z]/g, function (c) {\r\n      return String.fromCharCode(c.charCodeAt(0) + 0x20);\r\n    });\r\n  }\r\n\r\n  function HeadersPolyfill(all) {\r\n    // Get headers: implemented according to mozilla's example code: https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/getAllResponseHeaders#Example\r\n    var map = Object.create(null);\r\n    var array = all.split(\"\\r\\n\");\r\n    for (var i = 0; i < array.length; i += 1) {\r\n      var line = array[i];\r\n      var parts = line.split(\": \");\r\n      var name = parts.shift();\r\n      var value = parts.join(\": \");\r\n      map[toLowerCase(name)] = value;\r\n    }\r\n    this._map = map;\r\n  }\r\n  HeadersPolyfill.prototype.get = function (name) {\r\n    return this._map[toLowerCase(name)];\r\n  };\r\n\r\n  if (XMLHttpRequest != null && XMLHttpRequest.HEADERS_RECEIVED == null) { // IE < 9, Firefox 3.6\r\n    XMLHttpRequest.HEADERS_RECEIVED = 2;\r\n  }\r\n\r\n  function XHRTransport() {\r\n  }\r\n\r\n  XHRTransport.prototype.open = function (xhr, onStartCallback, onProgressCallback, onFinishCallback, url, withCredentials, headers) {\r\n    xhr.open(\"GET\", url);\r\n    var offset = 0;\r\n    xhr.onprogress = function () {\r\n      var responseText = xhr.responseText;\r\n      var chunk = responseText.slice(offset);\r\n      offset += chunk.length;\r\n      onProgressCallback(chunk);\r\n    };\r\n    xhr.onerror = function (event) {\r\n      event.preventDefault();\r\n      onFinishCallback(new Error(\"NetworkError\"));\r\n    };\r\n    xhr.onload = function () {\r\n      onFinishCallback(null);\r\n    };\r\n    xhr.onabort = function () {\r\n      onFinishCallback(null);\r\n    };\r\n    xhr.onreadystatechange = function () {\r\n      if (xhr.readyState === XMLHttpRequest.HEADERS_RECEIVED) {\r\n        var status = xhr.status;\r\n        var statusText = xhr.statusText;\r\n        var contentType = xhr.getResponseHeader(\"Content-Type\");\r\n        var headers = xhr.getAllResponseHeaders();\r\n        onStartCallback(status, statusText, contentType, new HeadersPolyfill(headers));\r\n      }\r\n    };\r\n    xhr.withCredentials = withCredentials;\r\n    for (var name in headers) {\r\n      if (Object.prototype.hasOwnProperty.call(headers, name)) {\r\n        xhr.setRequestHeader(name, headers[name]);\r\n      }\r\n    }\r\n    xhr.send();\r\n    return xhr;\r\n  };\r\n\r\n  function HeadersWrapper(headers) {\r\n    this._headers = headers;\r\n  }\r\n  HeadersWrapper.prototype.get = function (name) {\r\n    return this._headers.get(name);\r\n  };\r\n\r\n  function FetchTransport() {\r\n  }\r\n\r\n  FetchTransport.prototype.open = function (xhr, onStartCallback, onProgressCallback, onFinishCallback, url, withCredentials, headers) {\r\n    var reader = null;\r\n    var controller = new AbortController();\r\n    var signal = controller.signal;\r\n    var textDecoder = new TextDecoder();\r\n    fetch(url, {\r\n      headers: headers,\r\n      credentials: withCredentials ? \"include\" : \"same-origin\",\r\n      signal: signal,\r\n      cache: \"no-store\"\r\n    }).then(function (response) {\r\n      reader = response.body.getReader();\r\n      onStartCallback(response.status, response.statusText, response.headers.get(\"Content-Type\"), new HeadersWrapper(response.headers));\r\n      // see https://github.com/promises-aplus/promises-spec/issues/179\r\n      return new Promise(function (resolve, reject) {\r\n        var readNextChunk = function () {\r\n          reader.read().then(function (result) {\r\n            if (result.done) {\r\n              //Note: bytes in textDecoder are ignored\r\n              resolve(undefined);\r\n            } else {\r\n              var chunk = textDecoder.decode(result.value, {stream: true});\r\n              onProgressCallback(chunk);\r\n              readNextChunk();\r\n            }\r\n          })[\"catch\"](function (error) {\r\n            reject(error);\r\n          });\r\n        };\r\n        readNextChunk();\r\n      });\r\n    })[\"catch\"](function (error) {\r\n      if (error.name === \"AbortError\") {\r\n        return undefined;\r\n      } else {\r\n        return error;\r\n      }\r\n    }).then(function (error) {\r\n      onFinishCallback(error);\r\n    });\r\n    return {\r\n      abort: function () {\r\n        if (reader != null) {\r\n          reader.cancel(); // https://bugzilla.mozilla.org/show_bug.cgi?id=1583815\r\n        }\r\n        controller.abort();\r\n      }\r\n    };\r\n  };\r\n\r\n  function EventTarget() {\r\n    this._listeners = Object.create(null);\r\n  }\r\n\r\n  function throwError(e) {\r\n    setTimeout(function () {\r\n      throw e;\r\n    }, 0);\r\n  }\r\n\r\n  EventTarget.prototype.dispatchEvent = function (event) {\r\n    event.target = this;\r\n    var typeListeners = this._listeners[event.type];\r\n    if (typeListeners != undefined) {\r\n      var length = typeListeners.length;\r\n      for (var i = 0; i < length; i += 1) {\r\n        var listener = typeListeners[i];\r\n        try {\r\n          if (typeof listener.handleEvent === \"function\") {\r\n            listener.handleEvent(event);\r\n          } else {\r\n            listener.call(this, event);\r\n          }\r\n        } catch (e) {\r\n          throwError(e);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  EventTarget.prototype.addEventListener = function (type, listener) {\r\n    type = String(type);\r\n    var listeners = this._listeners;\r\n    var typeListeners = listeners[type];\r\n    if (typeListeners == undefined) {\r\n      typeListeners = [];\r\n      listeners[type] = typeListeners;\r\n    }\r\n    var found = false;\r\n    for (var i = 0; i < typeListeners.length; i += 1) {\r\n      if (typeListeners[i] === listener) {\r\n        found = true;\r\n      }\r\n    }\r\n    if (!found) {\r\n      typeListeners.push(listener);\r\n    }\r\n  };\r\n  EventTarget.prototype.removeEventListener = function (type, listener) {\r\n    type = String(type);\r\n    var listeners = this._listeners;\r\n    var typeListeners = listeners[type];\r\n    if (typeListeners != undefined) {\r\n      var filtered = [];\r\n      for (var i = 0; i < typeListeners.length; i += 1) {\r\n        if (typeListeners[i] !== listener) {\r\n          filtered.push(typeListeners[i]);\r\n        }\r\n      }\r\n      if (filtered.length === 0) {\r\n        delete listeners[type];\r\n      } else {\r\n        listeners[type] = filtered;\r\n      }\r\n    }\r\n  };\r\n\r\n  function Event(type) {\r\n    this.type = type;\r\n    this.target = undefined;\r\n  }\r\n\r\n  function MessageEvent(type, options) {\r\n    Event.call(this, type);\r\n    this.data = options.data;\r\n    this.lastEventId = options.lastEventId;\r\n  }\r\n\r\n  MessageEvent.prototype = Object.create(Event.prototype);\r\n\r\n  function ConnectionEvent(type, options) {\r\n    Event.call(this, type);\r\n    this.status = options.status;\r\n    this.statusText = options.statusText;\r\n    this.headers = options.headers;\r\n  }\r\n\r\n  ConnectionEvent.prototype = Object.create(Event.prototype);\r\n\r\n  function ErrorEvent(type, options) {\r\n    Event.call(this, type);\r\n    this.error = options.error;\r\n  }\r\n\r\n  ErrorEvent.prototype = Object.create(Event.prototype);\r\n\r\n  var WAITING = -1;\r\n  var CONNECTING = 0;\r\n  var OPEN = 1;\r\n  var CLOSED = 2;\r\n\r\n  var AFTER_CR = -1;\r\n  var FIELD_START = 0;\r\n  var FIELD = 1;\r\n  var VALUE_START = 2;\r\n  var VALUE = 3;\r\n\r\n  var contentTypeRegExp = /^text\\/event\\-stream(;.*)?$/i;\r\n\r\n  var MINIMUM_DURATION = 1000;\r\n  var MAXIMUM_DURATION = 18000000;\r\n\r\n  var parseDuration = function (value, def) {\r\n    var n = value == null ? def : parseInt(value, 10);\r\n    if (n !== n) {\r\n      n = def;\r\n    }\r\n    return clampDuration(n);\r\n  };\r\n  var clampDuration = function (n) {\r\n    return Math.min(Math.max(n, MINIMUM_DURATION), MAXIMUM_DURATION);\r\n  };\r\n\r\n  var fire = function (that, f, event) {\r\n    try {\r\n      if (typeof f === \"function\") {\r\n        f.call(that, event);\r\n      }\r\n    } catch (e) {\r\n      throwError(e);\r\n    }\r\n  };\r\n\r\n  function EventSourcePolyfill(url, options) {\r\n    EventTarget.call(this);\r\n    options = options || {};\r\n\r\n    this.onopen = undefined;\r\n    this.onmessage = undefined;\r\n    this.onerror = undefined;\r\n\r\n    this.url = undefined;\r\n    this.readyState = undefined;\r\n    this.withCredentials = undefined;\r\n    this.headers = undefined;\r\n\r\n    this._close = undefined;\r\n\r\n    start(this, url, options);\r\n  }\r\n\r\n  function getBestXHRTransport() {\r\n    return (XMLHttpRequest != undefined && (\"withCredentials\" in XMLHttpRequest.prototype)) || XDomainRequest == undefined\r\n        ? new XMLHttpRequest()\r\n        : new XDomainRequest();\r\n  }\r\n\r\n  var isFetchSupported = fetch != undefined && Response != undefined && \"body\" in Response.prototype;\r\n\r\n  function start(es, url, options) {\r\n    url = String(url);\r\n    var withCredentials = Boolean(options.withCredentials);\r\n    var lastEventIdQueryParameterName = options.lastEventIdQueryParameterName || \"lastEventId\";\r\n\r\n    var initialRetry = clampDuration(1000);\r\n    var heartbeatTimeout = parseDuration(options.heartbeatTimeout, 45000);\r\n\r\n    var lastEventId = \"\";\r\n    var retry = initialRetry;\r\n    var wasActivity = false;\r\n    var textLength = 0;\r\n    var headers = options.headers || {};\r\n    var TransportOption = options.Transport;\r\n    var xhr = isFetchSupported && TransportOption == undefined ? undefined : new XHRWrapper(TransportOption != undefined ? new TransportOption() : getBestXHRTransport());\r\n    var transport = TransportOption != null && typeof TransportOption !== \"string\" ? new TransportOption() : (xhr == undefined ? new FetchTransport() : new XHRTransport());\r\n    var abortController = undefined;\r\n    var timeout = 0;\r\n    var currentState = WAITING;\r\n    var dataBuffer = \"\";\r\n    var lastEventIdBuffer = \"\";\r\n    var eventTypeBuffer = \"\";\r\n\r\n    var textBuffer = \"\";\r\n    var state = FIELD_START;\r\n    var fieldStart = 0;\r\n    var valueStart = 0;\r\n\r\n    var onStart = function (status, statusText, contentType, headers) {\r\n      if (currentState === CONNECTING) {\r\n        if (status === 200 && contentType != undefined && contentTypeRegExp.test(contentType)) {\r\n          currentState = OPEN;\r\n          wasActivity = Date.now();\r\n          retry = initialRetry;\r\n          es.readyState = OPEN;\r\n          var event = new ConnectionEvent(\"open\", {\r\n            status: status,\r\n            statusText: statusText,\r\n            headers: headers\r\n          });\r\n          es.dispatchEvent(event);\r\n          fire(es, es.onopen, event);\r\n        } else {\r\n          var message = \"\";\r\n          if (status !== 200) {\r\n            if (statusText) {\r\n              statusText = statusText.replace(/\\s+/g, \" \");\r\n            }\r\n            message = \"EventSource's response has a status \" + status + \" \" + statusText + \" that is not 200. Aborting the connection.\";\r\n          } else {\r\n            message = \"EventSource's response has a Content-Type specifying an unsupported type: \" + (contentType == undefined ? \"-\" : contentType.replace(/\\s+/g, \" \")) + \". Aborting the connection.\";\r\n          }\r\n          close();\r\n          var event = new ConnectionEvent(\"error\", {\r\n            status: status,\r\n            statusText: statusText,\r\n            headers: headers\r\n          });\r\n          es.dispatchEvent(event);\r\n          fire(es, es.onerror, event);\r\n          console.error(message);\r\n        }\r\n      }\r\n    };\r\n\r\n    var onProgress = function (textChunk) {\r\n      if (currentState === OPEN) {\r\n        var n = -1;\r\n        for (var i = 0; i < textChunk.length; i += 1) {\r\n          var c = textChunk.charCodeAt(i);\r\n          if (c === \"\\n\".charCodeAt(0) || c === \"\\r\".charCodeAt(0)) {\r\n            n = i;\r\n          }\r\n        }\r\n        var chunk = (n !== -1 ? textBuffer : \"\") + textChunk.slice(0, n + 1);\r\n        textBuffer = (n === -1 ? textBuffer : \"\") + textChunk.slice(n + 1);\r\n        if (textChunk !== \"\") {\r\n          wasActivity = Date.now();\r\n          textLength += textChunk.length;\r\n        }\r\n        for (var position = 0; position < chunk.length; position += 1) {\r\n          var c = chunk.charCodeAt(position);\r\n          if (state === AFTER_CR && c === \"\\n\".charCodeAt(0)) {\r\n            state = FIELD_START;\r\n          } else {\r\n            if (state === AFTER_CR) {\r\n              state = FIELD_START;\r\n            }\r\n            if (c === \"\\r\".charCodeAt(0) || c === \"\\n\".charCodeAt(0)) {\r\n              if (state !== FIELD_START) {\r\n                if (state === FIELD) {\r\n                  valueStart = position + 1;\r\n                }\r\n                var field = chunk.slice(fieldStart, valueStart - 1);\r\n                var value = chunk.slice(valueStart + (valueStart < position && chunk.charCodeAt(valueStart) === \" \".charCodeAt(0) ? 1 : 0), position);\r\n                if (field === \"data\") {\r\n                  dataBuffer += \"\\n\";\r\n                  dataBuffer += value;\r\n                } else if (field === \"id\") {\r\n                  lastEventIdBuffer = value;\r\n                } else if (field === \"event\") {\r\n                  eventTypeBuffer = value;\r\n                } else if (field === \"retry\") {\r\n                  initialRetry = parseDuration(value, initialRetry);\r\n                  retry = initialRetry;\r\n                } else if (field === \"heartbeatTimeout\") {\r\n                  heartbeatTimeout = parseDuration(value, heartbeatTimeout);\r\n                  if (timeout !== 0) {\r\n                    clearTimeout(timeout);\r\n                    timeout = setTimeout(function () {\r\n                      onTimeout();\r\n                    }, heartbeatTimeout);\r\n                  }\r\n                }\r\n              }\r\n              if (state === FIELD_START) {\r\n                if (dataBuffer !== \"\") {\r\n                  lastEventId = lastEventIdBuffer;\r\n                  if (eventTypeBuffer === \"\") {\r\n                    eventTypeBuffer = \"message\";\r\n                  }\r\n                  var event = new MessageEvent(eventTypeBuffer, {\r\n                    data: dataBuffer.slice(1),\r\n                    lastEventId: lastEventIdBuffer\r\n                  });\r\n                  es.dispatchEvent(event);\r\n                  if (eventTypeBuffer === \"open\") {\r\n                    fire(es, es.onopen, event);\r\n                  } else if (eventTypeBuffer === \"message\") {\r\n                    fire(es, es.onmessage, event);\r\n                  } else if (eventTypeBuffer === \"error\") {\r\n                    fire(es, es.onerror, event);\r\n                  }\r\n                  if (currentState === CLOSED) {\r\n                    return;\r\n                  }\r\n                }\r\n                dataBuffer = \"\";\r\n                eventTypeBuffer = \"\";\r\n              }\r\n              state = c === \"\\r\".charCodeAt(0) ? AFTER_CR : FIELD_START;\r\n            } else {\r\n              if (state === FIELD_START) {\r\n                fieldStart = position;\r\n                state = FIELD;\r\n              }\r\n              if (state === FIELD) {\r\n                if (c === \":\".charCodeAt(0)) {\r\n                  valueStart = position + 1;\r\n                  state = VALUE_START;\r\n                }\r\n              } else if (state === VALUE_START) {\r\n                state = VALUE;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    var onFinish = function (error) {\r\n      if (currentState === OPEN || currentState === CONNECTING) {\r\n        currentState = WAITING;\r\n        if (timeout !== 0) {\r\n          clearTimeout(timeout);\r\n          timeout = 0;\r\n        }\r\n        timeout = setTimeout(function () {\r\n          onTimeout();\r\n        }, retry);\r\n        retry = clampDuration(Math.min(initialRetry * 16, retry * 2));\r\n\r\n        es.readyState = CONNECTING;\r\n        var event = new ErrorEvent(\"error\", {error: error});\r\n        es.dispatchEvent(event);\r\n        fire(es, es.onerror, event);\r\n        if (error != undefined) {\r\n          console.error(error);\r\n        }\r\n      }\r\n    };\r\n\r\n    var close = function () {\r\n      currentState = CLOSED;\r\n      if (abortController != undefined) {\r\n        abortController.abort();\r\n        abortController = undefined;\r\n      }\r\n      if (timeout !== 0) {\r\n        clearTimeout(timeout);\r\n        timeout = 0;\r\n      }\r\n      es.readyState = CLOSED;\r\n    };\r\n\r\n    var onTimeout = function () {\r\n      timeout = 0;\r\n\r\n      if (currentState !== WAITING) {\r\n        if (!wasActivity && abortController != undefined) {\r\n          onFinish(new Error(\"No activity within \" + heartbeatTimeout + \" milliseconds.\" + \" \" + (currentState === CONNECTING ? \"No response received.\" : textLength + \" chars received.\") + \" \" + \"Reconnecting.\"));\r\n          if (abortController != undefined) {\r\n            abortController.abort();\r\n            abortController = undefined;\r\n          }\r\n        } else {\r\n          var nextHeartbeat = Math.max((wasActivity || Date.now()) + heartbeatTimeout - Date.now(), 1);\r\n          wasActivity = false;\r\n          timeout = setTimeout(function () {\r\n            onTimeout();\r\n          }, nextHeartbeat);\r\n        }\r\n        return;\r\n      }\r\n\r\n      wasActivity = false;\r\n      textLength = 0;\r\n      timeout = setTimeout(function () {\r\n        onTimeout();\r\n      }, heartbeatTimeout);\r\n\r\n      currentState = CONNECTING;\r\n      dataBuffer = \"\";\r\n      eventTypeBuffer = \"\";\r\n      lastEventIdBuffer = lastEventId;\r\n      textBuffer = \"\";\r\n      fieldStart = 0;\r\n      valueStart = 0;\r\n      state = FIELD_START;\r\n\r\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=428916\r\n      // Request header field Last-Event-ID is not allowed by Access-Control-Allow-Headers.\r\n      var requestURL = url;\r\n      if (url.slice(0, 5) !== \"data:\" && url.slice(0, 5) !== \"blob:\") {\r\n        if (lastEventId !== \"\") {\r\n          // Remove the lastEventId parameter if it's already part of the request URL.\r\n          var i = url.indexOf(\"?\");\r\n          requestURL = i === -1 ? url : url.slice(0, i + 1) + url.slice(i + 1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g, function (p, paramName) {\r\n            return paramName === lastEventIdQueryParameterName ? '' : p;\r\n          });\r\n          // Append the current lastEventId to the request URL.\r\n          requestURL += (url.indexOf(\"?\") === -1 ? \"?\" : \"&\") + lastEventIdQueryParameterName +\"=\" + encodeURIComponent(lastEventId);\r\n        }\r\n      }\r\n      var withCredentials = es.withCredentials;\r\n      var requestHeaders = {};\r\n      requestHeaders[\"Accept\"] = \"text/event-stream\";\r\n      var headers = es.headers;\r\n      if (headers != undefined) {\r\n        for (var name in headers) {\r\n          if (Object.prototype.hasOwnProperty.call(headers, name)) {\r\n            requestHeaders[name] = headers[name];\r\n          }\r\n        }\r\n      }\r\n      try {\r\n        abortController = transport.open(xhr, onStart, onProgress, onFinish, requestURL, withCredentials, requestHeaders);\r\n      } catch (error) {\r\n        close();\r\n        throw error;\r\n      }\r\n    };\r\n\r\n    es.url = url;\r\n    es.readyState = CONNECTING;\r\n    es.withCredentials = withCredentials;\r\n    es.headers = headers;\r\n    es._close = close;\r\n\r\n    onTimeout();\r\n  }\r\n\r\n  EventSourcePolyfill.prototype = Object.create(EventTarget.prototype);\r\n  EventSourcePolyfill.prototype.CONNECTING = CONNECTING;\r\n  EventSourcePolyfill.prototype.OPEN = OPEN;\r\n  EventSourcePolyfill.prototype.CLOSED = CLOSED;\r\n  EventSourcePolyfill.prototype.close = function () {\r\n    this._close();\r\n  };\r\n\r\n  EventSourcePolyfill.CONNECTING = CONNECTING;\r\n  EventSourcePolyfill.OPEN = OPEN;\r\n  EventSourcePolyfill.CLOSED = CLOSED;\r\n  EventSourcePolyfill.prototype.withCredentials = undefined;\r\n\r\n  var R = NativeEventSource\r\n  if (XMLHttpRequest != undefined && (NativeEventSource == undefined || !(\"withCredentials\" in NativeEventSource.prototype))) {\r\n    // Why replace a native EventSource ?\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=444328\r\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=831392\r\n    // https://code.google.com/p/chromium/issues/detail?id=260144\r\n    // https://code.google.com/p/chromium/issues/detail?id=225654\r\n    // ...\r\n    R = EventSourcePolyfill;\r\n  }\r\n\r\n  (function (factory) {\r\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\r\n      var v = factory(exports);\r\n      if (v !== undefined) module.exports = v;\r\n    }\r\n    else if (typeof define === \"function\" && define.amd) {\r\n      define([\"exports\"], factory);\r\n    }\r\n    else {\r\n      factory(global);\r\n    }\r\n  })(function (exports) {\r\n    exports.EventSourcePolyfill = EventSourcePolyfill;\r\n    exports.NativeEventSource = NativeEventSource;\r\n    exports.EventSource = R;\r\n  });\r\n}(typeof globalThis === 'undefined' ? (typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : this) : globalThis));\r\n","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar __toString = Object.prototype.toString\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var dec = opt.decode || decode;\n\n  var index = 0\n  while (index < str.length) {\n    var eqIdx = str.indexOf('=', index)\n\n    // no more cookie pairs\n    if (eqIdx === -1) {\n      break\n    }\n\n    var endIdx = str.indexOf(';', index)\n\n    if (endIdx === -1) {\n      endIdx = str.length\n    } else if (endIdx < eqIdx) {\n      // backtrack on prior semicolon\n      index = str.lastIndexOf(';', eqIdx - 1) + 1\n      continue\n    }\n\n    var key = str.slice(index, eqIdx).trim()\n\n    // only assign once\n    if (undefined === obj[key]) {\n      var val = str.slice(eqIdx + 1, endIdx).trim()\n\n      // quoted values\n      if (val.charCodeAt(0) === 0x22) {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n\n    index = endIdx + 1\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    var expires = opt.expires\n\n    if (!isDate(expires) || isNaN(expires.valueOf())) {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + expires.toUTCString()\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.priority) {\n    var priority = typeof opt.priority === 'string'\n      ? opt.priority.toLowerCase()\n      : opt.priority\n\n    switch (priority) {\n      case 'low':\n        str += '; Priority=Low'\n        break\n      case 'medium':\n        str += '; Priority=Medium'\n        break\n      case 'high':\n        str += '; Priority=High'\n        break\n      default:\n        throw new TypeError('option priority is invalid')\n    }\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * URL-decode string value. Optimized to skip native call when no %.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction decode (str) {\n  return str.indexOf('%') !== -1\n    ? decodeURIComponent(str)\n    : str\n}\n\n/**\n * URL-encode value.\n *\n * @param {string} str\n * @returns {string}\n */\n\nfunction encode (val) {\n  return encodeURIComponent(val)\n}\n\n/**\n * Determine if value is a Date.\n *\n * @param {*} val\n * @private\n */\n\nfunction isDate (val) {\n  return __toString.call(val) === '[object Date]' ||\n    val instanceof Date\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","const isReactNative = typeof navigator === \"undefined\" ? false : navigator.product === \"ReactNative\";\nconst defaultOptions = {\n  timeout: isReactNative ? 6e4 : 12e4\n};\nfunction processOptions(opts) {\n  const options = typeof opts === \"string\" ? Object.assign({\n    url: opts\n  }, defaultOptions) : Object.assign({}, defaultOptions, opts);\n  const url = new URL(options.url, \"http://localhost\");\n  options.timeout = normalizeTimeout(options.timeout);\n  if (options.query) {\n    for (const [key, value] of Object.entries(options.query)) {\n      if (value !== void 0) {\n        if (Array.isArray(value)) {\n          for (const v of value) {\n            url.searchParams.append(key, v);\n          }\n        } else {\n          url.searchParams.append(key, value);\n        }\n      }\n    }\n  }\n  options.method = options.body && !options.method ? \"POST\" : (options.method || \"GET\").toUpperCase();\n  options.url = url.origin === \"http://localhost\" ? \"\".concat(url.pathname, \"?\").concat(url.searchParams) : url.toString();\n  return options;\n}\nfunction normalizeTimeout(time) {\n  if (time === false || time === 0) {\n    return false;\n  }\n  if (time.connect || time.socket) {\n    return time;\n  }\n  const delay = Number(time);\n  if (isNaN(delay)) {\n    return normalizeTimeout(defaultOptions.timeout);\n  }\n  return {\n    connect: delay,\n    socket: delay\n  };\n}\nconst validUrl = /^https?:\\/\\//i;\nfunction validateOptions(options) {\n  if (!validUrl.test(options.url)) {\n    throw new Error(\"\\\"\".concat(options.url, \"\\\" is not a valid URL\"));\n  }\n}\nexport { processOptions, validateOptions };\n//# sourceMappingURL=defaultOptionsValidator-4ba94809.js.map\n","import { processOptions, validateOptions } from './_chunks/defaultOptionsValidator-4ba94809.js';\nimport parseHeaders from 'parse-headers';\nvar middlewareReducer = middleware => {\n  const applyMiddleware = function (hook, defaultValue) {\n    const bailEarly = hook === \"onError\";\n    let value = defaultValue;\n    for (var _len = arguments.length, args = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n    for (let i = 0; i < middleware[hook].length; i++) {\n      const handler = middleware[hook][i];\n      value = handler(value, ...args);\n      if (bailEarly && !value) {\n        break;\n      }\n    }\n    return value;\n  };\n  return applyMiddleware;\n};\nfunction createPubSub() {\n  const subscribers = /* @__PURE__ */Object.create(null);\n  let nextId = 0;\n  function subscribe(subscriber) {\n    const id = nextId++;\n    subscribers[id] = subscriber;\n    return function unsubscribe() {\n      delete subscribers[id];\n    };\n  }\n  function publish(event) {\n    for (const id in subscribers) {\n      subscribers[id](event);\n    }\n  }\n  return {\n    publish,\n    subscribe\n  };\n}\nconst channelNames = [\"request\", \"response\", \"progress\", \"error\", \"abort\"];\nconst middlehooks = [\"processOptions\", \"validateOptions\", \"interceptRequest\", \"finalizeOptions\", \"onRequest\", \"onResponse\", \"onError\", \"onReturn\", \"onHeaders\"];\nfunction createRequester(initMiddleware, httpRequest) {\n  const loadedMiddleware = [];\n  const middleware = middlehooks.reduce((ware, name) => {\n    ware[name] = ware[name] || [];\n    return ware;\n  }, {\n    processOptions: [processOptions],\n    validateOptions: [validateOptions]\n  });\n  function request(opts) {\n    const channels = channelNames.reduce((target, name) => {\n      target[name] = createPubSub();\n      return target;\n    }, {});\n    const applyMiddleware = middlewareReducer(middleware);\n    const options = applyMiddleware(\"processOptions\", opts);\n    applyMiddleware(\"validateOptions\", options);\n    const context = {\n      options,\n      channels,\n      applyMiddleware\n    };\n    let ongoingRequest = null;\n    const unsubscribe = channels.request.subscribe(ctx => {\n      ongoingRequest = httpRequest(ctx, (err, res) => onResponse(err, res, ctx));\n    });\n    channels.abort.subscribe(() => {\n      unsubscribe();\n      if (ongoingRequest) {\n        ongoingRequest.abort();\n      }\n    });\n    const returnValue = applyMiddleware(\"onReturn\", channels, context);\n    if (returnValue === channels) {\n      channels.request.publish(context);\n    }\n    return returnValue;\n    function onResponse(reqErr, res, ctx) {\n      let error = reqErr;\n      let response = res;\n      if (!error) {\n        try {\n          response = applyMiddleware(\"onResponse\", res, ctx);\n        } catch (err) {\n          response = null;\n          error = err;\n        }\n      }\n      error = error && applyMiddleware(\"onError\", error, ctx);\n      if (error) {\n        channels.error.publish(error);\n      } else if (response) {\n        channels.response.publish(response);\n      }\n    }\n  }\n  request.use = function use(newMiddleware) {\n    if (!newMiddleware) {\n      throw new Error(\"Tried to add middleware that resolved to falsey value\");\n    }\n    if (typeof newMiddleware === \"function\") {\n      throw new Error(\"Tried to add middleware that was a function. It probably expects you to pass options to it.\");\n    }\n    if (newMiddleware.onReturn && middleware.onReturn.length > 0) {\n      throw new Error(\"Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event\");\n    }\n    middlehooks.forEach(key => {\n      if (newMiddleware[key]) {\n        middleware[key].push(newMiddleware[key]);\n      }\n    });\n    loadedMiddleware.push(newMiddleware);\n    return request;\n  };\n  request.clone = function clone() {\n    return createRequester(loadedMiddleware, httpRequest);\n  };\n  initMiddleware.forEach(request.use);\n  return request;\n}\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _method, _url, _resHeaders, _headers, _controller;\nclass FetchXhr {\n  constructor() {\n    /**\n     * https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/readyState\n     */\n    this.readyState = 0;\n    /**\n     * Private implementation details\n     */\n    __privateAdd(this, _method, void 0);\n    __privateAdd(this, _url, void 0);\n    __privateAdd(this, _resHeaders, void 0);\n    __privateAdd(this, _headers, {});\n    __privateAdd(this, _controller, void 0);\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars -- _async is only declared for typings compatibility\n  open(method, url, _async) {\n    __privateSet(this, _method, method);\n    __privateSet(this, _url, url);\n    __privateSet(this, _resHeaders, \"\");\n    this.readyState = 1;\n    this.onreadystatechange();\n    __privateSet(this, _controller, void 0);\n  }\n  abort() {\n    if (__privateGet(this, _controller)) {\n      __privateGet(this, _controller).abort();\n    }\n  }\n  getAllResponseHeaders() {\n    return __privateGet(this, _resHeaders);\n  }\n  setRequestHeader(name, value) {\n    __privateGet(this, _headers)[name] = value;\n  }\n  send(body) {\n    const textBody = this.responseType !== \"arraybuffer\";\n    const options = {\n      method: __privateGet(this, _method),\n      headers: __privateGet(this, _headers),\n      signal: null,\n      body\n    };\n    if (typeof AbortController === \"function\") {\n      __privateSet(this, _controller, new AbortController());\n      options.signal = __privateGet(this, _controller).signal;\n    }\n    if (typeof document !== \"undefined\") {\n      options.credentials = this.withCredentials ? \"include\" : \"omit\";\n    }\n    fetch(__privateGet(this, _url), options).then(res => {\n      res.headers.forEach((value, key) => {\n        __privateSet(this, _resHeaders, __privateGet(this, _resHeaders) + \"\".concat(key, \": \").concat(value, \"\\r\\n\"));\n      });\n      this.status = res.status;\n      this.statusText = res.statusText;\n      this.readyState = 3;\n      return textBody ? res.text() : res.arrayBuffer();\n    }).then(resBody => {\n      if (typeof resBody === \"string\") {\n        this.responseText = resBody;\n      } else {\n        this.response = resBody;\n      }\n      this.readyState = 4;\n      this.onreadystatechange();\n    }).catch(err => {\n      var _a;\n      if (err.name === \"AbortError\") {\n        this.onabort();\n        return;\n      }\n      (_a = this.onerror) == null ? void 0 : _a.call(this, err);\n    });\n  }\n}\n_method = new WeakMap();\n_url = new WeakMap();\n_resHeaders = new WeakMap();\n_headers = new WeakMap();\n_controller = new WeakMap();\nconst adapter = typeof XMLHttpRequest === \"function\" ? \"xhr\" : \"fetch\";\nconst XmlHttpRequest = adapter === \"xhr\" ? XMLHttpRequest : FetchXhr;\nvar httpRequester = (context, callback) => {\n  const opts = context.options;\n  const options = context.applyMiddleware(\"finalizeOptions\", opts);\n  const timers = {};\n  const injectedResponse = context.applyMiddleware(\"interceptRequest\", void 0, {\n    adapter,\n    context\n  });\n  if (injectedResponse) {\n    const cbTimer = setTimeout(callback, 0, null, injectedResponse);\n    const cancel = () => clearTimeout(cbTimer);\n    return {\n      abort: cancel\n    };\n  }\n  let xhr = new XmlHttpRequest();\n  const headers = options.headers;\n  const delays = options.timeout;\n  let aborted = false;\n  let loaded = false;\n  let timedOut = false;\n  xhr.onerror = onError;\n  xhr.ontimeout = onError;\n  xhr.onabort = () => {\n    stopTimers(true);\n    aborted = true;\n  };\n  xhr.onreadystatechange = () => {\n    resetTimers();\n    if (aborted || xhr.readyState !== 4) {\n      return;\n    }\n    if (xhr.status === 0) {\n      return;\n    }\n    onLoad();\n  };\n  xhr.open(options.method, options.url, true\n  // Always async\n  );\n\n  xhr.withCredentials = !!options.withCredentials;\n  if (headers && xhr.setRequestHeader) {\n    for (const key in headers) {\n      if (headers.hasOwnProperty(key)) {\n        xhr.setRequestHeader(key, headers[key]);\n      }\n    }\n  }\n  if (options.rawBody) {\n    xhr.responseType = \"arraybuffer\";\n  }\n  context.applyMiddleware(\"onRequest\", {\n    options,\n    adapter,\n    request: xhr,\n    context\n  });\n  xhr.send(options.body || null);\n  if (delays) {\n    timers.connect = setTimeout(() => timeoutRequest(\"ETIMEDOUT\"), delays.connect);\n  }\n  return {\n    abort\n  };\n  function abort() {\n    aborted = true;\n    if (xhr) {\n      xhr.abort();\n    }\n  }\n  function timeoutRequest(code) {\n    timedOut = true;\n    xhr.abort();\n    const error = new Error(code === \"ESOCKETTIMEDOUT\" ? \"Socket timed out on request to \".concat(options.url) : \"Connection timed out on request to \".concat(options.url));\n    error.code = code;\n    context.channels.error.publish(error);\n  }\n  function resetTimers() {\n    if (!delays) {\n      return;\n    }\n    stopTimers();\n    timers.socket = setTimeout(() => timeoutRequest(\"ESOCKETTIMEDOUT\"), delays.socket);\n  }\n  function stopTimers(force) {\n    if (force || aborted || xhr.readyState >= 2 && timers.connect) {\n      clearTimeout(timers.connect);\n    }\n    if (timers.socket) {\n      clearTimeout(timers.socket);\n    }\n  }\n  function onError(error) {\n    if (loaded) {\n      return;\n    }\n    stopTimers(true);\n    loaded = true;\n    xhr = null;\n    const err = error || new Error(\"Network error while attempting to reach \".concat(options.url));\n    err.isNetworkError = true;\n    err.request = options;\n    callback(err);\n  }\n  function reduceResponse() {\n    return {\n      body: xhr.response || xhr.responseText,\n      url: options.url,\n      method: options.method,\n      headers: parseHeaders(xhr.getAllResponseHeaders()),\n      statusCode: xhr.status,\n      statusMessage: xhr.statusText\n    };\n  }\n  function onLoad() {\n    if (aborted || loaded || timedOut) {\n      return;\n    }\n    if (xhr.status === 0) {\n      onError(new Error(\"Unknown XHR error\"));\n      return;\n    }\n    stopTimers();\n    loaded = true;\n    callback(null, reduceResponse());\n  }\n};\nconst getIt = function () {\n  let initMiddleware = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let httpRequest = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : httpRequester;\n  return createRequester(initMiddleware, httpRequest);\n};\nexport { getIt };\n//# sourceMappingURL=index.browser.js.map\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nfunction isObject(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (ctor === undefined) return true;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n}\n\nexport { isPlainObject };\n","import debugIt from 'debug';\nexport { processOptions, validateOptions } from './_chunks/defaultOptionsValidator-4ba94809.js';\nimport { isPlainObject } from 'is-plain-object';\nconst leadingSlash = /^\\//;\nconst trailingSlash = /\\/$/;\nfunction base(baseUrl) {\n  const baseUri = baseUrl.replace(trailingSlash, \"\");\n  return {\n    processOptions: options => {\n      if (/^https?:\\/\\//i.test(options.url)) {\n        return options;\n      }\n      const url = [baseUri, options.url.replace(leadingSlash, \"\")].join(\"/\");\n      return Object.assign({}, options, {\n        url\n      });\n    }\n  };\n}\nconst SENSITIVE_HEADERS = [\"cookie\", \"authorization\"];\nconst hasOwn = Object.prototype.hasOwnProperty;\nconst redactKeys = (source, redacted) => {\n  const target = {};\n  for (const key in source) {\n    if (hasOwn.call(source, key)) {\n      target[key] = redacted.indexOf(key.toLowerCase()) > -1 ? \"<redacted>\" : source[key];\n    }\n  }\n  return target;\n};\nfunction debug() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const verbose = opts.verbose;\n  const namespace = opts.namespace || \"get-it\";\n  const defaultLogger = debugIt(namespace);\n  const log = opts.log || defaultLogger;\n  const shortCircuit = log === defaultLogger && !debugIt.enabled(namespace);\n  let requestId = 0;\n  return {\n    processOptions: options => {\n      options.debug = log;\n      options.requestId = options.requestId || ++requestId;\n      return options;\n    },\n    onRequest: event => {\n      if (shortCircuit || !event) {\n        return event;\n      }\n      const options = event.options;\n      log(\"[%s] HTTP %s %s\", options.requestId, options.method, options.url);\n      if (verbose && options.body && typeof options.body === \"string\") {\n        log(\"[%s] Request body: %s\", options.requestId, options.body);\n      }\n      if (verbose && options.headers) {\n        const headers = opts.redactSensitiveHeaders === false ? options.headers : redactKeys(options.headers, SENSITIVE_HEADERS);\n        log(\"[%s] Request headers: %s\", options.requestId, JSON.stringify(headers, null, 2));\n      }\n      return event;\n    },\n    onResponse: (res, context) => {\n      if (shortCircuit || !res) {\n        return res;\n      }\n      const reqId = context.options.requestId;\n      log(\"[%s] Response code: %s %s\", reqId, res.statusCode, res.statusMessage);\n      if (verbose && res.body) {\n        log(\"[%s] Response body: %s\", reqId, stringifyBody(res));\n      }\n      return res;\n    },\n    onError: (err, context) => {\n      const reqId = context.options.requestId;\n      if (!err) {\n        log(\"[%s] Error encountered, but handled by an earlier middleware\", reqId);\n        return err;\n      }\n      log(\"[%s] ERROR: %s\", reqId, err.message);\n      return err;\n    }\n  };\n}\nfunction stringifyBody(res) {\n  const contentType = (res.headers[\"content-type\"] || \"\").toLowerCase();\n  const isJson = contentType.indexOf(\"application/json\") !== -1;\n  return isJson ? tryFormat(res.body) : res.body;\n}\nfunction tryFormat(body) {\n  try {\n    const parsed = typeof body === \"string\" ? JSON.parse(body) : body;\n    return JSON.stringify(parsed, null, 2);\n  } catch (err) {\n    return body;\n  }\n}\nfunction headers(_headers) {\n  let opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return {\n    processOptions: options => {\n      const existing = options.headers || {};\n      options.headers = opts.override ? Object.assign({}, existing, _headers) : Object.assign({}, _headers, existing);\n      return options;\n    }\n  };\n}\nclass HttpError extends Error {\n  constructor(res, ctx) {\n    super();\n    const truncatedUrl = res.url.length > 400 ? \"\".concat(res.url.slice(0, 399), \"\\u2026\") : res.url;\n    let msg = \"\".concat(res.method, \"-request to \").concat(truncatedUrl, \" resulted in \");\n    msg += \"HTTP \".concat(res.statusCode, \" \").concat(res.statusMessage);\n    this.message = msg.trim();\n    this.response = res;\n    this.request = ctx.options;\n  }\n}\nfunction httpErrors() {\n  return {\n    onResponse: (res, ctx) => {\n      const isHttpError = res.statusCode >= 400;\n      if (!isHttpError) {\n        return res;\n      }\n      throw new HttpError(res, ctx);\n    }\n  };\n}\nfunction injectResponse() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  if (typeof opts.inject !== \"function\") {\n    throw new Error(\"`injectResponse` middleware requires a `inject` function\");\n  }\n  function inject(prevValue, event) {\n    const response = opts.inject(event, prevValue);\n    if (!response) {\n      return prevValue;\n    }\n    const options = event.context.options;\n    return Object.assign({}, {\n      body: \"\",\n      url: options.url,\n      method: options.method,\n      headers: {},\n      statusCode: 200,\n      statusMessage: \"OK\"\n    }, response);\n  }\n  return {\n    interceptRequest: inject\n  };\n}\nconst isBuffer = typeof Buffer === \"undefined\" ? () => false : obj => Buffer.isBuffer(obj);\nconst serializeTypes = [\"boolean\", \"string\", \"number\"];\nfunction jsonRequest() {\n  return {\n    processOptions: options => {\n      const body = options.body;\n      if (!body) {\n        return options;\n      }\n      const isStream = typeof body.pipe === \"function\";\n      const shouldSerialize = !isStream && !isBuffer(body) && (serializeTypes.indexOf(typeof body) !== -1 || Array.isArray(body) || isPlainObject(body));\n      if (!shouldSerialize) {\n        return options;\n      }\n      return Object.assign({}, options, {\n        body: JSON.stringify(options.body),\n        headers: Object.assign({}, options.headers, {\n          \"Content-Type\": \"application/json\"\n        })\n      });\n    }\n  };\n}\nfunction jsonResponse(opts) {\n  return {\n    onResponse: response => {\n      const contentType = response.headers[\"content-type\"] || \"\";\n      const shouldDecode = opts && opts.force || contentType.indexOf(\"application/json\") !== -1;\n      if (!response.body || !contentType || !shouldDecode) {\n        return response;\n      }\n      return Object.assign({}, response, {\n        body: tryParse(response.body)\n      });\n    },\n    processOptions: options => Object.assign({}, options, {\n      headers: Object.assign({\n        Accept: \"application/json\"\n      }, options.headers)\n    })\n  };\n  function tryParse(body) {\n    try {\n      return JSON.parse(body);\n    } catch (err) {\n      err.message = \"Failed to parsed response body as JSON: \".concat(err.message);\n      throw err;\n    }\n  }\n}\nfunction keepAlive() {}\nfunction mtls() {\n  let config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  if (!config.ca) {\n    throw new Error('Required mtls option \"ca\" is missing');\n  }\n  if (!config.cert) {\n    throw new Error('Required mtls option \"cert\" is missing');\n  }\n  if (!config.key) {\n    throw new Error('Required mtls option \"key\" is missing');\n  }\n  return {\n    finalizeOptions: options => {\n      const mtlsOpts = {\n        cert: config.cert,\n        key: config.key,\n        ca: config.ca\n      };\n      return Object.assign({}, options, mtlsOpts);\n    }\n  };\n}\nlet actualGlobal;\nif (typeof globalThis !== \"undefined\") {\n  actualGlobal = globalThis;\n} else if (typeof window !== \"undefined\") {\n  actualGlobal = window;\n} else if (typeof global !== \"undefined\") {\n  actualGlobal = global;\n} else if (typeof self !== \"undefined\") {\n  actualGlobal = self;\n} else {\n  actualGlobal = {};\n}\nvar global$1 = actualGlobal;\nfunction observable() {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const Observable = opts.implementation || global$1.Observable;\n  if (!Observable) {\n    throw new Error(\"`Observable` is not available in global scope, and no implementation was passed\");\n  }\n  return {\n    onReturn: (channels, context) => new Observable(observer => {\n      channels.error.subscribe(err => observer.error(err));\n      channels.progress.subscribe(event => observer.next(Object.assign({\n        type: \"progress\"\n      }, event)));\n      channels.response.subscribe(response => {\n        observer.next(Object.assign({\n          type: \"response\"\n        }, response));\n        observer.complete();\n      });\n      channels.request.publish(context);\n      return () => channels.abort.publish();\n    })\n  };\n}\nfunction progress() {\n  return {\n    onRequest: evt => {\n      if (evt.adapter !== \"xhr\") {\n        return;\n      }\n      const xhr = evt.request;\n      const context = evt.context;\n      if (\"upload\" in xhr && \"onprogress\" in xhr.upload) {\n        xhr.upload.onprogress = handleProgress(\"upload\");\n      }\n      if (\"onprogress\" in xhr) {\n        xhr.onprogress = handleProgress(\"download\");\n      }\n      function handleProgress(stage) {\n        return event => {\n          const percent = event.lengthComputable ? event.loaded / event.total * 100 : -1;\n          context.channels.progress.publish({\n            stage,\n            percent,\n            total: event.total,\n            loaded: event.loaded,\n            lengthComputable: event.lengthComputable\n          });\n        };\n      }\n    }\n  };\n}\nconst promise = function () {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const PromiseImplementation = options.implementation || Promise;\n  if (!PromiseImplementation) {\n    throw new Error(\"`Promise` is not available in global scope, and no implementation was passed\");\n  }\n  return {\n    onReturn: (channels, context) => new PromiseImplementation((resolve, reject) => {\n      const cancel = context.options.cancelToken;\n      if (cancel) {\n        cancel.promise.then(reason => {\n          channels.abort.publish(reason);\n          reject(reason);\n        });\n      }\n      channels.error.subscribe(reject);\n      channels.response.subscribe(response => {\n        resolve(options.onlyBody ? response.body : response);\n      });\n      setTimeout(() => {\n        try {\n          channels.request.publish(context);\n        } catch (err) {\n          reject(err);\n        }\n      }, 0);\n    })\n  };\n};\nclass Cancel {\n  constructor(message) {\n    this.__CANCEL__ = true;\n    this.message = message;\n  }\n  toString() {\n    return \"Cancel\".concat(this.message ? \": \".concat(this.message) : \"\");\n  }\n}\nconst _CancelToken = class {\n  constructor(executor) {\n    if (typeof executor !== \"function\") {\n      throw new TypeError(\"executor must be a function.\");\n    }\n    let resolvePromise = null;\n    this.promise = new Promise(resolve => {\n      resolvePromise = resolve;\n    });\n    executor(message => {\n      if (this.reason) {\n        return;\n      }\n      this.reason = new Cancel(message);\n      resolvePromise(this.reason);\n    });\n  }\n};\nlet CancelToken = _CancelToken;\nCancelToken.source = () => {\n  let cancel;\n  const token = new _CancelToken(can => {\n    cancel = can;\n  });\n  return {\n    token,\n    cancel\n  };\n};\nconst isCancel = value => !!(value && value.__CANCEL__);\npromise.Cancel = Cancel;\npromise.CancelToken = CancelToken;\npromise.isCancel = isCancel;\nfunction proxy(_proxy) {\n  if (_proxy !== false && (!_proxy || !_proxy.host)) {\n    throw new Error(\"Proxy middleware takes an object of host, port and auth properties\");\n  }\n  return {\n    processOptions: options => Object.assign({\n      proxy: _proxy\n    }, options)\n  };\n}\nvar defaultShouldRetry = (err, attempt, options) => {\n  if (options.method !== \"GET\" && options.method !== \"HEAD\") {\n    return false;\n  }\n  return err.isNetworkError || false;\n};\nconst isStream = stream => stream !== null && typeof stream === \"object\" && typeof stream.pipe === \"function\";\nvar sharedRetry = opts => {\n  const maxRetries = opts.maxRetries || 5;\n  const retryDelay = opts.retryDelay || getRetryDelay;\n  const allowRetry = opts.shouldRetry;\n  return {\n    onError: (err, context) => {\n      const options = context.options;\n      const max = options.maxRetries || maxRetries;\n      const shouldRetry = options.shouldRetry || allowRetry;\n      const attemptNumber = options.attemptNumber || 0;\n      if (isStream(options.body)) {\n        return err;\n      }\n      if (!shouldRetry(err, attemptNumber, options) || attemptNumber >= max) {\n        return err;\n      }\n      const newContext = Object.assign({}, context, {\n        options: Object.assign({}, options, {\n          attemptNumber: attemptNumber + 1\n        })\n      });\n      setTimeout(() => context.channels.request.publish(newContext), retryDelay(attemptNumber));\n      return null;\n    }\n  };\n};\nfunction getRetryDelay(attemptNum) {\n  return 100 * Math.pow(2, attemptNum) + Math.random() * 100;\n}\nconst retry = function () {\n  let opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return sharedRetry({\n    shouldRetry: defaultShouldRetry,\n    ...opts\n  });\n};\nretry.shouldRetry = defaultShouldRetry;\nfunction encode(data) {\n  const query = new URLSearchParams();\n  const nest = (name, _value) => {\n    const value = _value instanceof Set ? Array.from(_value) : _value;\n    if (Array.isArray(value)) {\n      if (value.length) {\n        for (const index in value) {\n          nest(\"\".concat(name, \"[\").concat(index, \"]\"), value[index]);\n        }\n      } else {\n        query.append(\"\".concat(name, \"[]\"), \"\");\n      }\n    } else if (typeof value === \"object\" && value !== null) {\n      for (const [key, obj] of Object.entries(value)) {\n        nest(\"\".concat(name, \"[\").concat(key, \"]\"), obj);\n      }\n    } else {\n      query.append(name, value);\n    }\n  };\n  for (const [key, value] of Object.entries(data)) {\n    nest(key, value);\n  }\n  return query.toString();\n}\nfunction urlEncoded() {\n  return {\n    processOptions: options => {\n      const body = options.body;\n      if (!body) {\n        return options;\n      }\n      const isStream = typeof body.pipe === \"function\";\n      const shouldSerialize = !isStream && !isBuffer(body) && isPlainObject(body);\n      if (!shouldSerialize) {\n        return options;\n      }\n      return {\n        ...options,\n        body: encode(options.body),\n        headers: {\n          ...options.headers,\n          \"Content-Type\": \"application/x-www-form-urlencoded\"\n        }\n      };\n    }\n  };\n}\nexport { Cancel, CancelToken, base, debug, headers, httpErrors, injectResponse, jsonRequest, jsonResponse, keepAlive, mtls, observable, progress, promise, proxy, retry, urlEncoded };\n//# sourceMappingURL=middleware.browser.js.map\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","export function isFunction(value) {\n    return typeof value === 'function';\n}\n//# sourceMappingURL=isFunction.js.map","export function createErrorClass(createImpl) {\n    var _super = function (instance) {\n        Error.call(instance);\n        instance.stack = new Error().stack;\n    };\n    var ctorFunc = createImpl(_super);\n    ctorFunc.prototype = Object.create(Error.prototype);\n    ctorFunc.prototype.constructor = ctorFunc;\n    return ctorFunc;\n}\n//# sourceMappingURL=createErrorClass.js.map","import { createErrorClass } from './createErrorClass';\nexport var UnsubscriptionError = createErrorClass(function (_super) {\n    return function UnsubscriptionErrorImpl(errors) {\n        _super(this);\n        this.message = errors\n            ? errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ')\n            : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n    };\n});\n//# sourceMappingURL=UnsubscriptionError.js.map","export function arrRemove(arr, item) {\n    if (arr) {\n        var index = arr.indexOf(item);\n        0 <= index && arr.splice(index, 1);\n    }\n}\n//# sourceMappingURL=arrRemove.js.map","import { __read, __spreadArray, __values } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nimport { arrRemove } from './util/arrRemove';\nvar Subscription = (function () {\n    function Subscription(initialTeardown) {\n        this.initialTeardown = initialTeardown;\n        this.closed = false;\n        this._parentage = null;\n        this._finalizers = null;\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var e_1, _a, e_2, _b;\n        var errors;\n        if (!this.closed) {\n            this.closed = true;\n            var _parentage = this._parentage;\n            if (_parentage) {\n                this._parentage = null;\n                if (Array.isArray(_parentage)) {\n                    try {\n                        for (var _parentage_1 = __values(_parentage), _parentage_1_1 = _parentage_1.next(); !_parentage_1_1.done; _parentage_1_1 = _parentage_1.next()) {\n                            var parent_1 = _parentage_1_1.value;\n                            parent_1.remove(this);\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_parentage_1_1 && !_parentage_1_1.done && (_a = _parentage_1.return)) _a.call(_parentage_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                }\n                else {\n                    _parentage.remove(this);\n                }\n            }\n            var initialFinalizer = this.initialTeardown;\n            if (isFunction(initialFinalizer)) {\n                try {\n                    initialFinalizer();\n                }\n                catch (e) {\n                    errors = e instanceof UnsubscriptionError ? e.errors : [e];\n                }\n            }\n            var _finalizers = this._finalizers;\n            if (_finalizers) {\n                this._finalizers = null;\n                try {\n                    for (var _finalizers_1 = __values(_finalizers), _finalizers_1_1 = _finalizers_1.next(); !_finalizers_1_1.done; _finalizers_1_1 = _finalizers_1.next()) {\n                        var finalizer = _finalizers_1_1.value;\n                        try {\n                            execFinalizer(finalizer);\n                        }\n                        catch (err) {\n                            errors = errors !== null && errors !== void 0 ? errors : [];\n                            if (err instanceof UnsubscriptionError) {\n                                errors = __spreadArray(__spreadArray([], __read(errors)), __read(err.errors));\n                            }\n                            else {\n                                errors.push(err);\n                            }\n                        }\n                    }\n                }\n                catch (e_2_1) { e_2 = { error: e_2_1 }; }\n                finally {\n                    try {\n                        if (_finalizers_1_1 && !_finalizers_1_1.done && (_b = _finalizers_1.return)) _b.call(_finalizers_1);\n                    }\n                    finally { if (e_2) throw e_2.error; }\n                }\n            }\n            if (errors) {\n                throw new UnsubscriptionError(errors);\n            }\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var _a;\n        if (teardown && teardown !== this) {\n            if (this.closed) {\n                execFinalizer(teardown);\n            }\n            else {\n                if (teardown instanceof Subscription) {\n                    if (teardown.closed || teardown._hasParent(this)) {\n                        return;\n                    }\n                    teardown._addParent(this);\n                }\n                (this._finalizers = (_a = this._finalizers) !== null && _a !== void 0 ? _a : []).push(teardown);\n            }\n        }\n    };\n    Subscription.prototype._hasParent = function (parent) {\n        var _parentage = this._parentage;\n        return _parentage === parent || (Array.isArray(_parentage) && _parentage.includes(parent));\n    };\n    Subscription.prototype._addParent = function (parent) {\n        var _parentage = this._parentage;\n        this._parentage = Array.isArray(_parentage) ? (_parentage.push(parent), _parentage) : _parentage ? [_parentage, parent] : parent;\n    };\n    Subscription.prototype._removeParent = function (parent) {\n        var _parentage = this._parentage;\n        if (_parentage === parent) {\n            this._parentage = null;\n        }\n        else if (Array.isArray(_parentage)) {\n            arrRemove(_parentage, parent);\n        }\n    };\n    Subscription.prototype.remove = function (teardown) {\n        var _finalizers = this._finalizers;\n        _finalizers && arrRemove(_finalizers, teardown);\n        if (teardown instanceof Subscription) {\n            teardown._removeParent(this);\n        }\n    };\n    Subscription.EMPTY = (function () {\n        var empty = new Subscription();\n        empty.closed = true;\n        return empty;\n    })();\n    return Subscription;\n}());\nexport { Subscription };\nexport var EMPTY_SUBSCRIPTION = Subscription.EMPTY;\nexport function isSubscription(value) {\n    return (value instanceof Subscription ||\n        (value && 'closed' in value && isFunction(value.remove) && isFunction(value.add) && isFunction(value.unsubscribe)));\n}\nfunction execFinalizer(finalizer) {\n    if (isFunction(finalizer)) {\n        finalizer();\n    }\n    else {\n        finalizer.unsubscribe();\n    }\n}\n//# sourceMappingURL=Subscription.js.map","export var config = {\n    onUnhandledError: null,\n    onStoppedNotification: null,\n    Promise: undefined,\n    useDeprecatedSynchronousErrorHandling: false,\n    useDeprecatedNextContext: false,\n};\n//# sourceMappingURL=config.js.map","import { __read, __spreadArray } from \"tslib\";\nexport var timeoutProvider = {\n    setTimeout: function (handler, timeout) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var delegate = timeoutProvider.delegate;\n        if (delegate === null || delegate === void 0 ? void 0 : delegate.setTimeout) {\n            return delegate.setTimeout.apply(delegate, __spreadArray([handler, timeout], __read(args)));\n        }\n        return setTimeout.apply(void 0, __spreadArray([handler, timeout], __read(args)));\n    },\n    clearTimeout: function (handle) {\n        var delegate = timeoutProvider.delegate;\n        return ((delegate === null || delegate === void 0 ? void 0 : delegate.clearTimeout) || clearTimeout)(handle);\n    },\n    delegate: undefined,\n};\n//# sourceMappingURL=timeoutProvider.js.map","export function noop() { }\n//# sourceMappingURL=noop.js.map","export var COMPLETE_NOTIFICATION = (function () { return createNotification('C', undefined, undefined); })();\nexport function errorNotification(error) {\n    return createNotification('E', undefined, error);\n}\nexport function nextNotification(value) {\n    return createNotification('N', value, undefined);\n}\nexport function createNotification(kind, value, error) {\n    return {\n        kind: kind,\n        value: value,\n        error: error,\n    };\n}\n//# sourceMappingURL=NotificationFactories.js.map","import { config } from '../config';\nvar context = null;\nexport function errorContext(cb) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        var isRoot = !context;\n        if (isRoot) {\n            context = { errorThrown: false, error: null };\n        }\n        cb();\n        if (isRoot) {\n            var _a = context, errorThrown = _a.errorThrown, error = _a.error;\n            context = null;\n            if (errorThrown) {\n                throw error;\n            }\n        }\n    }\n    else {\n        cb();\n    }\n}\nexport function captureError(err) {\n    if (config.useDeprecatedSynchronousErrorHandling && context) {\n        context.errorThrown = true;\n        context.error = err;\n    }\n}\n//# sourceMappingURL=errorContext.js.map","import { __extends } from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { isSubscription, Subscription } from './Subscription';\nimport { config } from './config';\nimport { reportUnhandledError } from './util/reportUnhandledError';\nimport { noop } from './util/noop';\nimport { nextNotification, errorNotification, COMPLETE_NOTIFICATION } from './NotificationFactories';\nimport { timeoutProvider } from './scheduler/timeoutProvider';\nimport { captureError } from './util/errorContext';\nvar Subscriber = (function (_super) {\n    __extends(Subscriber, _super);\n    function Subscriber(destination) {\n        var _this = _super.call(this) || this;\n        _this.isStopped = false;\n        if (destination) {\n            _this.destination = destination;\n            if (isSubscription(destination)) {\n                destination.add(_this);\n            }\n        }\n        else {\n            _this.destination = EMPTY_OBSERVER;\n        }\n        return _this;\n    }\n    Subscriber.create = function (next, error, complete) {\n        return new SafeSubscriber(next, error, complete);\n    };\n    Subscriber.prototype.next = function (value) {\n        if (this.isStopped) {\n            handleStoppedNotification(nextNotification(value), this);\n        }\n        else {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (this.isStopped) {\n            handleStoppedNotification(errorNotification(err), this);\n        }\n        else {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (this.isStopped) {\n            handleStoppedNotification(COMPLETE_NOTIFICATION, this);\n        }\n        else {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (!this.closed) {\n            this.isStopped = true;\n            _super.prototype.unsubscribe.call(this);\n            this.destination = null;\n        }\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        try {\n            this.destination.error(err);\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    Subscriber.prototype._complete = function () {\n        try {\n            this.destination.complete();\n        }\n        finally {\n            this.unsubscribe();\n        }\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar _bind = Function.prototype.bind;\nfunction bind(fn, thisArg) {\n    return _bind.call(fn, thisArg);\n}\nvar ConsumerObserver = (function () {\n    function ConsumerObserver(partialObserver) {\n        this.partialObserver = partialObserver;\n    }\n    ConsumerObserver.prototype.next = function (value) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.next) {\n            try {\n                partialObserver.next(value);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    ConsumerObserver.prototype.error = function (err) {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.error) {\n            try {\n                partialObserver.error(err);\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n        else {\n            handleUnhandledError(err);\n        }\n    };\n    ConsumerObserver.prototype.complete = function () {\n        var partialObserver = this.partialObserver;\n        if (partialObserver.complete) {\n            try {\n                partialObserver.complete();\n            }\n            catch (error) {\n                handleUnhandledError(error);\n            }\n        }\n    };\n    return ConsumerObserver;\n}());\nvar SafeSubscriber = (function (_super) {\n    __extends(SafeSubscriber, _super);\n    function SafeSubscriber(observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        var partialObserver;\n        if (isFunction(observerOrNext) || !observerOrNext) {\n            partialObserver = {\n                next: (observerOrNext !== null && observerOrNext !== void 0 ? observerOrNext : undefined),\n                error: error !== null && error !== void 0 ? error : undefined,\n                complete: complete !== null && complete !== void 0 ? complete : undefined,\n            };\n        }\n        else {\n            var context_1;\n            if (_this && config.useDeprecatedNextContext) {\n                context_1 = Object.create(observerOrNext);\n                context_1.unsubscribe = function () { return _this.unsubscribe(); };\n                partialObserver = {\n                    next: observerOrNext.next && bind(observerOrNext.next, context_1),\n                    error: observerOrNext.error && bind(observerOrNext.error, context_1),\n                    complete: observerOrNext.complete && bind(observerOrNext.complete, context_1),\n                };\n            }\n            else {\n                partialObserver = observerOrNext;\n            }\n        }\n        _this.destination = new ConsumerObserver(partialObserver);\n        return _this;\n    }\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\nfunction handleUnhandledError(error) {\n    if (config.useDeprecatedSynchronousErrorHandling) {\n        captureError(error);\n    }\n    else {\n        reportUnhandledError(error);\n    }\n}\nfunction defaultErrorHandler(err) {\n    throw err;\n}\nfunction handleStoppedNotification(notification, subscriber) {\n    var onStoppedNotification = config.onStoppedNotification;\n    onStoppedNotification && timeoutProvider.setTimeout(function () { return onStoppedNotification(notification, subscriber); });\n}\nexport var EMPTY_OBSERVER = {\n    closed: true,\n    next: noop,\n    error: defaultErrorHandler,\n    complete: noop,\n};\n//# sourceMappingURL=Subscriber.js.map","import { config } from '../config';\nimport { timeoutProvider } from '../scheduler/timeoutProvider';\nexport function reportUnhandledError(err) {\n    timeoutProvider.setTimeout(function () {\n        var onUnhandledError = config.onUnhandledError;\n        if (onUnhandledError) {\n            onUnhandledError(err);\n        }\n        else {\n            throw err;\n        }\n    });\n}\n//# sourceMappingURL=reportUnhandledError.js.map","export var observable = (function () { return (typeof Symbol === 'function' && Symbol.observable) || '@@observable'; })();\n//# sourceMappingURL=observable.js.map","export function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map","import { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map","import { SafeSubscriber, Subscriber } from './Subscriber';\nimport { isSubscription } from './Subscription';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nimport { isFunction } from './util/isFunction';\nimport { errorContext } from './util/errorContext';\nvar Observable = (function () {\n    function Observable(subscribe) {\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var _this = this;\n        var subscriber = isSubscriber(observerOrNext) ? observerOrNext : new SafeSubscriber(observerOrNext, error, complete);\n        errorContext(function () {\n            var _a = _this, operator = _a.operator, source = _a.source;\n            subscriber.add(operator\n                ?\n                    operator.call(subscriber, source)\n                : source\n                    ?\n                        _this._subscribe(subscriber)\n                    :\n                        _this._trySubscribe(subscriber));\n        });\n        return subscriber;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            sink.error(err);\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscriber = new SafeSubscriber({\n                next: function (value) {\n                    try {\n                        next(value);\n                    }\n                    catch (err) {\n                        reject(err);\n                        subscriber.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n            _this.subscribe(subscriber);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var _a;\n        return (_a = this.source) === null || _a === void 0 ? void 0 : _a.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return (value = x); }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    var _a;\n    return (_a = promiseCtor !== null && promiseCtor !== void 0 ? promiseCtor : config.Promise) !== null && _a !== void 0 ? _a : Promise;\n}\nfunction isObserver(value) {\n    return value && isFunction(value.next) && isFunction(value.error) && isFunction(value.complete);\n}\nfunction isSubscriber(value) {\n    return (value && value instanceof Subscriber) || (isObserver(value) && isSubscription(value));\n}\n//# sourceMappingURL=Observable.js.map","import { createErrorClass } from './createErrorClass';\nexport var EmptyError = createErrorClass(function (_super) { return function EmptyErrorImpl() {\n    _super(this);\n    this.name = 'EmptyError';\n    this.message = 'no elements in sequence';\n}; });\n//# sourceMappingURL=EmptyError.js.map","import { EmptyError } from './util/EmptyError';\nexport function lastValueFrom(source, config) {\n    var hasConfig = typeof config === 'object';\n    return new Promise(function (resolve, reject) {\n        var _hasValue = false;\n        var _value;\n        source.subscribe({\n            next: function (value) {\n                _value = value;\n                _hasValue = true;\n            },\n            error: reject,\n            complete: function () {\n                if (_hasValue) {\n                    resolve(_value);\n                }\n                else if (hasConfig) {\n                    resolve(config.defaultValue);\n                }\n                else {\n                    reject(new EmptyError());\n                }\n            },\n        });\n    });\n}\n//# sourceMappingURL=lastValueFrom.js.map","import { isFunction } from './isFunction';\nexport function hasLift(source) {\n    return isFunction(source === null || source === void 0 ? void 0 : source.lift);\n}\nexport function operate(init) {\n    return function (source) {\n        if (hasLift(source)) {\n            return source.lift(function (liftedSource) {\n                try {\n                    return init(liftedSource, this);\n                }\n                catch (err) {\n                    this.error(err);\n                }\n            });\n        }\n        throw new TypeError('Unable to lift unknown Observable type');\n    };\n}\n//# sourceMappingURL=lift.js.map","import { __extends } from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nexport function createOperatorSubscriber(destination, onNext, onComplete, onError, onFinalize) {\n    return new OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize);\n}\nvar OperatorSubscriber = (function (_super) {\n    __extends(OperatorSubscriber, _super);\n    function OperatorSubscriber(destination, onNext, onComplete, onError, onFinalize, shouldUnsubscribe) {\n        var _this = _super.call(this, destination) || this;\n        _this.onFinalize = onFinalize;\n        _this.shouldUnsubscribe = shouldUnsubscribe;\n        _this._next = onNext\n            ? function (value) {\n                try {\n                    onNext(value);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n            }\n            : _super.prototype._next;\n        _this._error = onError\n            ? function (err) {\n                try {\n                    onError(err);\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._error;\n        _this._complete = onComplete\n            ? function () {\n                try {\n                    onComplete();\n                }\n                catch (err) {\n                    destination.error(err);\n                }\n                finally {\n                    this.unsubscribe();\n                }\n            }\n            : _super.prototype._complete;\n        return _this;\n    }\n    OperatorSubscriber.prototype.unsubscribe = function () {\n        var _a;\n        if (!this.shouldUnsubscribe || this.shouldUnsubscribe()) {\n            var closed_1 = this.closed;\n            _super.prototype.unsubscribe.call(this);\n            !closed_1 && ((_a = this.onFinalize) === null || _a === void 0 ? void 0 : _a.call(this));\n        }\n    };\n    return OperatorSubscriber;\n}(Subscriber));\nexport { OperatorSubscriber };\n//# sourceMappingURL=OperatorSubscriber.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function map(project, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) {\n            subscriber.next(project.call(thisArg, value, index++));\n        }));\n    });\n}\n//# sourceMappingURL=map.js.map","import { operate } from '../util/lift';\nimport { createOperatorSubscriber } from './OperatorSubscriber';\nexport function filter(predicate, thisArg) {\n    return operate(function (source, subscriber) {\n        var index = 0;\n        source.subscribe(createOperatorSubscriber(subscriber, function (value) { return predicate.call(thisArg, value, index++) && subscriber.next(value); }));\n    });\n}\n//# sourceMappingURL=filter.js.map","import { getIt } from 'get-it';\nimport { jsonRequest, jsonResponse, progress, observable } from 'get-it/middleware';\nimport { Observable, lastValueFrom } from 'rxjs';\nimport { map, filter } from 'rxjs/operators';\nimport polyfilledEventSource from '@sanity/eventsource';\nvar envMiddleware = [];\nclass ClientError extends Error {\n  constructor(res) {\n    const props = extractErrorProps(res);\n    super(props.message);\n    this.statusCode = 400;\n    Object.assign(this, props);\n  }\n}\nclass ServerError extends Error {\n  constructor(res) {\n    const props = extractErrorProps(res);\n    super(props.message);\n    this.statusCode = 500;\n    Object.assign(this, props);\n  }\n}\nfunction extractErrorProps(res) {\n  const body = res.body;\n  const props = {\n    response: res,\n    statusCode: res.statusCode,\n    responseBody: stringifyBody(body, res),\n    message: \"\",\n    details: void 0\n  };\n  if (body.error && body.message) {\n    props.message = \"\".concat(body.error, \" - \").concat(body.message);\n    return props;\n  }\n  if (body.error && body.error.description) {\n    props.message = body.error.description;\n    props.details = body.error;\n    return props;\n  }\n  props.message = body.error || body.message || httpErrorMessage(res);\n  return props;\n}\nfunction httpErrorMessage(res) {\n  const statusMessage = res.statusMessage ? \" \".concat(res.statusMessage) : \"\";\n  return \"\".concat(res.method, \"-request to \").concat(res.url, \" resulted in HTTP \").concat(res.statusCode).concat(statusMessage);\n}\nfunction stringifyBody(body, res) {\n  const contentType = (res.headers[\"content-type\"] || \"\").toLowerCase();\n  const isJson = contentType.indexOf(\"application/json\") !== -1;\n  return isJson ? JSON.stringify(body, null, 2) : body;\n}\nconst httpError = {\n  onResponse: res => {\n    if (res.statusCode >= 500) {\n      throw new ServerError(res);\n    } else if (res.statusCode >= 400) {\n      throw new ClientError(res);\n    }\n    return res;\n  }\n};\nconst printWarnings = {\n  onResponse: res => {\n    const warn = res.headers[\"x-sanity-warning\"];\n    const warnings = Array.isArray(warn) ? warn : [warn];\n    warnings.filter(Boolean).forEach(msg => console.warn(msg));\n    return res;\n  }\n};\nfunction defineHttpRequest(envMiddleware) {\n  const request = getIt([...envMiddleware, printWarnings, jsonRequest(), jsonResponse(), progress(), httpError, observable({\n    implementation: Observable\n  })]);\n  function httpRequest(options) {\n    let requester = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : request;\n    return requester({\n      maxRedirects: 0,\n      ...options\n    });\n  }\n  httpRequest.defaultRequester = request;\n  return httpRequest;\n}\nconst projectHeader = \"X-Sanity-Project-ID\";\nfunction requestOptions(config) {\n  let overrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const headers = {};\n  const token = overrides.token || config.token;\n  if (token) {\n    headers.Authorization = \"Bearer \".concat(token);\n  }\n  if (!overrides.useGlobalApi && !config.useProjectHostname && config.projectId) {\n    headers[projectHeader] = config.projectId;\n  }\n  const withCredentials = Boolean(typeof overrides.withCredentials === \"undefined\" ? config.token || config.withCredentials : overrides.withCredentials);\n  const timeout = typeof overrides.timeout === \"undefined\" ? config.timeout : overrides.timeout;\n  return Object.assign({}, overrides, {\n    headers: Object.assign({}, headers, overrides.headers || {}),\n    timeout: typeof timeout === \"undefined\" ? 5 * 60 * 1e3 : timeout,\n    proxy: overrides.proxy || config.proxy,\n    json: true,\n    withCredentials\n  });\n}\nfunction getSelection(sel) {\n  if (typeof sel === \"string\" || Array.isArray(sel)) {\n    return {\n      id: sel\n    };\n  }\n  if (typeof sel === \"object\" && sel !== null && \"query\" in sel && typeof sel.query === \"string\") {\n    return \"params\" in sel && typeof sel.params === \"object\" && sel.params !== null ? {\n      query: sel.query,\n      params: sel.params\n    } : {\n      query: sel.query\n    };\n  }\n  const selectionOpts = [\"* Document ID (<docId>)\", \"* Array of document IDs\", \"* Object containing `query`\"].join(\"\\n\");\n  throw new Error(\"Unknown selection - must be one of:\\n\\n\".concat(selectionOpts));\n}\nconst VALID_ASSET_TYPES = [\"image\", \"file\"];\nconst VALID_INSERT_LOCATIONS = [\"before\", \"after\", \"replace\"];\nconst dataset = name => {\n  if (!/^(~[a-z0-9]{1}[-\\w]{0,63}|[a-z0-9]{1}[-\\w]{0,63})$/.test(name)) {\n    throw new Error(\"Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters\");\n  }\n};\nconst projectId = id => {\n  if (!/^[-a-z0-9]+$/i.test(id)) {\n    throw new Error(\"`projectId` can only contain only a-z, 0-9 and dashes\");\n  }\n};\nconst validateAssetType = type => {\n  if (VALID_ASSET_TYPES.indexOf(type) === -1) {\n    throw new Error(\"Invalid asset type: \".concat(type, \". Must be one of \").concat(VALID_ASSET_TYPES.join(\", \")));\n  }\n};\nconst validateObject = (op, val) => {\n  if (val === null || typeof val !== \"object\" || Array.isArray(val)) {\n    throw new Error(\"\".concat(op, \"() takes an object of properties\"));\n  }\n};\nconst validateDocumentId = (op, id) => {\n  if (typeof id !== \"string\" || !/^[a-z0-9_.-]+$/i.test(id)) {\n    throw new Error(\"\".concat(op, \"(): \\\"\").concat(id, \"\\\" is not a valid document ID\"));\n  }\n};\nconst requireDocumentId = (op, doc) => {\n  if (!doc._id) {\n    throw new Error(\"\".concat(op, \"() requires that the document contains an ID (\\\"_id\\\" property)\"));\n  }\n  validateDocumentId(op, doc._id);\n};\nconst validateInsert = (at, selector, items) => {\n  const signature = \"insert(at, selector, items)\";\n  if (VALID_INSERT_LOCATIONS.indexOf(at) === -1) {\n    const valid = VALID_INSERT_LOCATIONS.map(loc => \"\\\"\".concat(loc, \"\\\"\")).join(\", \");\n    throw new Error(\"\".concat(signature, \" takes an \\\"at\\\"-argument which is one of: \").concat(valid));\n  }\n  if (typeof selector !== \"string\") {\n    throw new Error(\"\".concat(signature, \" takes a \\\"selector\\\"-argument which must be a string\"));\n  }\n  if (!Array.isArray(items)) {\n    throw new Error(\"\".concat(signature, \" takes an \\\"items\\\"-argument which must be an array\"));\n  }\n};\nconst hasDataset = config => {\n  if (!config.dataset) {\n    throw new Error(\"`dataset` must be provided to perform queries\");\n  }\n  return config.dataset || \"\";\n};\nconst requestTag = tag => {\n  if (typeof tag !== \"string\" || !/^[a-z0-9._-]{1,75}$/i.test(tag)) {\n    throw new Error(\"Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.\");\n  }\n  return tag;\n};\nconst encodeQueryString = _ref => {\n  let {\n    query,\n    params = {},\n    options = {}\n  } = _ref;\n  const searchParams = new URLSearchParams();\n  const {\n    tag,\n    ...opts\n  } = options;\n  if (tag) searchParams.set(\"tag\", tag);\n  searchParams.set(\"query\", query);\n  for (const [key, value] of Object.entries(params)) {\n    searchParams.set(\"$\".concat(key), JSON.stringify(value));\n  }\n  for (const [key, value] of Object.entries(opts)) {\n    if (value) searchParams.set(key, \"\".concat(value));\n  }\n  return \"?\".concat(searchParams);\n};\nvar __accessCheck$6 = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$6 = (obj, member, getter) => {\n  __accessCheck$6(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$6 = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$6 = (obj, member, value, setter) => {\n  __accessCheck$6(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _client$5, _client2$5;\nclass BasePatch {\n  constructor(selection) {\n    let operations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    this.selection = selection;\n    this.operations = operations;\n  }\n  /**\n   * Sets the given attributes to the document. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */\n  set(attrs) {\n    return this._assign(\"set\", attrs);\n  }\n  /**\n   * Sets the given attributes to the document if they are not currently set. Does NOT merge objects.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to set. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"value\"\\}\n   */\n  setIfMissing(attrs) {\n    return this._assign(\"setIfMissing\", attrs);\n  }\n  /**\n   * Performs a \"diff-match-patch\" operation on the string attributes provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attributes to perform operation on. To set a deep attribute, use JSONMatch, eg: \\{\"nested.prop\": \"dmp\"\\}\n   */\n  diffMatchPatch(attrs) {\n    validateObject(\"diffMatchPatch\", attrs);\n    return this._assign(\"diffMatchPatch\", attrs);\n  }\n  /**\n   * Unsets the attribute paths provided.\n   * The operation is added to the current patch, ready to be commited by `commit()`\n   *\n   * @param attrs - Attribute paths to unset.\n   */\n  unset(attrs) {\n    if (!Array.isArray(attrs)) {\n      throw new Error(\"unset(attrs) takes an array of attributes to unset, non-array given\");\n    }\n    this.operations = Object.assign({}, this.operations, {\n      unset: attrs\n    });\n    return this;\n  }\n  /**\n   * Increment a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to increment, values representing the number to increment by.\n   */\n  inc(attrs) {\n    return this._assign(\"inc\", attrs);\n  }\n  /**\n   * Decrement a numeric value. Each entry in the argument is either an attribute or a JSON path. The value may be a positive or negative integer or floating-point value. The operation will fail if target value is not a numeric value, or doesn't exist.\n   *\n   * @param attrs - Object of attribute paths to decrement, values representing the number to decrement by.\n   */\n  dec(attrs) {\n    return this._assign(\"dec\", attrs);\n  }\n  /**\n   * Provides methods for modifying arrays, by inserting, appending and replacing elements via a JSONPath expression.\n   *\n   * @param at - Location to insert at, relative to the given selector, or 'replace' the matched path\n   * @param selector - JSONPath expression, eg `comments[-1]` or `blocks[_key==\"abc123\"]`\n   * @param items - Array of items to insert/replace\n   */\n  insert(at, selector, items) {\n    validateInsert(at, selector, items);\n    return this._assign(\"insert\", {\n      [at]: selector,\n      items\n    });\n  }\n  /**\n   * Append the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to append to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to append to the array\n   */\n  append(selector, items) {\n    return this.insert(\"after\", \"\".concat(selector, \"[-1]\"), items);\n  }\n  /**\n   * Prepend the given items to the array at the given JSONPath\n   *\n   * @param selector - Attribute/path to prepend to, eg `comments` or `person.hobbies`\n   * @param items - Array of items to prepend to the array\n   */\n  prepend(selector, items) {\n    return this.insert(\"before\", \"\".concat(selector, \"[0]\"), items);\n  }\n  /**\n   * Change the contents of an array by removing existing elements and/or adding new elements.\n   *\n   * @param selector - Attribute or JSONPath expression for array\n   * @param start - Index at which to start changing the array (with origin 0). If greater than the length of the array, actual starting index will be set to the length of the array. If negative, will begin that many elements from the end of the array (with origin -1) and will be set to 0 if absolute value is greater than the length of the array.x\n   * @param deleteCount - An integer indicating the number of old array elements to remove.\n   * @param items - The elements to add to the array, beginning at the start index. If you don't specify any elements, splice() will only remove elements from the array.\n   */\n  splice(selector, start, deleteCount, items) {\n    const delAll = typeof deleteCount === \"undefined\" || deleteCount === -1;\n    const startIndex = start < 0 ? start - 1 : start;\n    const delCount = delAll ? -1 : Math.max(0, start + deleteCount);\n    const delRange = startIndex < 0 && delCount >= 0 ? \"\" : delCount;\n    const rangeSelector = \"\".concat(selector, \"[\").concat(startIndex, \":\").concat(delRange, \"]\");\n    return this.insert(\"replace\", rangeSelector, items || []);\n  }\n  /**\n   * Adds a revision clause, preventing the document from being patched if the `_rev` property does not match the given value\n   *\n   * @param rev - Revision to lock the patch to\n   */\n  ifRevisionId(rev) {\n    this.operations.ifRevisionID = rev;\n    return this;\n  }\n  /**\n   * Return a plain JSON representation of the patch\n   */\n  serialize() {\n    return {\n      ...getSelection(this.selection),\n      ...this.operations\n    };\n  }\n  /**\n   * Return a plain JSON representation of the patch\n   */\n  toJSON() {\n    return this.serialize();\n  }\n  /**\n   * Clears the patch of all operations\n   */\n  reset() {\n    this.operations = {};\n    return this;\n  }\n  _assign(op, props) {\n    let merge = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    validateObject(op, props);\n    this.operations = Object.assign({}, this.operations, {\n      [op]: Object.assign({}, merge && this.operations[op] || {}, props)\n    });\n    return this;\n  }\n  _set(op, props) {\n    return this._assign(op, props, false);\n  }\n}\nconst _ObservablePatch = class extends BasePatch {\n  constructor(selection, operations, client) {\n    super(selection, operations);\n    __privateAdd$6(this, _client$5, void 0);\n    __privateSet$6(this, _client$5, client);\n  }\n  /**\n   * Clones the patch\n   */\n  clone() {\n    return new _ObservablePatch(this.selection, {\n      ...this.operations\n    }, __privateGet$6(this, _client$5));\n  }\n  commit(options) {\n    if (!__privateGet$6(this, _client$5)) {\n      throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n    }\n    const returnFirst = typeof this.selection === \"string\";\n    const opts = Object.assign({\n      returnFirst,\n      returnDocuments: true\n    }, options);\n    return __privateGet$6(this, _client$5).mutate({\n      patch: this.serialize()\n    }, opts);\n  }\n};\nlet ObservablePatch = _ObservablePatch;\n_client$5 = new WeakMap();\nconst _Patch = class extends BasePatch {\n  constructor(selection, operations, client) {\n    super(selection, operations);\n    __privateAdd$6(this, _client2$5, void 0);\n    __privateSet$6(this, _client2$5, client);\n  }\n  /**\n   * Clones the patch\n   */\n  clone() {\n    return new _Patch(this.selection, {\n      ...this.operations\n    }, __privateGet$6(this, _client2$5));\n  }\n  commit(options) {\n    if (!__privateGet$6(this, _client2$5)) {\n      throw new Error(\"No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method\");\n    }\n    const returnFirst = typeof this.selection === \"string\";\n    const opts = Object.assign({\n      returnFirst,\n      returnDocuments: true\n    }, options);\n    return __privateGet$6(this, _client2$5).mutate({\n      patch: this.serialize()\n    }, opts);\n  }\n};\nlet Patch = _Patch;\n_client2$5 = new WeakMap();\nvar __accessCheck$5 = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$5 = (obj, member, getter) => {\n  __accessCheck$5(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$5 = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$5 = (obj, member, value, setter) => {\n  __accessCheck$5(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _client$4, _client2$4;\nconst defaultMutateOptions = {\n  returnDocuments: false\n};\nclass BaseTransaction {\n  constructor() {\n    let operations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    let transactionId = arguments.length > 1 ? arguments[1] : undefined;\n    this.operations = operations;\n    this.trxId = transactionId;\n  }\n  /**\n   * Creates a new Sanity document. If `_id` is provided and already exists, the mutation will fail. If no `_id` is given, one will automatically be generated by the database.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create. Requires a `_type` property.\n   */\n  create(doc) {\n    validateObject(\"create\", doc);\n    return this._add({\n      create: doc\n    });\n  }\n  /**\n   * Creates a new Sanity document. If a document with the same `_id` already exists, the create operation will be ignored.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create if it does not already exist. Requires `_id` and `_type` properties.\n   */\n  createIfNotExists(doc) {\n    const op = \"createIfNotExists\";\n    validateObject(op, doc);\n    requireDocumentId(op, doc);\n    return this._add({\n      [op]: doc\n    });\n  }\n  /**\n   * Creates a new Sanity document, or replaces an existing one if the same `_id` is already used.\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param doc - Document to create or replace. Requires `_id` and `_type` properties.\n   */\n  createOrReplace(doc) {\n    const op = \"createOrReplace\";\n    validateObject(op, doc);\n    requireDocumentId(op, doc);\n    return this._add({\n      [op]: doc\n    });\n  }\n  /**\n   * Deletes the document with the given document ID\n   * The operation is added to the current transaction, ready to be commited by `commit()`\n   *\n   * @param documentId - Document ID to delete\n   */\n  delete(documentId) {\n    validateDocumentId(\"delete\", documentId);\n    return this._add({\n      delete: {\n        id: documentId\n      }\n    });\n  }\n  transactionId(id) {\n    if (!id) {\n      return this.trxId;\n    }\n    this.trxId = id;\n    return this;\n  }\n  /**\n   * Return a plain JSON representation of the transaction\n   */\n  serialize() {\n    return [...this.operations];\n  }\n  /**\n   * Return a plain JSON representation of the transaction\n   */\n  toJSON() {\n    return this.serialize();\n  }\n  /**\n   * Clears the transaction of all operations\n   */\n  reset() {\n    this.operations = [];\n    return this;\n  }\n  _add(mut) {\n    this.operations.push(mut);\n    return this;\n  }\n}\nconst _Transaction = class extends BaseTransaction {\n  constructor(operations, client, transactionId) {\n    super(operations, transactionId);\n    __privateAdd$5(this, _client$4, void 0);\n    __privateSet$5(this, _client$4, client);\n  }\n  /**\n   * Clones the transaction\n   */\n  clone() {\n    return new _Transaction([...this.operations], __privateGet$5(this, _client$4), this.trxId);\n  }\n  commit(options) {\n    if (!__privateGet$5(this, _client$4)) {\n      throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n    }\n    return __privateGet$5(this, _client$4).mutate(this.serialize(), Object.assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  }\n  patch(patchOrDocumentId, patchOps) {\n    const isBuilder = typeof patchOps === \"function\";\n    const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof Patch;\n    if (isPatch) {\n      return this._add({\n        patch: patchOrDocumentId.serialize()\n      });\n    }\n    if (isBuilder) {\n      const patch = patchOps(new Patch(patchOrDocumentId, {}, __privateGet$5(this, _client$4)));\n      if (!(patch instanceof Patch)) {\n        throw new Error(\"function passed to `patch()` must return the patch\");\n      }\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n    return this._add({\n      patch: {\n        id: patchOrDocumentId,\n        ...patchOps\n      }\n    });\n  }\n};\nlet Transaction = _Transaction;\n_client$4 = new WeakMap();\nconst _ObservableTransaction = class extends BaseTransaction {\n  constructor(operations, client, transactionId) {\n    super(operations, transactionId);\n    __privateAdd$5(this, _client2$4, void 0);\n    __privateSet$5(this, _client2$4, client);\n  }\n  /**\n   * Clones the transaction\n   */\n  clone() {\n    return new _ObservableTransaction([...this.operations], __privateGet$5(this, _client2$4), this.trxId);\n  }\n  commit(options) {\n    if (!__privateGet$5(this, _client2$4)) {\n      throw new Error(\"No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method\");\n    }\n    return __privateGet$5(this, _client2$4).mutate(this.serialize(), Object.assign({\n      transactionId: this.trxId\n    }, defaultMutateOptions, options || {}));\n  }\n  patch(patchOrDocumentId, patchOps) {\n    const isBuilder = typeof patchOps === \"function\";\n    const isPatch = typeof patchOrDocumentId !== \"string\" && patchOrDocumentId instanceof ObservablePatch;\n    if (isPatch) {\n      return this._add({\n        patch: patchOrDocumentId.serialize()\n      });\n    }\n    if (isBuilder) {\n      const patch = patchOps(new ObservablePatch(patchOrDocumentId, {}, __privateGet$5(this, _client2$4)));\n      if (!(patch instanceof ObservablePatch)) {\n        throw new Error(\"function passed to `patch()` must return the patch\");\n      }\n      return this._add({\n        patch: patch.serialize()\n      });\n    }\n    return this._add({\n      patch: {\n        id: patchOrDocumentId,\n        ...patchOps\n      }\n    });\n  }\n};\nlet ObservableTransaction = _ObservableTransaction;\n_client2$4 = new WeakMap();\nconst excludeFalsey = (param, defValue) => {\n  const value = typeof param === \"undefined\" ? defValue : param;\n  return param === false ? void 0 : value;\n};\nconst getMutationQuery = function () {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return {\n    dryRun: options.dryRun,\n    returnIds: true,\n    returnDocuments: excludeFalsey(options.returnDocuments, true),\n    visibility: options.visibility || \"sync\",\n    autoGenerateArrayKeys: options.autoGenerateArrayKeys,\n    skipCrossDatasetReferenceValidation: options.skipCrossDatasetReferenceValidation\n  };\n};\nconst isResponse = event => event.type === \"response\";\nconst getBody = event => event.body;\nconst indexBy = (docs, attr) => docs.reduce((indexed, doc) => {\n  indexed[attr(doc)] = doc;\n  return indexed;\n}, /* @__PURE__ */Object.create(null));\nconst getQuerySizeLimit = 11264;\nfunction _fetch(client, httpRequest, query, params) {\n  let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  const mapResponse = options.filterResponse === false ? res => res : res => res.result;\n  return _dataRequest(client, httpRequest, \"query\", {\n    query,\n    params\n  }, options).pipe(map(mapResponse));\n}\nfunction _getDocument(client, httpRequest, id) {\n  let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const options = {\n    uri: _getDataUrl(client, \"doc\", id),\n    json: true,\n    tag: opts.tag\n  };\n  return _requestObservable(client, httpRequest, options).pipe(filter(isResponse), map(event => event.body.documents && event.body.documents[0]));\n}\nfunction _getDocuments(client, httpRequest, ids) {\n  let opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  const options = {\n    uri: _getDataUrl(client, \"doc\", ids.join(\",\")),\n    json: true,\n    tag: opts.tag\n  };\n  return _requestObservable(client, httpRequest, options).pipe(filter(isResponse), map(event => {\n    const indexed = indexBy(event.body.documents || [], doc => doc._id);\n    return ids.map(id => indexed[id] || null);\n  }));\n}\nfunction _createIfNotExists(client, httpRequest, doc, options) {\n  requireDocumentId(\"createIfNotExists\", doc);\n  return _create(client, httpRequest, doc, \"createIfNotExists\", options);\n}\nfunction _createOrReplace(client, httpRequest, doc, options) {\n  requireDocumentId(\"createOrReplace\", doc);\n  return _create(client, httpRequest, doc, \"createOrReplace\", options);\n}\nfunction _delete(client, httpRequest, selection, options) {\n  return _dataRequest(client, httpRequest, \"mutate\", {\n    mutations: [{\n      delete: getSelection(selection)\n    }]\n  }, options);\n}\nfunction _mutate(client, httpRequest, mutations, options) {\n  const mut = mutations instanceof Patch || mutations instanceof ObservablePatch || mutations instanceof Transaction || mutations instanceof ObservableTransaction ? mutations.serialize() : mutations;\n  const muts = Array.isArray(mut) ? mut : [mut];\n  const transactionId = options && options.transactionId;\n  return _dataRequest(client, httpRequest, \"mutate\", {\n    mutations: muts,\n    transactionId\n  }, options);\n}\nfunction _dataRequest(client, httpRequest, endpoint, body) {\n  let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  const isMutation = endpoint === \"mutate\";\n  const isQuery = endpoint === \"query\";\n  const strQuery = isMutation ? \"\" : encodeQueryString(body);\n  const useGet = !isMutation && strQuery.length < getQuerySizeLimit;\n  const stringQuery = useGet ? strQuery : \"\";\n  const returnFirst = options.returnFirst;\n  const {\n    timeout,\n    token,\n    tag,\n    headers\n  } = options;\n  const uri = _getDataUrl(client, endpoint, stringQuery);\n  const reqOptions = {\n    method: useGet ? \"GET\" : \"POST\",\n    uri,\n    json: true,\n    body: useGet ? void 0 : body,\n    query: isMutation && getMutationQuery(options),\n    timeout,\n    headers,\n    token,\n    tag,\n    canUseCdn: isQuery,\n    signal: options.signal\n  };\n  return _requestObservable(client, httpRequest, reqOptions).pipe(filter(isResponse), map(getBody), map(res => {\n    if (!isMutation) {\n      return res;\n    }\n    const results = res.results || [];\n    if (options.returnDocuments) {\n      return returnFirst ? results[0] && results[0].document : results.map(mut => mut.document);\n    }\n    const key = returnFirst ? \"documentId\" : \"documentIds\";\n    const ids = returnFirst ? results[0] && results[0].id : results.map(mut => mut.id);\n    return {\n      transactionId: res.transactionId,\n      results,\n      [key]: ids\n    };\n  }));\n}\nfunction _create(client, httpRequest, doc, op) {\n  let options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  const mutation = {\n    [op]: doc\n  };\n  const opts = Object.assign({\n    returnFirst: true,\n    returnDocuments: true\n  }, options);\n  return _dataRequest(client, httpRequest, \"mutate\", {\n    mutations: [mutation]\n  }, opts);\n}\nfunction _requestObservable(client, httpRequest, options) {\n  const uri = options.url || options.uri;\n  const config = client.config();\n  const canUseCdn = typeof options.canUseCdn === \"undefined\" ? [\"GET\", \"HEAD\"].indexOf(options.method || \"GET\") >= 0 && uri.indexOf(\"/data/\") === 0 : options.canUseCdn;\n  const useCdn = config.useCdn && canUseCdn;\n  const tag = options.tag && config.requestTagPrefix ? [config.requestTagPrefix, options.tag].join(\".\") : options.tag || config.requestTagPrefix;\n  if (tag) {\n    options.query = {\n      tag: requestTag(tag),\n      ...options.query\n    };\n  }\n  const reqOptions = requestOptions(config, Object.assign({}, options, {\n    url: _getUrl(client, uri, useCdn)\n  }));\n  const request = new Observable(subscriber =>\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion -- the typings thinks it's optional because it's not required to specify it when calling createClient, but it's always defined in practice since SanityClient provides a default\n  httpRequest(reqOptions, config.requester).subscribe(subscriber));\n  return options.signal ? request.pipe(_withAbortSignal(options.signal)) : request;\n}\nfunction _request(client, httpRequest, options) {\n  const observable = _requestObservable(client, httpRequest, options).pipe(filter(event => event.type === \"response\"), map(event => event.body));\n  return observable;\n}\nfunction _getDataUrl(client, operation, path) {\n  const config = client.config();\n  const catalog = hasDataset(config);\n  const baseUri = \"/\".concat(operation, \"/\").concat(catalog);\n  const uri = path ? \"\".concat(baseUri, \"/\").concat(path) : baseUri;\n  return \"/data\".concat(uri).replace(/\\/($|\\?)/, \"$1\");\n}\nfunction _getUrl(client, uri) {\n  let canUseCdn = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n  const {\n    url,\n    cdnUrl\n  } = client.config();\n  const base = canUseCdn ? cdnUrl : url;\n  return \"\".concat(base, \"/\").concat(uri.replace(/^\\//, \"\"));\n}\nfunction _withAbortSignal(signal) {\n  return input => {\n    return new Observable(observer => {\n      const abort = () => observer.error(_createAbortError(signal));\n      if (signal && signal.aborted) {\n        abort();\n        return;\n      }\n      const subscription = input.subscribe(observer);\n      signal.addEventListener(\"abort\", abort);\n      return () => {\n        signal.removeEventListener(\"abort\", abort);\n        subscription.unsubscribe();\n      };\n    });\n  };\n}\nconst isDomExceptionSupported = Boolean(globalThis.DOMException);\nfunction _createAbortError(signal) {\n  var _a, _b;\n  if (isDomExceptionSupported) {\n    return new DOMException((_a = signal == null ? void 0 : signal.reason) != null ? _a : \"The operation was aborted.\", \"AbortError\");\n  }\n  const error = new Error((_b = signal == null ? void 0 : signal.reason) != null ? _b : \"The operation was aborted.\");\n  error.name = \"AbortError\";\n  return error;\n}\nvar __accessCheck$4 = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$4 = (obj, member, getter) => {\n  __accessCheck$4(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$4 = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$4 = (obj, member, value, setter) => {\n  __accessCheck$4(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _client$3, _httpRequest$4, _client2$3, _httpRequest2$4;\nclass ObservableAssetsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$4(this, _client$3, void 0);\n    __privateAdd$4(this, _httpRequest$4, void 0);\n    __privateSet$4(this, _client$3, client);\n    __privateSet$4(this, _httpRequest$4, httpRequest);\n  }\n  upload(assetType, body, options) {\n    return _upload(__privateGet$4(this, _client$3), __privateGet$4(this, _httpRequest$4), assetType, body, options);\n  }\n}\n_client$3 = new WeakMap();\n_httpRequest$4 = new WeakMap();\nclass AssetsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$4(this, _client2$3, void 0);\n    __privateAdd$4(this, _httpRequest2$4, void 0);\n    __privateSet$4(this, _client2$3, client);\n    __privateSet$4(this, _httpRequest2$4, httpRequest);\n  }\n  upload(assetType, body, options) {\n    const observable = _upload(__privateGet$4(this, _client2$3), __privateGet$4(this, _httpRequest2$4), assetType, body, options);\n    return lastValueFrom(observable.pipe(filter(event => event.type === \"response\"), map(event => event.body.document)));\n  }\n}\n_client2$3 = new WeakMap();\n_httpRequest2$4 = new WeakMap();\nfunction _upload(client, httpRequest, assetType, body) {\n  let opts = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n  validateAssetType(assetType);\n  let meta = opts.extract || void 0;\n  if (meta && !meta.length) {\n    meta = [\"none\"];\n  }\n  const dataset = hasDataset(client.config());\n  const assetEndpoint = assetType === \"image\" ? \"images\" : \"files\";\n  const options = optionsFromFile(opts, body);\n  const {\n    tag,\n    label,\n    title,\n    description,\n    creditLine,\n    filename,\n    source\n  } = options;\n  const query = {\n    label,\n    title,\n    description,\n    filename,\n    meta,\n    creditLine\n  };\n  if (source) {\n    query.sourceId = source.id;\n    query.sourceName = source.name;\n    query.sourceUrl = source.url;\n  }\n  return _requestObservable(client, httpRequest, {\n    tag,\n    method: \"POST\",\n    timeout: options.timeout || 0,\n    uri: \"/assets/\".concat(assetEndpoint, \"/\").concat(dataset),\n    headers: options.contentType ? {\n      \"Content-Type\": options.contentType\n    } : {},\n    query,\n    body\n  });\n}\nfunction optionsFromFile(opts, file) {\n  if (typeof window === \"undefined\" || !(file instanceof window.File)) {\n    return opts;\n  }\n  return Object.assign({\n    filename: opts.preserveFilename === false ? void 0 : file.name,\n    contentType: file.type\n  }, opts);\n}\nconst BASE_URL = \"https://www.sanity.io/help/\";\nfunction generateHelpUrl(slug) {\n  return BASE_URL + slug;\n}\nfunction once(fn) {\n  let didCall = false;\n  let returnValue;\n  return function () {\n    if (didCall) {\n      return returnValue;\n    }\n    returnValue = fn(...arguments);\n    didCall = true;\n    return returnValue;\n  };\n}\nconst createWarningPrinter = message =>\n// eslint-disable-next-line no-console\nonce(function () {\n  for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n  return console.warn(message.join(\" \"), ...args);\n});\nconst printCdnWarning = createWarningPrinter([\"You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and\", \"cheaper. Think about it! For more info, see \".concat(generateHelpUrl(\"js-client-cdn-configuration\"), \" \"), \"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating\", \"the client.\"]);\nconst printBrowserTokenWarning = createWarningPrinter([\"You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.\", \"See \".concat(generateHelpUrl(\"js-client-browser-token\"), \" for more information and how to hide this warning.\")]);\nconst printNoApiVersionSpecifiedWarning = createWarningPrinter([\"Using the Sanity client without specifying an API version is deprecated.\", \"See \".concat(generateHelpUrl(\"js-client-api-version\"))]);\nconst printNoDefaultExport = createWarningPrinter([\"The default export of @sanity/client has been deprecated. Use the named export `createClient` instead\"]);\nconst defaultCdnHost = \"apicdn.sanity.io\";\nconst defaultConfig = {\n  apiHost: \"https://api.sanity.io\",\n  apiVersion: \"1\",\n  useProjectHostname: true\n};\nconst LOCALHOSTS = [\"localhost\", \"127.0.0.1\", \"0.0.0.0\"];\nconst isLocal = host => LOCALHOSTS.indexOf(host) !== -1;\nconst validateApiVersion = function validateApiVersion2(apiVersion) {\n  if (apiVersion === \"1\" || apiVersion === \"X\") {\n    return;\n  }\n  const apiDate = new Date(apiVersion);\n  const apiVersionValid = /^\\d{4}-\\d{2}-\\d{2}$/.test(apiVersion) && apiDate instanceof Date && apiDate.getTime() > 0;\n  if (!apiVersionValid) {\n    throw new Error(\"Invalid API version string, expected `1` or date in format `YYYY-MM-DD`\");\n  }\n};\nconst initConfig = (config, prevConfig) => {\n  const specifiedConfig = Object.assign({}, prevConfig, config);\n  if (!specifiedConfig.apiVersion) {\n    printNoApiVersionSpecifiedWarning();\n  }\n  const newConfig = Object.assign({}, defaultConfig, specifiedConfig);\n  const projectBased = newConfig.useProjectHostname;\n  if (typeof Promise === \"undefined\") {\n    const helpUrl = generateHelpUrl(\"js-client-promise-polyfill\");\n    throw new Error(\"No native Promise-implementation found, polyfill needed - see \".concat(helpUrl));\n  }\n  if (projectBased && !newConfig.projectId) {\n    throw new Error(\"Configuration must contain `projectId`\");\n  }\n  const isBrowser = typeof window !== \"undefined\" && window.location && window.location.hostname;\n  const isLocalhost = isBrowser && isLocal(window.location.hostname);\n  if (isBrowser && isLocalhost && newConfig.token && newConfig.ignoreBrowserTokenWarning !== true) {\n    printBrowserTokenWarning();\n  } else if (typeof newConfig.useCdn === \"undefined\") {\n    printCdnWarning();\n  }\n  if (projectBased) {\n    projectId(newConfig.projectId);\n  }\n  if (newConfig.dataset) {\n    dataset(newConfig.dataset);\n  }\n  if (\"requestTagPrefix\" in newConfig) {\n    newConfig.requestTagPrefix = newConfig.requestTagPrefix ? requestTag(newConfig.requestTagPrefix).replace(/\\.+$/, \"\") : void 0;\n  }\n  newConfig.apiVersion = \"\".concat(newConfig.apiVersion).replace(/^v/, \"\");\n  newConfig.isDefaultApi = newConfig.apiHost === defaultConfig.apiHost;\n  newConfig.useCdn = Boolean(newConfig.useCdn) && !newConfig.withCredentials;\n  validateApiVersion(newConfig.apiVersion);\n  const hostParts = newConfig.apiHost.split(\"://\", 2);\n  const protocol = hostParts[0];\n  const host = hostParts[1];\n  const cdnHost = newConfig.isDefaultApi ? defaultCdnHost : host;\n  if (newConfig.useProjectHostname) {\n    newConfig.url = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(host, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = \"\".concat(protocol, \"://\").concat(newConfig.projectId, \".\").concat(cdnHost, \"/v\").concat(newConfig.apiVersion);\n  } else {\n    newConfig.url = \"\".concat(newConfig.apiHost, \"/v\").concat(newConfig.apiVersion);\n    newConfig.cdnUrl = newConfig.url;\n  }\n  return newConfig;\n};\nvar defaults = (obj, defaults) => Object.keys(defaults).concat(Object.keys(obj)).reduce((target, prop) => {\n  target[prop] = typeof obj[prop] === \"undefined\" ? defaults[prop] : obj[prop];\n  return target;\n}, {});\nconst pick = (obj, props) => props.reduce((selection, prop) => {\n  if (typeof obj[prop] === \"undefined\") {\n    return selection;\n  }\n  selection[prop] = obj[prop];\n  return selection;\n}, {});\nconst MAX_URL_LENGTH = 16e3 - 1200;\nconst EventSource = polyfilledEventSource;\nconst possibleOptions = [\"includePreviousRevision\", \"includeResult\", \"visibility\", \"effectFormat\", \"tag\"];\nconst defaultOptions = {\n  includeResult: true\n};\nfunction _listen(query, params) {\n  let opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const {\n    url,\n    token,\n    withCredentials,\n    requestTagPrefix\n  } = this.config();\n  const tag = opts.tag && requestTagPrefix ? [requestTagPrefix, opts.tag].join(\".\") : opts.tag;\n  const options = {\n    ...defaults(opts, defaultOptions),\n    tag\n  };\n  const listenOpts = pick(options, possibleOptions);\n  const qs = encodeQueryString({\n    query,\n    params,\n    options: {\n      tag,\n      ...listenOpts\n    }\n  });\n  const uri = \"\".concat(url).concat(_getDataUrl(this, \"listen\", qs));\n  if (uri.length > MAX_URL_LENGTH) {\n    return new Observable(observer => observer.error(new Error(\"Query too large for listener\")));\n  }\n  const listenFor = options.events ? options.events : [\"mutation\"];\n  const shouldEmitReconnect = listenFor.indexOf(\"reconnect\") !== -1;\n  const esOptions = {};\n  if (token || withCredentials) {\n    esOptions.withCredentials = true;\n  }\n  if (token) {\n    esOptions.headers = {\n      Authorization: \"Bearer \".concat(token)\n    };\n  }\n  return new Observable(observer => {\n    let es = getEventSource();\n    let reconnectTimer;\n    let stopped = false;\n    function onError() {\n      if (stopped) {\n        return;\n      }\n      emitReconnect();\n      if (stopped) {\n        return;\n      }\n      if (es.readyState === EventSource.CLOSED) {\n        unsubscribe();\n        clearTimeout(reconnectTimer);\n        reconnectTimer = setTimeout(open, 100);\n      }\n    }\n    function onChannelError(err) {\n      observer.error(cooerceError(err));\n    }\n    function onMessage(evt) {\n      const event = parseEvent(evt);\n      return event instanceof Error ? observer.error(event) : observer.next(event);\n    }\n    function onDisconnect() {\n      stopped = true;\n      unsubscribe();\n      observer.complete();\n    }\n    function unsubscribe() {\n      es.removeEventListener(\"error\", onError, false);\n      es.removeEventListener(\"channelError\", onChannelError, false);\n      es.removeEventListener(\"disconnect\", onDisconnect, false);\n      listenFor.forEach(type => es.removeEventListener(type, onMessage, false));\n      es.close();\n    }\n    function emitReconnect() {\n      if (shouldEmitReconnect) {\n        observer.next({\n          type: \"reconnect\"\n        });\n      }\n    }\n    function getEventSource() {\n      const evs = new EventSource(uri, esOptions);\n      evs.addEventListener(\"error\", onError, false);\n      evs.addEventListener(\"channelError\", onChannelError, false);\n      evs.addEventListener(\"disconnect\", onDisconnect, false);\n      listenFor.forEach(type => evs.addEventListener(type, onMessage, false));\n      return evs;\n    }\n    function open() {\n      es = getEventSource();\n    }\n    function stop() {\n      stopped = true;\n      unsubscribe();\n    }\n    return stop;\n  });\n}\nfunction parseEvent(event) {\n  try {\n    const data = event.data && JSON.parse(event.data) || {};\n    return Object.assign({\n      type: event.type\n    }, data);\n  } catch (err) {\n    return err;\n  }\n}\nfunction cooerceError(err) {\n  if (err instanceof Error) {\n    return err;\n  }\n  const evt = parseEvent(err);\n  return evt instanceof Error ? evt : new Error(extractErrorMessage(evt));\n}\nfunction extractErrorMessage(err) {\n  if (!err.error) {\n    return err.message || \"Unknown listener error\";\n  }\n  if (err.error.description) {\n    return err.error.description;\n  }\n  return typeof err.error === \"string\" ? err.error : JSON.stringify(err.error, null, 2);\n}\nvar __accessCheck$3 = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$3 = (obj, member, getter) => {\n  __accessCheck$3(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$3 = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$3 = (obj, member, value, setter) => {\n  __accessCheck$3(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _client$2, _httpRequest$3, _client2$2, _httpRequest2$3;\nclass ObservableDatasetsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$3(this, _client$2, void 0);\n    __privateAdd$3(this, _httpRequest$3, void 0);\n    __privateSet$3(this, _client$2, client);\n    __privateSet$3(this, _httpRequest$3, httpRequest);\n  }\n  /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */\n  create(name, options) {\n    return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PUT\", name, options);\n  }\n  /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */\n  edit(name, options) {\n    return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"PATCH\", name, options);\n  }\n  /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */\n  delete(name) {\n    return _modify(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), \"DELETE\", name);\n  }\n  /**\n   * Fetch a list of datasets for the configured project\n   */\n  list() {\n    return _request(__privateGet$3(this, _client$2), __privateGet$3(this, _httpRequest$3), {\n      uri: \"/datasets\"\n    });\n  }\n}\n_client$2 = new WeakMap();\n_httpRequest$3 = new WeakMap();\nclass DatasetsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$3(this, _client2$2, void 0);\n    __privateAdd$3(this, _httpRequest2$3, void 0);\n    __privateSet$3(this, _client2$2, client);\n    __privateSet$3(this, _httpRequest2$3, httpRequest);\n  }\n  /**\n   * Create a new dataset with the given name\n   *\n   * @param name - Name of the dataset to create\n   * @param options - Options for the dataset\n   */\n  create(name, options) {\n    return lastValueFrom(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PUT\", name, options));\n  }\n  /**\n   * Edit a dataset with the given name\n   *\n   * @param name - Name of the dataset to edit\n   * @param options - New options for the dataset\n   */\n  edit(name, options) {\n    return lastValueFrom(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"PATCH\", name, options));\n  }\n  /**\n   * Delete a dataset with the given name\n   *\n   * @param name - Name of the dataset to delete\n   */\n  delete(name) {\n    return lastValueFrom(_modify(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), \"DELETE\", name));\n  }\n  /**\n   * Fetch a list of datasets for the configured project\n   */\n  list() {\n    return lastValueFrom(_request(__privateGet$3(this, _client2$2), __privateGet$3(this, _httpRequest2$3), {\n      uri: \"/datasets\"\n    }));\n  }\n}\n_client2$2 = new WeakMap();\n_httpRequest2$3 = new WeakMap();\nfunction _modify(client, httpRequest, method, name, options) {\n  dataset(name);\n  return _request(client, httpRequest, {\n    method,\n    uri: \"/datasets/\".concat(name),\n    body: options\n  });\n}\nvar __accessCheck$2 = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$2 = (obj, member, getter) => {\n  __accessCheck$2(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$2 = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$2 = (obj, member, value, setter) => {\n  __accessCheck$2(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _client$1, _httpRequest$2, _client2$1, _httpRequest2$2;\nclass ObservableProjectsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$2(this, _client$1, void 0);\n    __privateAdd$2(this, _httpRequest$2, void 0);\n    __privateSet$2(this, _client$1, client);\n    __privateSet$2(this, _httpRequest$2, httpRequest);\n  }\n  /**\n   * Fetch a list of projects the authenticated user has access to\n   */\n  list() {\n    return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n      uri: \"/projects\"\n    });\n  }\n  /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */\n  getById(projectId) {\n    return _request(__privateGet$2(this, _client$1), __privateGet$2(this, _httpRequest$2), {\n      uri: \"/projects/\".concat(projectId)\n    });\n  }\n}\n_client$1 = new WeakMap();\n_httpRequest$2 = new WeakMap();\nclass ProjectsClient {\n  constructor(client, httpRequest) {\n    __privateAdd$2(this, _client2$1, void 0);\n    __privateAdd$2(this, _httpRequest2$2, void 0);\n    __privateSet$2(this, _client2$1, client);\n    __privateSet$2(this, _httpRequest2$2, httpRequest);\n  }\n  /**\n   * Fetch a list of projects the authenticated user has access to\n   */\n  list() {\n    return lastValueFrom(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n      uri: \"/projects\"\n    }));\n  }\n  /**\n   * Fetch a project by project ID\n   *\n   * @param projectId - ID of the project to fetch\n   */\n  getById(projectId) {\n    return lastValueFrom(_request(__privateGet$2(this, _client2$1), __privateGet$2(this, _httpRequest2$2), {\n      uri: \"/projects/\".concat(projectId)\n    }));\n  }\n}\n_client2$1 = new WeakMap();\n_httpRequest2$2 = new WeakMap();\nvar __accessCheck$1 = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet$1 = (obj, member, getter) => {\n  __accessCheck$1(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd$1 = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet$1 = (obj, member, value, setter) => {\n  __accessCheck$1(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _client, _httpRequest$1, _client2, _httpRequest2$1;\nclass ObservableUsersClient {\n  constructor(client, httpRequest) {\n    __privateAdd$1(this, _client, void 0);\n    __privateAdd$1(this, _httpRequest$1, void 0);\n    __privateSet$1(this, _client, client);\n    __privateSet$1(this, _httpRequest$1, httpRequest);\n  }\n  /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */\n  getById(id) {\n    return _request(__privateGet$1(this, _client), __privateGet$1(this, _httpRequest$1), {\n      uri: \"/users/\".concat(id)\n    });\n  }\n}\n_client = new WeakMap();\n_httpRequest$1 = new WeakMap();\nclass UsersClient {\n  constructor(client, httpRequest) {\n    __privateAdd$1(this, _client2, void 0);\n    __privateAdd$1(this, _httpRequest2$1, void 0);\n    __privateSet$1(this, _client2, client);\n    __privateSet$1(this, _httpRequest2$1, httpRequest);\n  }\n  /**\n   * Fetch a user by user ID\n   *\n   * @param id - User ID of the user to fetch. If `me` is provided, a minimal response including the users role is returned.\n   */\n  getById(id) {\n    return lastValueFrom(_request(__privateGet$1(this, _client2), __privateGet$1(this, _httpRequest2$1), {\n      uri: \"/users/\".concat(id)\n    }));\n  }\n}\n_client2 = new WeakMap();\n_httpRequest2$1 = new WeakMap();\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj)) throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj)) throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar _clientConfig, _httpRequest, _clientConfig2, _httpRequest2;\nconst _ObservableSanityClient = class {\n  constructor(httpRequest) {\n    let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultConfig;\n    /**\n     * Private properties\n     */\n    __privateAdd(this, _clientConfig, void 0);\n    __privateAdd(this, _httpRequest, void 0);\n    /**\n     * Instance properties\n     */\n    this.listen = _listen;\n    this.config(config);\n    __privateSet(this, _httpRequest, httpRequest);\n    this.assets = new ObservableAssetsClient(this, __privateGet(this, _httpRequest));\n    this.datasets = new ObservableDatasetsClient(this, __privateGet(this, _httpRequest));\n    this.projects = new ObservableProjectsClient(this, __privateGet(this, _httpRequest));\n    this.users = new ObservableUsersClient(this, __privateGet(this, _httpRequest));\n  }\n  /**\n   * Clone the client - returns a new instance\n   */\n  clone() {\n    return new _ObservableSanityClient(__privateGet(this, _httpRequest), this.config());\n  }\n  config(newConfig) {\n    if (newConfig === void 0) {\n      return {\n        ...__privateGet(this, _clientConfig)\n      };\n    }\n    if (__privateGet(this, _clientConfig) && __privateGet(this, _clientConfig).allowReconfigure === false) {\n      throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n    }\n    __privateSet(this, _clientConfig, initConfig(newConfig, __privateGet(this, _clientConfig) || {}));\n    return this;\n  }\n  /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */\n  withConfig(newConfig) {\n    return new _ObservableSanityClient(__privateGet(this, _httpRequest), {\n      ...this.config(),\n      ...newConfig\n    });\n  }\n  fetch(query, params) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return _fetch(this, __privateGet(this, _httpRequest), query, params, options);\n  }\n  /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */\n  getDocument(id, options) {\n    return _getDocument(this, __privateGet(this, _httpRequest), id, options);\n  }\n  /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */\n  getDocuments(ids, options) {\n    return _getDocuments(this, __privateGet(this, _httpRequest), ids, options);\n  }\n  create(document, options) {\n    return _create(this, __privateGet(this, _httpRequest), document, \"create\", options);\n  }\n  createIfNotExists(document, options) {\n    return _createIfNotExists(this, __privateGet(this, _httpRequest), document, options);\n  }\n  createOrReplace(document, options) {\n    return _createOrReplace(this, __privateGet(this, _httpRequest), document, options);\n  }\n  delete(selection, options) {\n    return _delete(this, __privateGet(this, _httpRequest), selection, options);\n  }\n  mutate(operations, options) {\n    return _mutate(this, __privateGet(this, _httpRequest), operations, options);\n  }\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param documentId - Document ID(s) to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   */\n  patch(documentId, operations) {\n    return new ObservablePatch(documentId, operations, this);\n  }\n  /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */\n  transaction(operations) {\n    return new ObservableTransaction(operations, this);\n  }\n  /**\n   * DEPRECATED: Perform an HTTP request against the Sanity API\n   *\n   * @deprecated Use your own request library!\n   * @param options - Request options\n   */\n  request(options) {\n    return _request(this, __privateGet(this, _httpRequest), options);\n  }\n  /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */\n  getUrl(uri, canUseCdn) {\n    return _getUrl(this, uri, canUseCdn);\n  }\n  /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */\n  getDataUrl(operation, path) {\n    return _getDataUrl(this, operation, path);\n  }\n};\nlet ObservableSanityClient = _ObservableSanityClient;\n_clientConfig = new WeakMap();\n_httpRequest = new WeakMap();\nconst _SanityClient = class {\n  constructor(httpRequest) {\n    let config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultConfig;\n    /**\n     * Private properties\n     */\n    __privateAdd(this, _clientConfig2, void 0);\n    __privateAdd(this, _httpRequest2, void 0);\n    /**\n     * Instance properties\n     */\n    this.listen = _listen;\n    this.config(config);\n    __privateSet(this, _httpRequest2, httpRequest);\n    this.assets = new AssetsClient(this, __privateGet(this, _httpRequest2));\n    this.datasets = new DatasetsClient(this, __privateGet(this, _httpRequest2));\n    this.projects = new ProjectsClient(this, __privateGet(this, _httpRequest2));\n    this.users = new UsersClient(this, __privateGet(this, _httpRequest2));\n    this.observable = new ObservableSanityClient(httpRequest, config);\n  }\n  /**\n   * Clone the client - returns a new instance\n   */\n  clone() {\n    return new _SanityClient(__privateGet(this, _httpRequest2), this.config());\n  }\n  config(newConfig) {\n    if (newConfig === void 0) {\n      return {\n        ...__privateGet(this, _clientConfig2)\n      };\n    }\n    if (__privateGet(this, _clientConfig2) && __privateGet(this, _clientConfig2).allowReconfigure === false) {\n      throw new Error(\"Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client\");\n    }\n    if (this.observable) {\n      this.observable.config(newConfig);\n    }\n    __privateSet(this, _clientConfig2, initConfig(newConfig, __privateGet(this, _clientConfig2) || {}));\n    return this;\n  }\n  /**\n   * Clone the client with a new (partial) configuration.\n   *\n   * @param newConfig - New client configuration properties, shallowly merged with existing configuration\n   */\n  withConfig(newConfig) {\n    return new _SanityClient(__privateGet(this, _httpRequest2), {\n      ...this.config(),\n      ...newConfig\n    });\n  }\n  fetch(query, params) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return lastValueFrom(_fetch(this, __privateGet(this, _httpRequest2), query, params, options));\n  }\n  /**\n   * Fetch a single document with the given ID.\n   *\n   * @param id - Document ID to fetch\n   * @param options - Request options\n   */\n  getDocument(id, options) {\n    return lastValueFrom(_getDocument(this, __privateGet(this, _httpRequest2), id, options));\n  }\n  /**\n   * Fetch multiple documents in one request.\n   * Should be used sparingly - performing a query is usually a better option.\n   * The order/position of documents is preserved based on the original array of IDs.\n   * If any of the documents are missing, they will be replaced by a `null` entry in the returned array\n   *\n   * @param ids - Document IDs to fetch\n   * @param options - Request options\n   */\n  getDocuments(ids, options) {\n    return lastValueFrom(_getDocuments(this, __privateGet(this, _httpRequest2), ids, options));\n  }\n  create(document, options) {\n    return lastValueFrom(_create(this, __privateGet(this, _httpRequest2), document, \"create\", options));\n  }\n  createIfNotExists(document, options) {\n    return lastValueFrom(_createIfNotExists(this, __privateGet(this, _httpRequest2), document, options));\n  }\n  createOrReplace(document, options) {\n    return lastValueFrom(_createOrReplace(this, __privateGet(this, _httpRequest2), document, options));\n  }\n  delete(selection, options) {\n    return lastValueFrom(_delete(this, __privateGet(this, _httpRequest2), selection, options));\n  }\n  mutate(operations, options) {\n    return lastValueFrom(_mutate(this, __privateGet(this, _httpRequest2), operations, options));\n  }\n  /**\n   * Create a new buildable patch of operations to perform\n   *\n   * @param documentId - Document ID(s)to patch\n   * @param operations - Optional object of patch operations to initialize the patch instance with\n   */\n  patch(documentId, operations) {\n    return new Patch(documentId, operations, this);\n  }\n  /**\n   * Create a new transaction of mutations\n   *\n   * @param operations - Optional array of mutation operations to initialize the transaction instance with\n   */\n  transaction(operations) {\n    return new Transaction(operations, this);\n  }\n  /**\n   * DEPRECATED: Perform an HTTP request against the Sanity API\n   *\n   * @deprecated Use your own request library!\n   * @param options - Request options\n   */\n  request(options) {\n    return lastValueFrom(_request(this, __privateGet(this, _httpRequest2), options));\n  }\n  /**\n   * DEPRECATED: Perform an HTTP request a `/data` sub-endpoint\n   *\n   * @deprecated Use your own request library!\n   * @param endpoint - Endpoint to hit (mutate, query etc)\n   * @param body - Request body\n   * @param options - Request options\n   */\n  dataRequest(endpoint, body, options) {\n    return lastValueFrom(_dataRequest(this, __privateGet(this, _httpRequest2), endpoint, body, options));\n  }\n  /**\n   * Get a Sanity API URL for the URI provided\n   *\n   * @param uri - URI/path to build URL for\n   * @param canUseCdn - Whether or not to allow using the API CDN for this route\n   */\n  getUrl(uri, canUseCdn) {\n    return _getUrl(this, uri, canUseCdn);\n  }\n  /**\n   * Get a Sanity API URL for the data operation and path provided\n   *\n   * @param operation - Data operation (eg `query`, `mutate`, `listen` or similar)\n   * @param path - Path to append after the operation\n   */\n  getDataUrl(operation, path) {\n    return _getDataUrl(this, operation, path);\n  }\n};\nlet SanityClient = _SanityClient;\n_clientConfig2 = new WeakMap();\n_httpRequest2 = new WeakMap();\nconst httpRequest = defineHttpRequest(envMiddleware);\nconst requester = httpRequest.defaultRequester;\nconst createClient = config => new SanityClient(httpRequest, config);\nfunction deprecatedCreateClient(config) {\n  printNoDefaultExport();\n  return new SanityClient(httpRequest, config);\n}\nexport { BasePatch, BaseTransaction, ClientError, ObservablePatch, ObservableSanityClient, ObservableTransaction, Patch, SanityClient, ServerError, Transaction, createClient, deprecatedCreateClient as default, requester };\n//# sourceMappingURL=index.browser.js.map\n","// src/component/Footer.tsx\nimport * as React from \"react\";\nexport const Footer = () => {\n    return (\n        <div className=\"px-5 py-2 flex text-[#fff4ec] bg-[#2d2d34] font-light text-sm mt-10\">\n            <p> Joyride &copy; 2023</p>\n        </div>\n    );\n};","// src/components/Header.tsx\n\nimport * as React from \"react\";\n\nexport const Header = () => {\n    return (\n        <div\n            className=\"px-5 py-2 grid gap-2 content-center grid-cols-12 text-[#fff4ec] bg-[#2d2d34] font-light text-sm\">\n            <div className=\"col-span-4 items-center\">\n                <p className=\"font-bold text-lg\">Joyride</p>\n            </div>\n\n            <div className=\"flex space-x-10 col-span-8 justify-end items-center\">\n                <p>Get a ride</p>\n                <p>Drive with us</p>\n                <p>About us</p>\n                <p>Safety</p>\n                <button className=\"px-2 py-1 bg-[#c98686] rounded\">Log in</button>\n            </div>\n        </div>\n    );\n};","// src/components/Layout.tsx\n\nimport * as React from \"react\";\nimport { Footer } from \"./Footer\";\nimport { Header } from \"./Header\";\n\nexport const Layout = (props: any) => {\n    return (\n        <div className=\"flex flex-col h-screen justify-between\">\n            <Header />\n            <div className=\"mb-auto\">{props.children}</div>\n            <Footer />\n        </div>\n    );\n};","// src/components/Page.tsx\n\nimport * as React from \"react\";\nimport {Layout} from \"./Layout\";\n\nexport const PageComponent = (props: any) => {\n    return (\n        <Layout>\n            <div className=\"container mx-auto\">{props.children}</div>\n        </Layout>\n    );\n};\n\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\n\n// src/api/apiClientUtils.ts\nvar nullLimitPolicy = async (func) => await func();\nvar ApiClientError = class extends Error {\n  constructor(errorMessage, fetchMethod, fetchUri, statusCode, statusText, requestId) {\n    super(\n      `${errorMessage}\n ${statusCode}${statusText ? \" \" + statusText : \"\"} (${fetchMethod} ${fetchUri}${requestId ? ` Request ID: ${requestId}` : \"\"})`\n    );\n    this.errorMessage = errorMessage;\n    this.fetchMethod = fetchMethod;\n    this.fetchUri = fetchUri;\n    this.statusCode = statusCode;\n    this.statusText = statusText;\n    this.requestId = requestId;\n    Object.setPrototypeOf(this, ApiClientError.prototype);\n  }\n};\n\n// src/api/ApiClient.ts\nvar ApiClient = class {\n  constructor(options) {\n    __publicField(this, \"options\");\n    var _a, _b, _c, _d, _e;\n    if (!options.apiKey && !options.bearerToken) {\n      throw new Error(\"You must provide an API key or a bearer token\");\n    }\n    let leFetch = options.fetch;\n    if (!leFetch) {\n      if (typeof window !== \"undefined\") {\n        leFetch = window.fetch.bind(window);\n      } else if (typeof fetch !== \"undefined\") {\n        leFetch = fetch;\n      } else {\n        throw new Error(\"You must provide or polyfill a fetch implementation when not in a browser\");\n      }\n    }\n    this.options = {\n      ...options,\n      fetch: leFetch,\n      apiHost: this.ensureApiHost(options.apiHost),\n      apiKey: (_a = options.apiKey) != null ? _a : null,\n      projectId: (_b = options.projectId) != null ? _b : null,\n      bearerToken: (_c = options.bearerToken) != null ? _c : null,\n      limitPolicy: (_d = options.limitPolicy) != null ? _d : nullLimitPolicy,\n      bypassCache: (_e = options.bypassCache) != null ? _e : false\n    };\n  }\n  async apiClient(fetchUri, options) {\n    return this.options.limitPolicy(async () => {\n      var _a;\n      const coreHeaders = this.options.apiKey ? {\n        \"x-api-key\": this.options.apiKey\n      } : {\n        Authorization: `Bearer ${this.options.bearerToken}`\n      };\n      if (this.options.bypassCache) {\n        coreHeaders[\"x-bypass-cache\"] = \"true\";\n      }\n      const callApi = () => this.options.fetch(fetchUri.toString(), {\n        ...options,\n        headers: {\n          ...options == null ? void 0 : options.headers,\n          ...coreHeaders\n        }\n      });\n      const apiResponse = await handleRateLimits(callApi);\n      if (!apiResponse.ok) {\n        let message = \"\";\n        try {\n          const responseText = await apiResponse.text();\n          try {\n            const parsed = JSON.parse(responseText);\n            if (parsed.errorMessage) {\n              message = Array.isArray(parsed.errorMessage) ? parsed.errorMessage.join(\", \") : parsed.errorMessage;\n            } else {\n              message = responseText;\n            }\n          } catch (e) {\n            message = responseText;\n          }\n        } catch (e) {\n          message = `General error`;\n        }\n        throw new ApiClientError(\n          message,\n          (_a = options == null ? void 0 : options.method) != null ? _a : \"GET\",\n          fetchUri.toString(),\n          apiResponse.status,\n          apiResponse.statusText,\n          ApiClient.getRequestId(apiResponse)\n        );\n      }\n      if (options == null ? void 0 : options.expectNoContent) {\n        return null;\n      }\n      return await apiResponse.json();\n    });\n  }\n  createUrl(path, queryParams, hostOverride) {\n    const url = new URL(`${hostOverride != null ? hostOverride : this.options.apiHost}${path}`);\n    Object.entries(queryParams != null ? queryParams : {}).forEach(([key, value]) => {\n      var _a;\n      if (typeof value !== \"undefined\" && value !== null) {\n        url.searchParams.append(key, Array.isArray(value) ? value.join(\",\") : (_a = value == null ? void 0 : value.toString()) != null ? _a : \"\");\n      }\n    });\n    return url;\n  }\n  ensureApiHost(apiHost) {\n    if (!apiHost)\n      return \"https://uniform.app\";\n    if (!(apiHost == null ? void 0 : apiHost.startsWith(\"http\"))) {\n      throw new Error('Your apiHost must start with \"http\"');\n    }\n    if (apiHost.indexOf(\"/\", 8) > -1) {\n      throw new Error(\"Your apiHost must not contain a path element after the domain\");\n    }\n    if (apiHost.indexOf(\"?\") > -1) {\n      throw new Error(\"Your apiHost must not contain a query string\");\n    }\n    if (apiHost == null ? void 0 : apiHost.endsWith(\"/\")) {\n      apiHost = apiHost.substring(0, apiHost.length - 1);\n    }\n    return apiHost;\n  }\n  static getRequestId(response) {\n    const apigRequestId = response.headers.get(\"apigw-requestid\");\n    if (apigRequestId) {\n      return apigRequestId;\n    }\n    return void 0;\n  }\n};\nasync function handleRateLimits(callApi) {\n  var _a;\n  const backoffRetries = 5;\n  let backoffRetriesLeft = backoffRetries;\n  let response;\n  while (backoffRetriesLeft > 0) {\n    response = await callApi();\n    if (response.status !== 429) {\n      break;\n    }\n    let resetWait = 0;\n    try {\n      const dateHeader = response.headers.get(\"date\");\n      const serverTime = dateHeader ? new Date(dateHeader).getTime() : void 0;\n      const body = await response.json();\n      const resetTime = (_a = body == null ? void 0 : body.info) == null ? void 0 : _a.reset;\n      if (typeof serverTime === \"number\" && typeof resetTime === \"number\") {\n        resetWait = Math.max(0, Math.min(Math.round(1.1 * (resetTime - serverTime)), 1e4));\n      }\n    } catch (err) {\n    }\n    const base = Math.pow(2, backoffRetries - backoffRetriesLeft) * 333;\n    const backoffWait = base + Math.round(Math.random() * (base / 2)) * (Math.random() > 0.5 ? 1 : -1);\n    await new Promise((resolve) => setTimeout(resolve, resetWait + backoffWait));\n    backoffRetriesLeft -= 1;\n  }\n  return response;\n}\n\n// src/api/AggregateClient.ts\nvar _url;\nvar _AggregateClient = class extends ApiClient {\n  constructor(options) {\n    super(options);\n  }\n  async get(options) {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(__privateGet(_AggregateClient, _url), { ...options, projectId });\n    return await this.apiClient(fetchUri);\n  }\n  async upsert(body) {\n    const fetchUri = this.createUrl(__privateGet(_AggregateClient, _url));\n    await this.apiClient(fetchUri, {\n      method: \"PUT\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n  async remove(body) {\n    const fetchUri = this.createUrl(__privateGet(_AggregateClient, _url));\n    await this.apiClient(fetchUri, {\n      method: \"DELETE\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n};\nvar AggregateClient = _AggregateClient;\n_url = new WeakMap();\n__privateAdd(AggregateClient, _url, \"/api/v2/aggregate\");\nvar UncachedAggregateClient = class extends AggregateClient {\n  constructor(options) {\n    super({ ...options, bypassCache: true });\n  }\n};\nvar CachedAggregateClient = class extends AggregateClient {\n  constructor(options) {\n    super({ ...options, bypassCache: false });\n  }\n};\n\n// src/manifest/constants.ts\nvar ENR_SEPARATOR = \"_\";\n\n// src/api/computeDimensionDisplayName.ts\nfunction computeDimensionDefinitionDisplayData(dim) {\n  const type = dim.category === \"ENR\" ? \"Enrichment\" : dim.category === \"SIG\" ? \"Signal\" : dim.subcategory === \"1\" ? \"Intent\" : dim.subcategory === \"0\" ? \"Audience\" : \"Aggregate\";\n  return {\n    dim: dim.dim,\n    name: dim.name,\n    type,\n    category: dim.category === \"ENR\" ? dim.subcategory : void 0\n  };\n}\nfunction computeDimensionDisplayData(dim, manifest) {\n  var _a, _b, _c, _d;\n  if ((_b = (_a = manifest.project.pz) == null ? void 0 : _a.agg) == null ? void 0 : _b[dim]) {\n    return { dim, name: dim, type: \"Aggregate\" };\n  } else if ((_d = (_c = manifest.project.pz) == null ? void 0 : _c.sig) == null ? void 0 : _d[dim]) {\n    return { dim, name: dim, type: \"Signal\" };\n  } else if (dim.indexOf(ENR_SEPARATOR) >= 0) {\n    const [cat, value] = dim.split(ENR_SEPARATOR);\n    return {\n      dim,\n      name: value,\n      type: \"Enrichment\",\n      category: cat\n    };\n  }\n  return void 0;\n}\nfunction computeDimensionDisplayName(dim) {\n  const { type, name } = computeDimensionDefinitionDisplayData(dim);\n  return `${type}: ${name}`;\n}\n\n// src/api/DimensionClient.ts\nvar _url2;\nvar _DimensionClient = class extends ApiClient {\n  constructor(options) {\n    super(options);\n  }\n  async get(options) {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(__privateGet(_DimensionClient, _url2), { ...options, projectId });\n    return await this.apiClient(fetchUri);\n  }\n};\nvar DimensionClient = _DimensionClient;\n_url2 = new WeakMap();\n__privateAdd(DimensionClient, _url2, \"/api/v2/dimension\");\nvar UncachedDimensionClient = class extends DimensionClient {\n  constructor(options) {\n    super({ ...options, bypassCache: true });\n  }\n};\nvar CachedDimensionClient = class extends DimensionClient {\n  constructor(options) {\n    super({ ...options, bypassCache: false });\n  }\n};\n\n// src/api/EnrichmentClient.ts\nvar _url3, _valueUrl;\nvar _EnrichmentClient = class extends ApiClient {\n  constructor(options) {\n    super(options);\n  }\n  async get(options) {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(__privateGet(_EnrichmentClient, _url3), { ...options, projectId });\n    return await this.apiClient(fetchUri);\n  }\n  async upsertCategory(body) {\n    const fetchUri = this.createUrl(__privateGet(_EnrichmentClient, _url3));\n    await this.apiClient(fetchUri, {\n      method: \"PUT\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n  async removeCategory(body) {\n    const fetchUri = this.createUrl(__privateGet(_EnrichmentClient, _url3));\n    await this.apiClient(fetchUri, {\n      method: \"DELETE\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n  async upsertValue(body) {\n    const fetchUri = this.createUrl(__privateGet(_EnrichmentClient, _valueUrl));\n    await this.apiClient(fetchUri, {\n      method: \"PUT\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n  async removeValue(body) {\n    const fetchUri = this.createUrl(__privateGet(_EnrichmentClient, _valueUrl));\n    await this.apiClient(fetchUri, {\n      method: \"DELETE\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n};\nvar EnrichmentClient = _EnrichmentClient;\n_url3 = new WeakMap();\n_valueUrl = new WeakMap();\n__privateAdd(EnrichmentClient, _url3, \"/api/v1/enrichments\");\n__privateAdd(EnrichmentClient, _valueUrl, \"/api/v1/enrichment-values\");\nvar UncachedEnrichmentClient = class extends EnrichmentClient {\n  constructor(options) {\n    super({ ...options, bypassCache: true });\n  }\n};\nvar CachedEnrichmentClient = class extends EnrichmentClient {\n  constructor(options) {\n    super({ ...options, bypassCache: false });\n  }\n};\n\n// src/api/ManifestClient.ts\nvar _url4;\nvar _ManifestClient = class extends ApiClient {\n  constructor(options) {\n    super(options);\n  }\n  async get(options) {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(__privateGet(_ManifestClient, _url4), { ...options, projectId });\n    return await this.apiClient(fetchUri);\n  }\n  async publish() {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(\"/api/v1/publish\", { siteId: projectId });\n    await this.apiClient(fetchUri, {\n      method: \"POST\",\n      expectNoContent: true\n    });\n  }\n};\nvar ManifestClient = _ManifestClient;\n_url4 = new WeakMap();\n__privateAdd(ManifestClient, _url4, \"/api/v2/manifest\");\nvar UncachedManifestClient = class extends ManifestClient {\n  constructor(options) {\n    super({ ...options, bypassCache: true });\n  }\n};\nvar CachedManifestClient = class extends ManifestClient {\n  constructor(options) {\n    super({ ...options, bypassCache: false });\n  }\n};\n\n// src/api/QuirkClient.ts\nvar _url5;\nvar _QuirkClient = class extends ApiClient {\n  constructor(options) {\n    super(options);\n  }\n  async get(options) {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(__privateGet(_QuirkClient, _url5), { ...options, projectId });\n    return await this.apiClient(fetchUri);\n  }\n  async upsert(body) {\n    const fetchUri = this.createUrl(__privateGet(_QuirkClient, _url5));\n    await this.apiClient(fetchUri, {\n      method: \"PUT\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n  async remove(body) {\n    const fetchUri = this.createUrl(__privateGet(_QuirkClient, _url5));\n    await this.apiClient(fetchUri, {\n      method: \"DELETE\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n};\nvar QuirkClient = _QuirkClient;\n_url5 = new WeakMap();\n__privateAdd(QuirkClient, _url5, \"/api/v2/quirk\");\nvar UncachedQuirkClient = class extends QuirkClient {\n  constructor(options) {\n    super({ ...options, bypassCache: true });\n  }\n};\nvar CachedQuirkClient = class extends QuirkClient {\n  constructor(options) {\n    super({ ...options, bypassCache: false });\n  }\n};\n\n// src/api/SignalClient.ts\nvar _url6;\nvar _SignalClient = class extends ApiClient {\n  constructor(options) {\n    super(options);\n  }\n  async get(options) {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(__privateGet(_SignalClient, _url6), { ...options, projectId });\n    return await this.apiClient(fetchUri);\n  }\n  async upsert(body) {\n    const fetchUri = this.createUrl(__privateGet(_SignalClient, _url6));\n    await this.apiClient(fetchUri, {\n      method: \"PUT\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n  async remove(body) {\n    const fetchUri = this.createUrl(__privateGet(_SignalClient, _url6));\n    await this.apiClient(fetchUri, {\n      method: \"DELETE\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n};\nvar SignalClient = _SignalClient;\n_url6 = new WeakMap();\n__privateAdd(SignalClient, _url6, \"/api/v2/signal\");\nvar UncachedSignalClient = class extends SignalClient {\n  constructor(options) {\n    super({ ...options, bypassCache: true });\n  }\n};\nvar CachedSignalClient = class extends SignalClient {\n  constructor(options) {\n    super({ ...options, bypassCache: false });\n  }\n};\n\n// src/api/TestClient.ts\nvar _url7;\nvar _TestClient = class extends ApiClient {\n  constructor(options) {\n    super(options);\n  }\n  async get(options) {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(__privateGet(_TestClient, _url7), { ...options, projectId });\n    return await this.apiClient(fetchUri);\n  }\n  async upsert(body) {\n    const fetchUri = this.createUrl(__privateGet(_TestClient, _url7));\n    await this.apiClient(fetchUri, {\n      method: \"PUT\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n  async remove(body) {\n    const fetchUri = this.createUrl(__privateGet(_TestClient, _url7));\n    await this.apiClient(fetchUri, {\n      method: \"DELETE\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n};\nvar TestClient = _TestClient;\n_url7 = new WeakMap();\n__privateAdd(TestClient, _url7, \"/api/v2/test\");\n\n// src/api/ContextClient.ts\nvar ContextClient = class {\n  constructor(options) {\n    __publicField(this, \"enrichments\");\n    __publicField(this, \"aggregates\");\n    __publicField(this, \"dimensions\");\n    __publicField(this, \"manifest\");\n    __publicField(this, \"quirks\");\n    __publicField(this, \"signals\");\n    __publicField(this, \"tests\");\n    this.enrichments = new EnrichmentClient(options);\n    this.aggregates = new AggregateClient(options);\n    this.dimensions = new DimensionClient(options);\n    this.manifest = new ManifestClient(options);\n    this.quirks = new QuirkClient(options);\n    this.signals = new SignalClient(options);\n    this.tests = new TestClient(options);\n  }\n};\nvar UncachedContextClient = class extends ContextClient {\n  constructor(options) {\n    super({ ...options, bypassCache: true });\n  }\n};\nvar CachedContextClient = class extends ContextClient {\n  constructor(options) {\n    super({ ...options, bypassCache: false });\n  }\n};\nexport {\n  AggregateClient,\n  ApiClient,\n  ApiClientError,\n  CachedAggregateClient,\n  CachedContextClient,\n  CachedDimensionClient,\n  CachedEnrichmentClient,\n  CachedManifestClient,\n  CachedQuirkClient,\n  CachedSignalClient,\n  ContextClient,\n  DimensionClient,\n  EnrichmentClient,\n  ManifestClient,\n  QuirkClient,\n  SignalClient,\n  UncachedAggregateClient,\n  UncachedContextClient,\n  UncachedDimensionClient,\n  UncachedEnrichmentClient,\n  UncachedManifestClient,\n  UncachedQuirkClient,\n  UncachedSignalClient,\n  computeDimensionDefinitionDisplayData,\n  computeDimensionDisplayData,\n  computeDimensionDisplayName,\n  handleRateLimits,\n  nullLimitPolicy\n};\n","var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __require = /* @__PURE__ */ ((x) => typeof require !== \"undefined\" ? require : typeof Proxy !== \"undefined\" ? new Proxy(x, {\n  get: (a, b) => (typeof require !== \"undefined\" ? require : a)[b]\n}) : x)(function(x) {\n  if (typeof require !== \"undefined\")\n    return require.apply(this, arguments);\n  throw new Error('Dynamic require of \"' + x + '\" is not supported');\n});\nvar __esm = (fn, res) => function __init() {\n  return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;\n};\nvar __commonJS = (cb, mod) => function __require2() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateWrapper = (obj, member, setter, getter) => ({\n  set _(value) {\n    __privateSet(obj, member, value, setter);\n  },\n  get _() {\n    return __privateGet(obj, member, getter);\n  }\n});\n\n// ../../node_modules/.pnpm/retry@0.13.1/node_modules/retry/lib/retry_operation.js\nvar require_retry_operation = __commonJS({\n  \"../../node_modules/.pnpm/retry@0.13.1/node_modules/retry/lib/retry_operation.js\"(exports, module) {\n    function RetryOperation(timeouts, options) {\n      if (typeof options === \"boolean\") {\n        options = { forever: options };\n      }\n      this._originalTimeouts = JSON.parse(JSON.stringify(timeouts));\n      this._timeouts = timeouts;\n      this._options = options || {};\n      this._maxRetryTime = options && options.maxRetryTime || Infinity;\n      this._fn = null;\n      this._errors = [];\n      this._attempts = 1;\n      this._operationTimeout = null;\n      this._operationTimeoutCb = null;\n      this._timeout = null;\n      this._operationStart = null;\n      this._timer = null;\n      if (this._options.forever) {\n        this._cachedTimeouts = this._timeouts.slice(0);\n      }\n    }\n    module.exports = RetryOperation;\n    RetryOperation.prototype.reset = function() {\n      this._attempts = 1;\n      this._timeouts = this._originalTimeouts.slice(0);\n    };\n    RetryOperation.prototype.stop = function() {\n      if (this._timeout) {\n        clearTimeout(this._timeout);\n      }\n      if (this._timer) {\n        clearTimeout(this._timer);\n      }\n      this._timeouts = [];\n      this._cachedTimeouts = null;\n    };\n    RetryOperation.prototype.retry = function(err) {\n      if (this._timeout) {\n        clearTimeout(this._timeout);\n      }\n      if (!err) {\n        return false;\n      }\n      var currentTime = new Date().getTime();\n      if (err && currentTime - this._operationStart >= this._maxRetryTime) {\n        this._errors.push(err);\n        this._errors.unshift(new Error(\"RetryOperation timeout occurred\"));\n        return false;\n      }\n      this._errors.push(err);\n      var timeout = this._timeouts.shift();\n      if (timeout === void 0) {\n        if (this._cachedTimeouts) {\n          this._errors.splice(0, this._errors.length - 1);\n          timeout = this._cachedTimeouts.slice(-1);\n        } else {\n          return false;\n        }\n      }\n      var self = this;\n      this._timer = setTimeout(function() {\n        self._attempts++;\n        if (self._operationTimeoutCb) {\n          self._timeout = setTimeout(function() {\n            self._operationTimeoutCb(self._attempts);\n          }, self._operationTimeout);\n          if (self._options.unref) {\n            self._timeout.unref();\n          }\n        }\n        self._fn(self._attempts);\n      }, timeout);\n      if (this._options.unref) {\n        this._timer.unref();\n      }\n      return true;\n    };\n    RetryOperation.prototype.attempt = function(fn, timeoutOps) {\n      this._fn = fn;\n      if (timeoutOps) {\n        if (timeoutOps.timeout) {\n          this._operationTimeout = timeoutOps.timeout;\n        }\n        if (timeoutOps.cb) {\n          this._operationTimeoutCb = timeoutOps.cb;\n        }\n      }\n      var self = this;\n      if (this._operationTimeoutCb) {\n        this._timeout = setTimeout(function() {\n          self._operationTimeoutCb();\n        }, self._operationTimeout);\n      }\n      this._operationStart = new Date().getTime();\n      this._fn(this._attempts);\n    };\n    RetryOperation.prototype.try = function(fn) {\n      console.log(\"Using RetryOperation.try() is deprecated\");\n      this.attempt(fn);\n    };\n    RetryOperation.prototype.start = function(fn) {\n      console.log(\"Using RetryOperation.start() is deprecated\");\n      this.attempt(fn);\n    };\n    RetryOperation.prototype.start = RetryOperation.prototype.try;\n    RetryOperation.prototype.errors = function() {\n      return this._errors;\n    };\n    RetryOperation.prototype.attempts = function() {\n      return this._attempts;\n    };\n    RetryOperation.prototype.mainError = function() {\n      if (this._errors.length === 0) {\n        return null;\n      }\n      var counts = {};\n      var mainError = null;\n      var mainErrorCount = 0;\n      for (var i = 0; i < this._errors.length; i++) {\n        var error = this._errors[i];\n        var message = error.message;\n        var count = (counts[message] || 0) + 1;\n        counts[message] = count;\n        if (count >= mainErrorCount) {\n          mainError = error;\n          mainErrorCount = count;\n        }\n      }\n      return mainError;\n    };\n  }\n});\n\n// ../../node_modules/.pnpm/retry@0.13.1/node_modules/retry/lib/retry.js\nvar require_retry = __commonJS({\n  \"../../node_modules/.pnpm/retry@0.13.1/node_modules/retry/lib/retry.js\"(exports) {\n    var RetryOperation = require_retry_operation();\n    exports.operation = function(options) {\n      var timeouts = exports.timeouts(options);\n      return new RetryOperation(timeouts, {\n        forever: options && (options.forever || options.retries === Infinity),\n        unref: options && options.unref,\n        maxRetryTime: options && options.maxRetryTime\n      });\n    };\n    exports.timeouts = function(options) {\n      if (options instanceof Array) {\n        return [].concat(options);\n      }\n      var opts = {\n        retries: 10,\n        factor: 2,\n        minTimeout: 1 * 1e3,\n        maxTimeout: Infinity,\n        randomize: false\n      };\n      for (var key in options) {\n        opts[key] = options[key];\n      }\n      if (opts.minTimeout > opts.maxTimeout) {\n        throw new Error(\"minTimeout is greater than maxTimeout\");\n      }\n      var timeouts = [];\n      for (var i = 0; i < opts.retries; i++) {\n        timeouts.push(this.createTimeout(i, opts));\n      }\n      if (options && options.forever && !timeouts.length) {\n        timeouts.push(this.createTimeout(i, opts));\n      }\n      timeouts.sort(function(a, b) {\n        return a - b;\n      });\n      return timeouts;\n    };\n    exports.createTimeout = function(attempt, opts) {\n      var random = opts.randomize ? Math.random() + 1 : 1;\n      var timeout = Math.round(random * Math.max(opts.minTimeout, 1) * Math.pow(opts.factor, attempt));\n      timeout = Math.min(timeout, opts.maxTimeout);\n      return timeout;\n    };\n    exports.wrap = function(obj, options, methods) {\n      if (options instanceof Array) {\n        methods = options;\n        options = null;\n      }\n      if (!methods) {\n        methods = [];\n        for (var key in obj) {\n          if (typeof obj[key] === \"function\") {\n            methods.push(key);\n          }\n        }\n      }\n      for (var i = 0; i < methods.length; i++) {\n        var method = methods[i];\n        var original = obj[method];\n        obj[method] = function retryWrapper(original2) {\n          var op = exports.operation(options);\n          var args = Array.prototype.slice.call(arguments, 1);\n          var callback = args.pop();\n          args.push(function(err) {\n            if (op.retry(err)) {\n              return;\n            }\n            if (err) {\n              arguments[0] = op.mainError();\n            }\n            callback.apply(this, arguments);\n          });\n          op.attempt(function() {\n            original2.apply(obj, args);\n          });\n        }.bind(obj, original);\n        obj[method].options = options;\n      }\n    };\n  }\n});\n\n// ../../node_modules/.pnpm/retry@0.13.1/node_modules/retry/index.js\nvar require_retry2 = __commonJS({\n  \"../../node_modules/.pnpm/retry@0.13.1/node_modules/retry/index.js\"(exports, module) {\n    module.exports = require_retry();\n  }\n});\n\n// src/CanvasClient.ts\nimport { ApiClient } from \"@uniformdev/context/api\";\n\n// ../../node_modules/.pnpm/p-retry@5.1.2/node_modules/p-retry/index.js\nvar import_retry = __toESM(require_retry2(), 1);\nvar networkErrorMsgs = /* @__PURE__ */ new Set([\n  \"Failed to fetch\",\n  \"NetworkError when attempting to fetch resource.\",\n  \"The Internet connection appears to be offline.\",\n  \"Network request failed\",\n  \"fetch failed\"\n]);\nvar AbortError = class extends Error {\n  constructor(message) {\n    super();\n    if (message instanceof Error) {\n      this.originalError = message;\n      ({ message } = message);\n    } else {\n      this.originalError = new Error(message);\n      this.originalError.stack = this.stack;\n    }\n    this.name = \"AbortError\";\n    this.message = message;\n  }\n};\nvar decorateErrorWithCounts = (error, attemptNumber, options) => {\n  const retriesLeft = options.retries - (attemptNumber - 1);\n  error.attemptNumber = attemptNumber;\n  error.retriesLeft = retriesLeft;\n  return error;\n};\nvar isNetworkError = (errorMessage) => networkErrorMsgs.has(errorMessage);\nvar getDOMException = (errorMessage) => globalThis.DOMException === void 0 ? new Error(errorMessage) : new DOMException(errorMessage);\nasync function pRetry(input, options) {\n  return new Promise((resolve, reject) => {\n    options = {\n      onFailedAttempt() {\n      },\n      retries: 10,\n      ...options\n    };\n    const operation = import_retry.default.operation(options);\n    operation.attempt(async (attemptNumber) => {\n      try {\n        resolve(await input(attemptNumber));\n      } catch (error) {\n        if (!(error instanceof Error)) {\n          reject(new TypeError(`Non-error was thrown: \"${error}\". You should only throw errors.`));\n          return;\n        }\n        if (error instanceof AbortError) {\n          operation.stop();\n          reject(error.originalError);\n        } else if (error instanceof TypeError && !isNetworkError(error.message)) {\n          operation.stop();\n          reject(error);\n        } else {\n          decorateErrorWithCounts(error, attemptNumber, options);\n          try {\n            await options.onFailedAttempt(error);\n          } catch (error2) {\n            reject(error2);\n            return;\n          }\n          if (!operation.retry(error)) {\n            reject(operation.mainError());\n          }\n        }\n      }\n    });\n    if (options.signal && !options.signal.aborted) {\n      options.signal.addEventListener(\"abort\", () => {\n        operation.stop();\n        const reason = options.signal.reason === void 0 ? getDOMException(\"The operation was aborted.\") : options.signal.reason;\n        reject(reason instanceof Error ? reason : getDOMException(reason));\n      }, {\n        once: true\n      });\n    }\n  });\n}\n\n// ../../node_modules/.pnpm/p-throttle@5.0.0/node_modules/p-throttle/index.js\nvar AbortError2 = class extends Error {\n  constructor() {\n    super(\"Throttled function aborted\");\n    this.name = \"AbortError\";\n  }\n};\nfunction pThrottle({ limit, interval, strict }) {\n  if (!Number.isFinite(limit)) {\n    throw new TypeError(\"Expected `limit` to be a finite number\");\n  }\n  if (!Number.isFinite(interval)) {\n    throw new TypeError(\"Expected `interval` to be a finite number\");\n  }\n  const queue = /* @__PURE__ */ new Map();\n  let currentTick = 0;\n  let activeCount = 0;\n  function windowedDelay() {\n    const now = Date.now();\n    if (now - currentTick > interval) {\n      activeCount = 1;\n      currentTick = now;\n      return 0;\n    }\n    if (activeCount < limit) {\n      activeCount++;\n    } else {\n      currentTick += interval;\n      activeCount = 1;\n    }\n    return currentTick - now;\n  }\n  const strictTicks = [];\n  function strictDelay() {\n    const now = Date.now();\n    if (strictTicks.length < limit) {\n      strictTicks.push(now);\n      return 0;\n    }\n    const earliestTime = strictTicks.shift() + interval;\n    if (now >= earliestTime) {\n      strictTicks.push(now);\n      return 0;\n    }\n    strictTicks.push(earliestTime);\n    return earliestTime - now;\n  }\n  const getDelay = strict ? strictDelay : windowedDelay;\n  return (function_) => {\n    const throttled = function(...args) {\n      if (!throttled.isEnabled) {\n        return (async () => function_.apply(this, args))();\n      }\n      let timeout;\n      return new Promise((resolve, reject) => {\n        const execute = () => {\n          resolve(function_.apply(this, args));\n          queue.delete(timeout);\n        };\n        timeout = setTimeout(execute, getDelay());\n        queue.set(timeout, reject);\n      });\n    };\n    throttled.abort = () => {\n      for (const timeout of queue.keys()) {\n        clearTimeout(timeout);\n        queue.get(timeout)(new AbortError2());\n      }\n      queue.clear();\n      strictTicks.splice(0, strictTicks.length);\n    };\n    throttled.isEnabled = true;\n    return throttled;\n  };\n}\n\n// src/enhancement/createLimitPolicy.ts\nfunction createLimitPolicy({\n  throttle = { interval: 1e3, limit: 10 },\n  retry: retry2 = { retries: 1, factor: 1.66 }\n}) {\n  const throttler = throttle ? pThrottle(throttle) : null;\n  return function limitPolicy(func) {\n    let currentFunc = async () => await func();\n    if (throttler) {\n      const throttleFunc = currentFunc;\n      currentFunc = throttler(throttleFunc);\n    }\n    if (retry2) {\n      const retryFunc = currentFunc;\n      currentFunc = () => pRetry(retryFunc, retry2);\n    }\n    return currentFunc();\n  };\n}\nvar nullLimitPolicy = async (func) => await func();\n\n// src/CanvasClient.ts\nvar CANVAS_URL = \"/api/v1/canvas\";\nvar CanvasClient = class extends ApiClient {\n  constructor(options) {\n    var _a;\n    if (!options.limitPolicy) {\n      options.limitPolicy = createLimitPolicy({});\n    }\n    super(options);\n    this.edgeApiHost = (_a = options.edgeApiHost) != null ? _a : \"https://uniform.global\";\n  }\n  async getCompositionList(options) {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(CANVAS_URL, { ...options, projectId });\n    return await this.apiClient(fetchUri);\n  }\n  unstable_getCompositionByNodePath(options) {\n    return this.getOneComposition(options);\n  }\n  unstable_getCompositionByNodeId(options) {\n    return this.getOneComposition(options);\n  }\n  getCompositionBySlug(options) {\n    return this.getOneComposition(options);\n  }\n  getCompositionById(options) {\n    return this.getOneComposition(options);\n  }\n  getOneComposition({\n    unstable_resolveData: resolveData,\n    unstable_dynamicVariables: dynamicVariables,\n    unstable_dataDiagnostics: dataDiagnostics,\n    ...params\n  }) {\n    const { projectId } = this.options;\n    if (!resolveData) {\n      return this.apiClient(this.createUrl(CANVAS_URL, { ...params, projectId }));\n    }\n    const edgeParams = {\n      ...params,\n      projectId,\n      ...dynamicVariables ? { dynamicVariables: JSON.stringify(dynamicVariables) } : {},\n      ...dataDiagnostics ? { dataDiagnostics: \"true\" } : {}\n    };\n    const edgeUrl = this.createUrl(\"/api/v1/composition\", edgeParams, this.edgeApiHost);\n    return this.apiClient(edgeUrl);\n  }\n  async updateComposition(body) {\n    const fetchUri = this.createUrl(CANVAS_URL);\n    await this.apiClient(fetchUri, {\n      method: \"PUT\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n  async removeComposition(body) {\n    const fetchUri = this.createUrl(CANVAS_URL);\n    const { projectId } = this.options;\n    await this.apiClient(fetchUri, {\n      method: \"DELETE\",\n      body: JSON.stringify({ ...body, projectId }),\n      expectNoContent: true\n    });\n  }\n  async getComponentDefinitions(options) {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(\"/api/v1/canvas-definitions\", { ...options, projectId });\n    return await this.apiClient(fetchUri);\n  }\n  async updateComponentDefinition(body) {\n    const fetchUri = this.createUrl(\"/api/v1/canvas-definitions\");\n    await this.apiClient(fetchUri, {\n      method: \"PUT\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n  async removeComponentDefinition(body) {\n    const fetchUri = this.createUrl(\"/api/v1/canvas-definitions\");\n    await this.apiClient(fetchUri, {\n      method: \"DELETE\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n};\nvar UncachedCanvasClient = class extends CanvasClient {\n  constructor(options) {\n    super({ ...options, bypassCache: true });\n  }\n};\n\n// src/DataSourceClient.ts\nimport { ApiClient as ApiClient2 } from \"@uniformdev/context/api\";\nvar dataSourceUrl = \"/api/v1/data-source\";\nvar dataSourcesUrl = \"/api/v1/data-sources\";\nvar DataSourceClient = class extends ApiClient2 {\n  constructor(options) {\n    super(options);\n  }\n  async get(options) {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(dataSourceUrl, { ...options, projectId });\n    return await this.apiClient(fetchUri);\n  }\n  async getList(options) {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(dataSourcesUrl, { ...options, projectId });\n    return await this.apiClient(fetchUri);\n  }\n  async upsert(body) {\n    const fetchUri = this.createUrl(dataSourceUrl);\n    await this.apiClient(fetchUri, {\n      method: \"PUT\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n  async remove(body) {\n    const fetchUri = this.createUrl(dataSourceUrl);\n    await this.apiClient(fetchUri, {\n      method: \"DELETE\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n};\n\n// src/DataTypeClient.ts\nimport { ApiClient as ApiClient3 } from \"@uniformdev/context/api\";\nvar _url;\nvar _DataTypeClient = class extends ApiClient3 {\n  constructor(options) {\n    super(options);\n  }\n  async get(options) {\n    const { projectId } = this.options;\n    const fetchUri = this.createUrl(__privateGet(_DataTypeClient, _url), { ...options, projectId });\n    return await this.apiClient(fetchUri);\n  }\n  async upsert(body) {\n    const fetchUri = this.createUrl(__privateGet(_DataTypeClient, _url));\n    await this.apiClient(fetchUri, {\n      method: \"PUT\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n  async remove(body) {\n    const fetchUri = this.createUrl(__privateGet(_DataTypeClient, _url));\n    await this.apiClient(fetchUri, {\n      method: \"DELETE\",\n      body: JSON.stringify({ ...body, projectId: this.options.projectId }),\n      expectNoContent: true\n    });\n  }\n};\nvar DataTypeClient = _DataTypeClient;\n_url = new WeakMap();\n__privateAdd(DataTypeClient, _url, \"/api/v1/data-types\");\n\n// src/enhancement/batchEnhancer.ts\nvar BatchEntry = class {\n  constructor(_resolve, _reject, args) {\n    this._resolve = _resolve;\n    this._reject = _reject;\n    this.args = args;\n    this._isCompleted = false;\n  }\n  resolve(result) {\n    this._resolve(result);\n    this._isCompleted = true;\n  }\n  reject(reason) {\n    this._reject(reason);\n    this._isCompleted = true;\n  }\n  get isCompleted() {\n    return this._isCompleted;\n  }\n};\nfunction createBatchEnhancer({\n  handleBatch,\n  shouldQueue,\n  limitPolicy\n}) {\n  let queue = [];\n  const batchedFn = async (options) => {\n    if (!shouldQueue || shouldQueue(options)) {\n      return new Promise((resolve, reject) => {\n        queue.push(new BatchEntry(resolve, reject, options));\n      });\n    } else {\n      return void 0;\n    }\n  };\n  const complete = async () => {\n    if (queue.length > 0) {\n      try {\n        await handleBatch(queue);\n      } catch (e) {\n        queue.forEach((entry) => entry.reject(e));\n      }\n      if (queue.some((entry) => !entry.isCompleted)) {\n        throw new Error(\"The completeAll() function failed to resolve or reject all promises in the batch!\");\n      }\n    }\n    const processed = queue.length;\n    queue = [];\n    return processed;\n  };\n  return { enhanceOne: batchedFn, completeAll: complete, limitPolicy };\n}\n\n// src/enhancement/compose.ts\nvar compose = (input, ...composers) => {\n  const composed = {\n    enhanceOne: (value) => {\n      let result = \"enhanceOne\" in input ? input.enhanceOne(value) : input(value);\n      for (const currentComposed of composers) {\n        const current = isPromise(result) ? result : Promise.resolve(result);\n        const enhanceOne = \"enhanceOne\" in currentComposed ? currentComposed.enhanceOne : currentComposed;\n        result = current.then(\n          (res) => enhanceOne({\n            ...value,\n            parameter: {\n              type: value.parameter.type,\n              value: res\n            }\n          })\n        );\n      }\n      return result;\n    },\n    completeAll: async () => {\n      var _a, _b;\n      for (const currentComposed of composers) {\n        if (\"completeAll\" in currentComposed) {\n          throw new Error(\n            \"Only the first enhancer in a compose chain can use the completeAll function (batching)\"\n          );\n        }\n      }\n      return (_b = \"completeAll\" in input ? (_a = input.completeAll) == null ? void 0 : _a.call(input) : 0) != null ? _b : 0;\n    }\n  };\n  return composed;\n};\nfunction isPromise(obj) {\n  return !!obj && (typeof obj === \"object\" || typeof obj === \"function\") && typeof obj.then === \"function\";\n}\n\n// src/enhancement/walkComponentTree.ts\nfunction walkComponentTree(component, visitor, initialContext) {\n  var _a;\n  const componentQueue = [\n    {\n      ancestorsAndSelf: [{ component, parentSlot: void 0, parentSlotIndex: void 0 }],\n      context: initialContext\n    }\n  ];\n  const childContexts = /* @__PURE__ */ new Map();\n  do {\n    const currentQueueEntry = componentQueue.pop();\n    if (!currentQueueEntry)\n      continue;\n    const currentComponent = currentQueueEntry.ancestorsAndSelf[0];\n    let visitDescendants = true;\n    let descendantContext = (_a = childContexts.get(currentComponent.component)) != null ? _a : currentQueueEntry.context;\n    visitor(\n      currentComponent.component,\n      currentQueueEntry.ancestorsAndSelf,\n      {\n        replaceComponent: (replacementComponent) => {\n          Object.assign(currentComponent.component, replacementComponent);\n          const propertiesToCheck = [\n            \"parameters\",\n            \"variant\",\n            \"slots\",\n            \"data\",\n            \"_pattern\",\n            \"_patternError\"\n          ];\n          propertiesToCheck.forEach((property) => {\n            if (!replacementComponent[property]) {\n              delete currentComponent.component[property];\n            }\n          });\n        },\n        removeComponent: () => {\n          const { parentSlot, parentSlotIndex } = currentQueueEntry.ancestorsAndSelf[0];\n          const parentComponent = currentQueueEntry.ancestorsAndSelf[1];\n          if (parentSlot && typeof parentSlotIndex !== \"undefined\") {\n            parentComponent.component.slots[parentSlot].splice(parentSlotIndex, 1);\n          } else {\n            throw new Error(\"Unable to delete composition.\");\n          }\n        },\n        insertAfter: (components) => {\n          const componentsToInsert = Array.isArray(components) ? components : [components];\n          const { parentSlot, parentSlotIndex } = currentQueueEntry.ancestorsAndSelf[0];\n          const parentComponent = currentQueueEntry.ancestorsAndSelf[1];\n          if (parentSlot && typeof parentSlotIndex !== \"undefined\") {\n            parentComponent.component.slots[parentSlot].splice(\n              parentSlotIndex + 1,\n              0,\n              ...componentsToInsert\n            );\n            componentQueue.unshift(\n              ...componentsToInsert.map((enqueueingComponent) => ({\n                ancestorsAndSelf: [\n                  {\n                    component: enqueueingComponent,\n                    parentSlot,\n                    get parentSlotIndex() {\n                      return parentComponent.component.slots[parentSlot].findIndex(\n                        (x) => x === enqueueingComponent\n                      );\n                    }\n                  },\n                  ...currentQueueEntry.ancestorsAndSelf\n                ],\n                context: descendantContext\n              }))\n            );\n          } else {\n            throw new Error(\"Unable to insert after a component not in a slot.\");\n          }\n        },\n        stopProcessingDescendants() {\n          visitDescendants = false;\n        },\n        setDescendantsContext(context) {\n          descendantContext = context;\n        },\n        setChildContext(child, context) {\n          childContexts.set(child, context);\n        }\n      },\n      descendantContext\n    );\n    const slots = currentComponent.component.slots;\n    if (visitDescendants && slots) {\n      const slotKeys = Object.keys(slots);\n      for (let slotIndex = slotKeys.length - 1; slotIndex >= 0; slotIndex--) {\n        const slotKey = slotKeys[slotIndex];\n        const components = slots[slotKey];\n        for (let componentIndex = components.length - 1; componentIndex >= 0; componentIndex--) {\n          const enqueueingComponent = components[componentIndex];\n          componentQueue.push({\n            ancestorsAndSelf: [\n              {\n                component: enqueueingComponent,\n                parentSlot: slotKey,\n                get parentSlotIndex() {\n                  return currentComponent.component.slots[slotKey].findIndex(\n                    (x) => x === enqueueingComponent\n                  );\n                }\n              },\n              ...currentQueueEntry.ancestorsAndSelf\n            ],\n            context: descendantContext\n          });\n        }\n      }\n    }\n  } while (componentQueue.length > 0);\n}\nfunction getComponentPath(ancestorsAndSelf) {\n  const path = [];\n  for (let i = ancestorsAndSelf.length - 1; i >= 0; i--) {\n    const { parentSlot, parentSlotIndex } = ancestorsAndSelf[i];\n    if (parentSlot && parentSlotIndex !== void 0) {\n      path.push(`${parentSlot}[${parentSlotIndex}]`);\n    }\n  }\n  return `.${path.join(\".\")}`;\n}\nfunction getComponentJsonPointer(ancestorsAndSelf, { withSlots = false } = {}) {\n  const path = [];\n  for (let i = ancestorsAndSelf.length - 1; i >= 0; i--) {\n    const { parentSlot, parentSlotIndex } = ancestorsAndSelf[i];\n    if (parentSlot && parentSlotIndex !== void 0) {\n      path.push(`${parentSlot}/${parentSlotIndex}`);\n    }\n  }\n  return withSlots ? `/slots/${path.join(\"/slots/\")}` : `/${path.join(\"/\")}`;\n}\n\n// src/enhancement/enhance.ts\nasync function enhance({\n  composition,\n  enhancers,\n  context,\n  onErrors = (errors) => {\n    throw new Error(\n      errors.map(\n        (error) => `${error.message}\n ${typeof error.error === \"object\" && \"stack\" in error.error ? error.error.stack : error.error}`\n      ).join(\"\\n\\n\")\n    );\n  }\n}) {\n  const promises = [];\n  const usedComponentEnhancers = /* @__PURE__ */ new Set();\n  const usedParameterEnhancers = /* @__PURE__ */ new Set();\n  walkComponentTree(composition, (currentComponent, componentContext) => {\n    var _a;\n    Object.entries((_a = currentComponent.parameters) != null ? _a : {}).forEach(([paramName, paramValue]) => {\n      const enhancer = enhancers.resolveParameterEnhancer(currentComponent, paramName, paramValue);\n      if (enhancer) {\n        usedParameterEnhancers.add(enhancer);\n        promises.push(\n          enhanceParameter(currentComponent, componentContext, paramName, paramValue, enhancer, context)\n        );\n      }\n    });\n    const componentEnhancers = enhancers.resolveComponentEnhancers(currentComponent);\n    promises.push(enhanceComponent(currentComponent, componentContext, componentEnhancers, context));\n    usedComponentEnhancers.add(componentEnhancers);\n  });\n  promises.push(\n    ...Array.from(usedComponentEnhancers).flatMap(\n      (enhancerSet) => Array.from(enhancerSet).map(async ([, enhancer]) => {\n        var _a;\n        try {\n          if (enhancer.completeAll) {\n            const limitPolicy = (_a = enhancer.limitPolicy) != null ? _a : nullLimitPolicy;\n            await limitPolicy(() => enhancer.completeAll());\n          }\n        } catch (error) {\n          return {\n            error,\n            message: \"Batch component enhancer failed. Individual failed components should receive their own rejections.\"\n          };\n        }\n      })\n    )\n  );\n  promises.push(\n    ...Array.from(usedParameterEnhancers).map(async (enhancer) => {\n      var _a;\n      try {\n        if (enhancer.completeAll) {\n          const limitPolicy = (_a = enhancer.limitPolicy) != null ? _a : nullLimitPolicy;\n          await limitPolicy(() => enhancer.completeAll());\n        }\n      } catch (error) {\n        return {\n          error,\n          message: \"Batch parameter enhancer failed. Individual failed parameters should receive their own rejections.\"\n        };\n      }\n    })\n  );\n  const issues = (await Promise.all(promises)).flatMap((issue) => Array.isArray(issue) ? issue : [issue]).filter((issue) => issue);\n  if (issues.length) {\n    onErrors(issues);\n  }\n}\nasync function enhanceComponent(component, componentContext, enhancers, context) {\n  if (enhancers.size) {\n    component.data = {};\n  }\n  return await Promise.all(\n    Array.from(enhancers).map(async ([enhancerName, enhancer]) => {\n      var _a;\n      try {\n        const limitPolicy = enhancer.completeAll ? nullLimitPolicy : (_a = enhancer.limitPolicy) != null ? _a : nullLimitPolicy;\n        const result = await limitPolicy(async () => enhancer.enhanceOne({ component, context }));\n        if (result !== void 0 && result !== null) {\n          component.data[enhancerName] = result;\n        }\n      } catch (error) {\n        const message = `Component ${getComponentPath(componentContext)} (type: ${component.type}): data.${enhancerName} enhancer threw exception. Data key will not be present.`;\n        delete component.data[enhancerName];\n        return { message, error };\n      }\n    })\n  );\n}\nasync function enhanceParameter(component, componentContext, parameterName, parameter, enhancer, context) {\n  var _a;\n  try {\n    const limitPolicy = enhancer.completeAll ? nullLimitPolicy : (_a = enhancer.limitPolicy) != null ? _a : nullLimitPolicy;\n    const enhancedValue = await limitPolicy(\n      async () => enhancer.enhanceOne({ parameter, parameterName, component, context })\n    );\n    if (enhancedValue === null) {\n      delete component.parameters[parameterName];\n    } else if (typeof enhancedValue === \"undefined\") {\n      component.parameters[parameterName] = { ...parameter, value: parameter.value };\n    } else {\n      component.parameters[parameterName] = { ...parameter, value: enhancedValue };\n    }\n  } catch (error) {\n    const message = `Component ${getComponentPath(componentContext)} (type: ${component.type}): enhancing parameter ${parameterName} (type: ${parameter.type}) threw exception. Parameter will be removed.`;\n    delete component.parameters[parameterName];\n    return { message, error };\n  }\n}\n\n// src/enhancement/EnhancerBuilder.ts\nvar ChildEnhancerBuilder = class {\n  constructor() {\n    this._paramMatches = Array();\n    this._dataMatches = /* @__PURE__ */ new Map();\n  }\n  parameter(enhancer) {\n    this._paramMatches.push({ enhancer: this._resolveParameterEnhancer(enhancer) });\n    return this;\n  }\n  parameterName(name, enhancer) {\n    const names = Array.isArray(name) ? name : [name];\n    names.forEach(\n      (name2) => this._paramMatches.push({ name: name2, enhancer: this._resolveParameterEnhancer(enhancer) })\n    );\n    return this;\n  }\n  parameterType(type, enhancer) {\n    const types = Array.isArray(type) ? type : [type];\n    types.forEach(\n      (type2) => this._paramMatches.push({ type: type2, enhancer: this._resolveParameterEnhancer(enhancer) })\n    );\n    return this;\n  }\n  data(name, enhancer) {\n    if (this._dataMatches.has(name)) {\n      throw new Error(`${name} enhancer data key has been used more than once. This will cause data loss.`);\n    }\n    this._dataMatches.set(name, typeof enhancer === \"function\" ? { enhanceOne: enhancer } : enhancer);\n    return this;\n  }\n  resolveParameterEnhancer(parameterName, parameter) {\n    var _a;\n    return (_a = this._paramMatches.find(\n      (m) => m.name && m.name === parameterName || m.type && m.type === parameter.type || !m.type && !m.name\n    )) == null ? void 0 : _a.enhancer;\n  }\n  resolveComponentEnhancers() {\n    return this._dataMatches;\n  }\n  _resolveParameterEnhancer(enhancer) {\n    if (typeof enhancer === \"function\") {\n      return { enhanceOne: enhancer };\n    } else {\n      return enhancer;\n    }\n  }\n};\nvar EnhancerBuilder = class {\n  constructor() {\n    this._componentIndex = {};\n    this._rootBuilder = new ChildEnhancerBuilder();\n  }\n  parameter(enhancer) {\n    this._rootBuilder.parameter(enhancer);\n    return this;\n  }\n  parameterName(name, enhancer) {\n    this._rootBuilder.parameterName(name, enhancer);\n    return this;\n  }\n  parameterType(type, enhancer) {\n    this._rootBuilder.parameterType(type, enhancer);\n    return this;\n  }\n  data(name, enhancer) {\n    this._rootBuilder.data(name, enhancer);\n    return this;\n  }\n  component(name, builder) {\n    const names = Array.isArray(name) ? name : [name];\n    names.forEach((name2) => {\n      this._componentIndex[name2] = this._componentIndex[name2] || new ChildEnhancerBuilder();\n      builder(this._componentIndex[name2]);\n    });\n    return this;\n  }\n  resolveParameterEnhancer(component, parameterName, parameter) {\n    const eb = this._componentIndex[component.type];\n    if (eb) {\n      const targetedResolver = eb.resolveParameterEnhancer(parameterName, parameter);\n      if (targetedResolver) {\n        return targetedResolver;\n      }\n    }\n    return this._rootBuilder.resolveParameterEnhancer(parameterName, parameter);\n  }\n  resolveComponentEnhancers(component) {\n    let componentEnhancers = this._rootBuilder.resolveComponentEnhancers();\n    const eb = this._componentIndex[component.type];\n    if (eb) {\n      componentEnhancers = new Map(componentEnhancers);\n      for (const [key, value] of eb.resolveComponentEnhancers()) {\n        componentEnhancers.set(key, value);\n      }\n    }\n    return componentEnhancers;\n  }\n};\n\n// src/utils/constants.ts\nvar CANVAS_PERSONALIZE_TYPE = \"$personalization\";\nvar CANVAS_TEST_TYPE = \"$test\";\nvar CANVAS_LOCALIZATION_TYPE = \"$localization\";\nvar CANVAS_INTENT_TAG_PARAM = \"intentTag\";\nvar CANVAS_LOCALE_TAG_PARAM = \"locale\";\nvar CANVAS_PERSONALIZE_SLOT = \"pz\";\nvar CANVAS_TEST_SLOT = \"test\";\nvar CANVAS_LOCALIZATION_SLOT = \"localized\";\nvar CANVAS_DRAFT_STATE = 0;\nvar CANVAS_PUBLISHED_STATE = 64;\nvar CANVAS_PERSONALIZATION_PARAM = \"$pzCrit\";\nvar CANVAS_TEST_VARIANT_PARAM = \"$tstVrnt\";\nvar CANVAS_ENRICHMENT_TAG_PARAM = \"$enr\";\nvar IN_CONTEXT_EDITOR_QUERY_STRING_PARAM = \"is_incontext_editing_mode\";\nvar IN_CONTEXT_EDITOR_COMPONENT_START_ROLE = \"uniform-component-start\";\nvar IN_CONTEXT_EDITOR_EMBED_SCRIPT_ID = \"uniform-canvas-preview-script\";\nvar PLACEHOLDER_ID = \"placeholder\";\nvar EDGE_MIN_CACHE_TTL = 15;\nvar EDGE_MAX_CACHE_TTL = 600;\nvar EDGE_DEFAULT_CACHE_TTL = 30;\nvar EDGE_CACHE_DISABLED = -1;\nvar EDGE_MIN_L2_CACHE_TTL_IN_HOURS = 1;\nvar EDGE_MAX_L2_CACHE_TTL_IN_HOURS = 4 * 7 * 24;\nvar EDGE_DEFAULT_L2_CACHE_TTL_IN_HOURS = 24;\n\n// src/enhancement/localize.ts\nfunction extractLocales({ component }) {\n  var _a;\n  const variations = {};\n  const slot = (_a = component.slots) == null ? void 0 : _a[CANVAS_LOCALIZATION_SLOT];\n  slot == null ? void 0 : slot.forEach((slotComponent) => {\n    var _a2;\n    const localeParameter = (_a2 = slotComponent.parameters) == null ? void 0 : _a2[CANVAS_LOCALE_TAG_PARAM];\n    if ((localeParameter == null ? void 0 : localeParameter.value) && typeof localeParameter.value === \"string\") {\n      variations[localeParameter.value] = variations[localeParameter.value] || [];\n      variations[localeParameter.value].push(slotComponent);\n    }\n  });\n  return variations;\n}\nfunction localize({\n  composition,\n  locale\n}) {\n  walkComponentTree(composition, (currentComponent, _componentContext, actions) => {\n    if (currentComponent.type === CANVAS_LOCALIZATION_TYPE) {\n      const locales = extractLocales({ component: currentComponent });\n      const resolvedLocale = typeof locale === \"string\" ? locale : locale({ component: currentComponent, locales });\n      let replaceComponent;\n      if (resolvedLocale) {\n        replaceComponent = locales[resolvedLocale];\n      }\n      if (replaceComponent == null ? void 0 : replaceComponent.length) {\n        const [first, ...rest] = replaceComponent;\n        actions.replaceComponent(first);\n        if (rest.length) {\n          actions.insertAfter(rest);\n        }\n      } else {\n        actions.removeComponent();\n      }\n    }\n  });\n}\n\n// src/enhancement/UniqueBatchEntries.ts\nvar UniqueBatchEntries = class {\n  constructor(entries, uniqueKeySelector) {\n    this.groups = entries.reduce((acc, task) => {\n      var _a;\n      const key = uniqueKeySelector(task.args);\n      acc[key] = (_a = acc[key]) != null ? _a : [];\n      acc[key].push(task);\n      return acc;\n    }, {});\n  }\n  resolveKey(key, result) {\n    this.groups[key].forEach((task) => task.resolve(result));\n  }\n  resolveRemaining(value) {\n    Object.keys(this.groups).forEach((key) => {\n      this.groups[key].forEach((task) => {\n        if (!task.isCompleted) {\n          task.resolve(value);\n        }\n      });\n    });\n  }\n};\n\n// src/utils/hash.ts\nvar generateHash = ({\n  composition,\n  secret\n}) => {\n  if (!secret) {\n    return void 0;\n  }\n  const str = `${JSON.stringify(composition)}-${secret}`;\n  let hash = 0;\n  for (let i = 0; i < str.length; i++) {\n    const chr = str.charCodeAt(i);\n    hash = (hash << 5) - hash + chr;\n    hash |= 0;\n  }\n  return hash;\n};\n\n// src/messaging/channel.ts\nvar isSelectComponentMessage = (message) => {\n  return message.type === \"select-component\" && message.id !== void 0;\n};\nvar isReadyMessage = (message) => {\n  return message.type === \"ready\";\n};\nvar isUpdateCompositionMessage = (message) => {\n  return message.type === \"update-composition\";\n};\nvar isAddComponentMessage = (message) => {\n  return message.type === \"add-component\";\n};\nvar isMovingComponentMessage = (message) => {\n  return message.type === \"move-component\";\n};\nvar isDismissPlaceholderMessage = (message) => {\n  return message.type === \"dismiss-placeholder\";\n};\nvar createCanvasChannel = ({\n  listenTo,\n  broadcastTo\n}) => {\n  let handlerCounter = 0;\n  const handlers = {};\n  const broadcastToItems = [...broadcastTo];\n  const postMessage = (message) => {\n    broadcastToItems.forEach((item) => item.postMessage(JSON.stringify(message), \"*\"));\n  };\n  const selectComponent = (id) => {\n    const message = {\n      type: \"select-component\",\n      id\n    };\n    postMessage(message);\n  };\n  const ready = () => {\n    var _a;\n    if (typeof window === \"undefined\") {\n      return;\n    }\n    const framework = (_a = window.__UNIFORM_CONTEXTUAL_EDITING__) == null ? void 0 : _a.framework;\n    const message = {\n      type: \"ready\",\n      framework\n    };\n    postMessage(message);\n  };\n  const on = (types, handler) => {\n    const handlerId = ++handlerCounter;\n    handlers[handlerId] = {\n      types: Array.isArray(types) ? types : [types],\n      handler\n    };\n    return () => {\n      delete handlers[handlerId];\n    };\n  };\n  const updateComposition = (composition, secret) => {\n    const message = {\n      type: \"update-composition\",\n      composition,\n      hash: generateHash({\n        composition,\n        secret\n      })\n    };\n    postMessage(message);\n  };\n  const addComponent = (options) => {\n    const message = {\n      ...options,\n      type: \"add-component\"\n    };\n    postMessage(message);\n  };\n  const moveComponent = (options) => {\n    const message = {\n      ...options,\n      type: \"move-component\"\n    };\n    postMessage(message);\n  };\n  const dismissPlaceholder = (options) => {\n    const message = {\n      ...options,\n      type: \"dismiss-placeholder\"\n    };\n    postMessage(message);\n  };\n  const messageEventListener = (event) => {\n    if (typeof event.data !== \"string\" || event.source === window) {\n      return;\n    }\n    let message = null;\n    try {\n      const parsedMessage = JSON.parse(event.data);\n      if (Object.hasOwn(parsedMessage, \"type\")) {\n        message = parsedMessage;\n      }\n    } catch (e) {\n    }\n    if (!message) {\n      return;\n    }\n    for (const handlerId in handlers) {\n      const handler = handlers[handlerId];\n      if (handler.types.includes(message.type)) {\n        handler.handler(message, event);\n      }\n    }\n  };\n  listenTo.forEach((item) => item.addEventListener(\"message\", messageEventListener));\n  const destroy = () => {\n    listenTo.forEach((item) => item.removeEventListener(\"message\", messageEventListener));\n  };\n  return {\n    ready,\n    destroy,\n    selectComponent,\n    updateComposition,\n    on,\n    addComponent,\n    moveComponent,\n    dismissPlaceholder\n  };\n};\n\n// src/preview/createEventBus.ts\nvar PUSHER_SRC = \"https://js.pusher.com/7.0.3/pusher.min.js\";\nasync function loadPusher() {\n  if (typeof document === \"undefined\" || typeof window === \"undefined\") {\n    return;\n  }\n  if (window.Pusher) {\n    return window.Pusher;\n  }\n  return new Promise((resolve, reject) => {\n    const timeout = setTimeout(() => {\n      if (window.Pusher) {\n        resolve(window.Pusher);\n      }\n      reject(\n        `Unable to load pusher.js; Uniform Canvas live preview disabled. Consider adding <script src=\"${PUSHER_SRC}\"><\\/script> manually.`\n      );\n    }, 5e3);\n    const pusher = document.createElement(\"script\");\n    pusher.src = PUSHER_SRC;\n    pusher.addEventListener(\"load\", () => {\n      clearTimeout(timeout);\n      resolve(window.Pusher);\n    });\n    document.head.appendChild(pusher);\n  });\n}\nasync function createEventBus() {\n  const WindowPusher = await loadPusher();\n  if (!WindowPusher) {\n    return;\n  }\n  let bus = window.__UNIFORM_EVENT_BUS__;\n  if (!bus) {\n    const pusher = new WindowPusher(\"7b5f5abd160fea549ffe\", {\n      cluster: \"mt1\"\n    });\n    pusher.connect();\n    console.log(\"[canvas] \\u{1F525} preview connected\");\n    bus = window.__UNIFORM_EVENT_BUS__ = {\n      subscribe: (channel) => {\n        const channelObj = pusher.subscribe(channel);\n        return {\n          unsubscribe: () => pusher.unsubscribe(channel),\n          addEventHandler: (eventName, handler) => {\n            channelObj.bind(eventName, handler);\n            return () => channelObj.unbind(eventName, handler);\n          }\n        };\n      }\n    };\n  }\n  return bus;\n}\n\n// src/preview/getChannelName.ts\nfunction getChannelName(projectId, compositionId, state) {\n  return `${projectId}.${compositionId}@${state}`;\n}\n\n// src/preview/subscribeToComposition.ts\nfunction subscribeToComposition({\n  projectId,\n  compositionId,\n  compositionState = 0,\n  eventBus: { subscribe },\n  callback,\n  event = \"updated\"\n}) {\n  const channelName = getChannelName(projectId, compositionId, compositionState);\n  const channel = subscribe(channelName);\n  const off = channel.addEventHandler(event, callback);\n  return () => {\n    off();\n    channel.unsubscribe();\n  };\n}\n\n// src/utils/createApiEnhancer.ts\nvar createUniformApiEnhancer = ({ apiUrl }) => {\n  return async (message) => {\n    const response = await fetch(apiUrl, {\n      method: \"post\",\n      body: JSON.stringify({\n        composition: message.composition,\n        hash: message.hash\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    const json = await response.json();\n    if (!response.ok) {\n      throw new Error(\"Error reading enhanced composition\");\n    }\n    const body = json;\n    return body.composition;\n  };\n};\n\n// src/utils/isSystemComponentDefinition.ts\nvar isSystemComponentDefinition = (componentType) => {\n  return componentType.startsWith(\"$\");\n};\n\n// src/utils/mapSlotToPersonalizedVariations.ts\nfunction mapSlotToPersonalizedVariations(slot) {\n  if (!slot)\n    return [];\n  return slot.map((v, i) => {\n    var _a, _b;\n    const contextTag = (_b = (_a = v.parameters) == null ? void 0 : _a[CANVAS_PERSONALIZATION_PARAM]) == null ? void 0 : _b.value;\n    const id = (contextTag == null ? void 0 : contextTag.name) || `pz-${i}-${v.type}`;\n    return {\n      ...v,\n      id,\n      pz: contextTag\n    };\n  });\n}\n\n// src/utils/mapSlotToTestVariations.ts\nfunction mapSlotToTestVariations(slot) {\n  if (!slot)\n    return [];\n  return slot.map((v, i) => {\n    var _a, _b, _c;\n    const contextTag = (_b = (_a = v.parameters) == null ? void 0 : _a[CANVAS_TEST_VARIANT_PARAM]) == null ? void 0 : _b.value;\n    const id = (_c = contextTag == null ? void 0 : contextTag.id) != null ? _c : \"testId\" in v ? v.testId : `ab-${i}-${v.type}`;\n    return {\n      ...v,\n      id\n    };\n  });\n}\n\n// src/index.ts\nimport { ApiClientError } from \"@uniformdev/context/api\";\nvar CanvasClientError = ApiClientError;\n\nexport {\n  __require,\n  __esm,\n  __commonJS,\n  __export,\n  __toESM,\n  __toCommonJS,\n  __publicField,\n  __privateGet,\n  __privateAdd,\n  __privateSet,\n  __privateWrapper,\n  createLimitPolicy,\n  nullLimitPolicy,\n  CanvasClient,\n  UncachedCanvasClient,\n  DataSourceClient,\n  DataTypeClient,\n  BatchEntry,\n  createBatchEnhancer,\n  compose,\n  walkComponentTree,\n  getComponentPath,\n  getComponentJsonPointer,\n  enhance,\n  ChildEnhancerBuilder,\n  EnhancerBuilder,\n  CANVAS_PERSONALIZE_TYPE,\n  CANVAS_TEST_TYPE,\n  CANVAS_LOCALIZATION_TYPE,\n  CANVAS_INTENT_TAG_PARAM,\n  CANVAS_LOCALE_TAG_PARAM,\n  CANVAS_PERSONALIZE_SLOT,\n  CANVAS_TEST_SLOT,\n  CANVAS_LOCALIZATION_SLOT,\n  CANVAS_DRAFT_STATE,\n  CANVAS_PUBLISHED_STATE,\n  CANVAS_PERSONALIZATION_PARAM,\n  CANVAS_TEST_VARIANT_PARAM,\n  CANVAS_ENRICHMENT_TAG_PARAM,\n  IN_CONTEXT_EDITOR_QUERY_STRING_PARAM,\n  IN_CONTEXT_EDITOR_COMPONENT_START_ROLE,\n  IN_CONTEXT_EDITOR_EMBED_SCRIPT_ID,\n  PLACEHOLDER_ID,\n  EDGE_MIN_CACHE_TTL,\n  EDGE_MAX_CACHE_TTL,\n  EDGE_DEFAULT_CACHE_TTL,\n  EDGE_CACHE_DISABLED,\n  EDGE_MIN_L2_CACHE_TTL_IN_HOURS,\n  EDGE_MAX_L2_CACHE_TTL_IN_HOURS,\n  EDGE_DEFAULT_L2_CACHE_TTL_IN_HOURS,\n  extractLocales,\n  localize,\n  UniqueBatchEntries,\n  generateHash,\n  isSelectComponentMessage,\n  isReadyMessage,\n  isUpdateCompositionMessage,\n  isAddComponentMessage,\n  isMovingComponentMessage,\n  isDismissPlaceholderMessage,\n  createCanvasChannel,\n  createEventBus,\n  getChannelName,\n  subscribeToComposition,\n  createUniformApiEnhancer,\n  isSystemComponentDefinition,\n  mapSlotToPersonalizedVariations,\n  mapSlotToTestVariations,\n  ApiClientError,\n  CanvasClientError\n};\n","var has = Object.prototype.hasOwnProperty;\n\nexport function dequal(foo, bar) {\n\tvar ctor, len;\n\tif (foo === bar) return true;\n\n\tif (foo && bar && (ctor=foo.constructor) === bar.constructor) {\n\t\tif (ctor === Date) return foo.getTime() === bar.getTime();\n\t\tif (ctor === RegExp) return foo.toString() === bar.toString();\n\n\t\tif (ctor === Array) {\n\t\t\tif ((len=foo.length) === bar.length) {\n\t\t\t\twhile (len-- && dequal(foo[len], bar[len]));\n\t\t\t}\n\t\t\treturn len === -1;\n\t\t}\n\n\t\tif (!ctor || typeof foo === 'object') {\n\t\t\tlen = 0;\n\t\t\tfor (ctor in foo) {\n\t\t\t\tif (has.call(foo, ctor) && ++len && !has.call(bar, ctor)) return false;\n\t\t\t\tif (!(ctor in bar) || !dequal(foo[ctor], bar[ctor])) return false;\n\t\t\t}\n\t\t\treturn Object.keys(bar).length === len;\n\t\t}\n\t}\n\n\treturn foo !== foo && bar !== bar;\n}\n","/*! js-cookie v3.0.1 | MIT */\n/* eslint-disable no-var */\nfunction assign (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n    for (var key in source) {\n      target[key] = source[key];\n    }\n  }\n  return target\n}\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\nvar defaultConverter = {\n  read: function (value) {\n    if (value[0] === '\"') {\n      value = value.slice(1, -1);\n    }\n    return value.replace(/(%[\\dA-F]{2})+/gi, decodeURIComponent)\n  },\n  write: function (value) {\n    return encodeURIComponent(value).replace(\n      /%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,\n      decodeURIComponent\n    )\n  }\n};\n/* eslint-enable no-var */\n\n/* eslint-disable no-var */\n\nfunction init (converter, defaultAttributes) {\n  function set (key, value, attributes) {\n    if (typeof document === 'undefined') {\n      return\n    }\n\n    attributes = assign({}, defaultAttributes, attributes);\n\n    if (typeof attributes.expires === 'number') {\n      attributes.expires = new Date(Date.now() + attributes.expires * 864e5);\n    }\n    if (attributes.expires) {\n      attributes.expires = attributes.expires.toUTCString();\n    }\n\n    key = encodeURIComponent(key)\n      .replace(/%(2[346B]|5E|60|7C)/g, decodeURIComponent)\n      .replace(/[()]/g, escape);\n\n    var stringifiedAttributes = '';\n    for (var attributeName in attributes) {\n      if (!attributes[attributeName]) {\n        continue\n      }\n\n      stringifiedAttributes += '; ' + attributeName;\n\n      if (attributes[attributeName] === true) {\n        continue\n      }\n\n      // Considers RFC 6265 section 5.2:\n      // ...\n      // 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n      //     character:\n      // Consume the characters of the unparsed-attributes up to,\n      // not including, the first %x3B (\";\") character.\n      // ...\n      stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n    }\n\n    return (document.cookie =\n      key + '=' + converter.write(value, key) + stringifiedAttributes)\n  }\n\n  function get (key) {\n    if (typeof document === 'undefined' || (arguments.length && !key)) {\n      return\n    }\n\n    // To prevent the for loop in the first place assign an empty array\n    // in case there are no cookies at all.\n    var cookies = document.cookie ? document.cookie.split('; ') : [];\n    var jar = {};\n    for (var i = 0; i < cookies.length; i++) {\n      var parts = cookies[i].split('=');\n      var value = parts.slice(1).join('=');\n\n      try {\n        var foundKey = decodeURIComponent(parts[0]);\n        jar[foundKey] = converter.read(value, foundKey);\n\n        if (key === foundKey) {\n          break\n        }\n      } catch (e) {}\n    }\n\n    return key ? jar[key] : jar\n  }\n\n  return Object.create(\n    {\n      set: set,\n      get: get,\n      remove: function (key, attributes) {\n        set(\n          key,\n          '',\n          assign({}, attributes, {\n            expires: -1\n          })\n        );\n      },\n      withAttributes: function (attributes) {\n        return init(this.converter, assign({}, this.attributes, attributes))\n      },\n      withConverter: function (converter) {\n        return init(assign({}, this.converter, converter), this.attributes)\n      }\n    },\n    {\n      attributes: { value: Object.freeze(defaultAttributes) },\n      converter: { value: Object.freeze(converter) }\n    }\n  )\n}\n\nvar api = init(defaultConverter, { path: '/' });\n/* eslint-enable no-var */\n\nexport default api;\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nvar __accessCheck = (obj, member, msg) => {\n  if (!member.has(obj))\n    throw TypeError(\"Cannot \" + msg);\n};\nvar __privateGet = (obj, member, getter) => {\n  __accessCheck(obj, member, \"read from private field\");\n  return getter ? getter.call(obj) : member.get(obj);\n};\nvar __privateAdd = (obj, member, value) => {\n  if (member.has(obj))\n    throw TypeError(\"Cannot add the same private member more than once\");\n  member instanceof WeakSet ? member.add(obj) : member.set(obj, value);\n};\nvar __privateSet = (obj, member, value, setter) => {\n  __accessCheck(obj, member, \"write to private field\");\n  setter ? setter.call(obj, value) : member.set(obj, value);\n  return value;\n};\nvar __privateMethod = (obj, member, method) => {\n  __accessCheck(obj, member, \"access private method\");\n  return method;\n};\n\n// src/manifest/aggregates/computeAggregateDimensions.ts\nfunction computeAggregateDimensions(primitiveScores, aggregates) {\n  const result = { ...primitiveScores };\n  for (const aggregateDimension in aggregates) {\n    const aggregateScore = computeAggregateDimension(\n      primitiveScores,\n      aggregateDimension,\n      aggregates,\n      /* @__PURE__ */ new Set([aggregateDimension])\n    );\n    if (aggregateScore !== 0) {\n      result[aggregateDimension] = aggregateScore;\n    }\n  }\n  return result;\n}\nfunction computeAggregateDimension(primitiveScores, aggregateDimension, allAggregates, visitedDimensions) {\n  var _a;\n  let aggregateScore = 0;\n  for (const input of allAggregates[aggregateDimension].inputs) {\n    let currentScore = (_a = primitiveScores[input.dim]) != null ? _a : 0;\n    if (!currentScore) {\n      const aggRef = allAggregates[input.dim];\n      if (aggRef) {\n        if (visitedDimensions.has(input.dim)) {\n          continue;\n        }\n        const newVisited = new Set(visitedDimensions);\n        newVisited.add(input.dim);\n        currentScore = computeAggregateDimension(primitiveScores, input.dim, allAggregates, newVisited);\n      }\n    }\n    if (currentScore !== 0) {\n      if (input.sign === \"c\") {\n        aggregateScore = 0;\n        break;\n      } else if (input.sign === \"-\") {\n        aggregateScore -= currentScore;\n      } else {\n        aggregateScore += currentScore;\n      }\n    }\n  }\n  return aggregateScore;\n}\n\n// src/manifest/constants.ts\nvar ENR_SEPARATOR = \"_\";\n\n// src/manifest/signals/SignalInstance.ts\nvar _evaluator, _onLogMessage;\nvar SignalInstance = class {\n  constructor(data, evaluator, onLogMessage) {\n    __privateAdd(this, _evaluator, void 0);\n    __privateAdd(this, _onLogMessage, void 0);\n    __publicField(this, \"signal\");\n    this.signal = data;\n    __privateSet(this, _evaluator, evaluator);\n    __privateSet(this, _onLogMessage, onLogMessage);\n  }\n  computeSignal(update, commands) {\n    const isAtCap = update.scores[this.signal.id] >= this.signal.cap;\n    if (isAtCap && this.signal.dur !== \"t\") {\n      return;\n    }\n    const criteriaMatchUpdate = __privateGet(this, _evaluator).evaluate(\n      update,\n      this.signal.crit,\n      commands,\n      this.signal,\n      __privateGet(this, _onLogMessage)\n    );\n    const scoreCommand = this.signal.dur === \"s\" || this.signal.dur === \"t\" ? \"modscoreS\" : \"modscore\";\n    if (!criteriaMatchUpdate.changed) {\n      return;\n    }\n    if (criteriaMatchUpdate.result) {\n      commands.push({\n        type: scoreCommand,\n        data: { dimension: this.signal.id, delta: this.signal.str }\n      });\n    } else if (this.signal.dur === \"t\") {\n      const sessionScore = update.visitor.sessionScores[this.signal.id];\n      if (sessionScore) {\n        commands.push({\n          type: scoreCommand,\n          data: { dimension: this.signal.id, delta: -sessionScore }\n        });\n      }\n    }\n  }\n};\n_evaluator = new WeakMap();\n_onLogMessage = new WeakMap();\n\n// src/manifest/ManifestInstance.ts\nvar _mf, _signalInstances, _onLogMessage2;\nvar ManifestInstance = class {\n  constructor({\n    manifest,\n    evaluator = new GroupCriteriaEvaluator({}),\n    onLogMessage = () => {\n    }\n  }) {\n    __publicField(this, \"data\");\n    __privateAdd(this, _mf, void 0);\n    __privateAdd(this, _signalInstances, void 0);\n    __privateAdd(this, _onLogMessage2, void 0);\n    var _a, _b, _c;\n    __privateSet(this, _mf, (_a = manifest.project) != null ? _a : {});\n    this.data = manifest;\n    __privateSet(this, _signalInstances, Object.entries((_c = (_b = __privateGet(this, _mf).pz) == null ? void 0 : _b.sig) != null ? _c : []).map(\n      ([id, signal]) => new SignalInstance({ ...signal, id }, evaluator, onLogMessage)\n    ));\n    __privateSet(this, _onLogMessage2, onLogMessage);\n  }\n  rollForControlGroup() {\n    var _a, _b;\n    return Math.random() < ((_b = (_a = __privateGet(this, _mf).pz) == null ? void 0 : _a.control) != null ? _b : 0);\n  }\n  getTest(name) {\n    var _a;\n    return (_a = __privateGet(this, _mf).test) == null ? void 0 : _a[name];\n  }\n  computeSignals(update) {\n    const commands = [];\n    __privateGet(this, _onLogMessage2).call(this, [\"debug\", 200, \"GROUP\"]);\n    try {\n      __privateGet(this, _signalInstances).forEach((signal) => {\n        __privateGet(this, _onLogMessage2).call(this, [\"debug\", 201, \"GROUP\", signal.signal]);\n        try {\n          signal.computeSignal(update, commands);\n        } finally {\n          __privateGet(this, _onLogMessage2).call(this, [\"debug\", 201, \"ENDGROUP\"]);\n        }\n      });\n    } finally {\n      __privateGet(this, _onLogMessage2).call(this, [\"debug\", 200, \"ENDGROUP\"]);\n    }\n    return commands;\n  }\n  computeAggregateDimensions(primitiveScores) {\n    var _a, _b;\n    return computeAggregateDimensions(primitiveScores, (_b = (_a = __privateGet(this, _mf).pz) == null ? void 0 : _a.agg) != null ? _b : {});\n  }\n  getDimensionByKey(scoreKey) {\n    var _a, _b, _c, _d;\n    const enrichmentIndex = scoreKey.indexOf(ENR_SEPARATOR);\n    if (enrichmentIndex <= 0) {\n      return (_b = (_a = __privateGet(this, _mf).pz) == null ? void 0 : _a.sig) == null ? void 0 : _b[scoreKey];\n    }\n    return (_d = (_c = __privateGet(this, _mf).pz) == null ? void 0 : _c.enr) == null ? void 0 : _d[scoreKey.substring(0, enrichmentIndex)];\n  }\n};\n_mf = new WeakMap();\n_signalInstances = new WeakMap();\n_onLogMessage2 = new WeakMap();\n\n// src/manifest/signals/criteria/evaluators/cookieEvaluator.ts\nimport { dequal } from \"dequal/lite\";\n\n// src/manifest/signals/criteria/util/isStringMatch.ts\nfunction isStringMatch(lhs, match) {\n  var _a, _b, _c, _d, _e, _f;\n  const type = (_a = match == null ? void 0 : match.op) != null ? _a : \"=\";\n  if (match.op === \"*\") {\n    return lhs !== null && typeof lhs !== \"undefined\";\n  }\n  if (match.op === \"!*\") {\n    return lhs === null || typeof lhs === \"undefined\";\n  }\n  if (!(\"rhs\" in match)) {\n    throw new Error(`Match expression is required for match type ${type}`);\n  }\n  const caseSensitive = (_b = match.cs) != null ? _b : false;\n  const localRhs = (caseSensitive ? lhs != null ? lhs : \"\" : caseDesensitize(lhs)).toString();\n  const localLhs = (caseSensitive ? match.rhs : caseDesensitize(match.rhs)).toString();\n  switch (type) {\n    case \"=\":\n      return localRhs === localLhs;\n    case \"!=\":\n      return localRhs !== localLhs;\n    case \"~\":\n      return (_c = localRhs.includes(localLhs)) != null ? _c : false;\n    case \"!~\":\n      return !((_d = localRhs.includes(localLhs)) != null ? _d : true);\n    case \"//\":\n      return new RegExp(match.rhs.toString(), caseSensitive ? \"\" : \"i\").test((_e = lhs == null ? void 0 : lhs.toString()) != null ? _e : \"\");\n    case \"!//\":\n      return !new RegExp(match.rhs.toString(), caseSensitive ? \"\" : \"i\").test((_f = lhs == null ? void 0 : lhs.toString()) != null ? _f : \"\");\n    default:\n      throw new Error(`Unknown match type ${type}.`);\n  }\n}\nfunction explainStringMatch(lhs, match) {\n  const cs = \"cs\" in match ? match.cs : false;\n  return `'${cs ? lhs : lhs == null ? void 0 : lhs.toString().toUpperCase()}' ${explainStringMatchCriteria(match)}`;\n}\nfunction explainStringMatchCriteria(match) {\n  if (\"rhs\" in match) {\n    return `${match.op} '${match.cs ? match.rhs : match.rhs.toString().toUpperCase()}'`;\n  }\n  return `${match.op === \"*\" ? \"exists\" : \"does not exist\"}`;\n}\nfunction caseDesensitize(value) {\n  var _a, _b;\n  return (_b = (_a = value == null ? void 0 : value.toString()) == null ? void 0 : _a.toUpperCase()) != null ? _b : \"\";\n}\n\n// src/manifest/signals/criteria/evaluators/cookieEvaluator.ts\nvar cookieEvaluator = ({ update, criteria, onLogMessage }) => {\n  var _a, _b;\n  if (criteria.type !== \"CK\") {\n    return { result: false, changed: false };\n  }\n  const changed = !dequal(cleanCookies(update.state.cookies), cleanCookies((_a = update.previousState) == null ? void 0 : _a.cookies));\n  const value = (_b = update.state.cookies) == null ? void 0 : _b[criteria.cookieName];\n  const result = isStringMatch(value, criteria.match);\n  const finalResult = { result, changed };\n  onLogMessage == null ? void 0 : onLogMessage([\n    \"debug\",\n    203,\n    { criteria, result: finalResult, explanation: explainStringMatch(value, criteria.match) }\n  ]);\n  return finalResult;\n};\nfunction cleanCookies(cookie) {\n  if (!cookie) {\n    return void 0;\n  }\n  if (!cookie.ufvd) {\n    return cookie;\n  }\n  const { ufvd, ...rest } = cookie;\n  return rest;\n}\n\n// src/manifest/signals/criteria/evaluators/currentPageEvaluator.ts\nvar currentPageEvaluator = ({ update, criteria, onLogMessage }) => {\n  var _a, _b, _c;\n  if (criteria.type !== \"PV\") {\n    return { result: false, changed: false };\n  }\n  const value = (_a = update.state.url) == null ? void 0 : _a.pathname;\n  const hasUrlChanged = !update.previousState || (value == null ? void 0 : value.toString()) !== ((_c = (_b = update.previousState.url) == null ? void 0 : _b.pathname) == null ? void 0 : _c.toString());\n  const result = isStringMatch(value, criteria.path);\n  const finalResult = { result, changed: hasUrlChanged };\n  onLogMessage == null ? void 0 : onLogMessage([\n    \"debug\",\n    203,\n    { criteria, result: finalResult, explanation: explainStringMatch(value, criteria.path) }\n  ]);\n  return finalResult;\n};\n\n// src/manifest/signals/criteria/evaluators/eventEvaluator.ts\nvar eventEvaluator = ({ update, criteria, onLogMessage }) => {\n  var _a, _b, _c;\n  if (criteria.type !== \"EVT\") {\n    return { result: false, changed: false };\n  }\n  const result = (_b = (_a = update.state.events) == null ? void 0 : _a.some((event) => isStringMatch(event.event, criteria.event))) != null ? _b : false;\n  const finalResult = { result, changed: result };\n  onLogMessage == null ? void 0 : onLogMessage([\n    \"debug\",\n    203,\n    {\n      criteria,\n      result: finalResult,\n      explanation: `'${(_c = update.state.events) == null ? void 0 : _c.join(\"', '\")}' ${explainStringMatchCriteria(criteria.event)}`\n    }\n  ]);\n  return finalResult;\n};\n\n// src/manifest/utils/getEnrichmentVectorKey.ts\nfunction getEnrichmentVectorKey(category, value) {\n  return `${category}${ENR_SEPARATOR}${value}`;\n}\n\n// src/manifest/signals/criteria/util/isNumberMatch.ts\nfunction isNumberMatch(lhs, match) {\n  var _a;\n  if (typeof lhs === \"undefined\" || lhs === null) {\n    return false;\n  }\n  const lhsValue = Number(lhs);\n  if (isNaN(lhsValue)) {\n    return false;\n  }\n  switch ((_a = match == null ? void 0 : match.op) != null ? _a : \"=\") {\n    case \"=\":\n      return lhsValue === match.rhs;\n    case \"!=\":\n      return lhsValue !== match.rhs;\n    case \">\":\n      return lhsValue > match.rhs;\n    case \"<\":\n      return lhsValue < match.rhs;\n    default:\n      console.warn(`Unknown match type ${match.op} is false.`);\n      return false;\n  }\n}\nfunction explainNumberMatch(lhs, match) {\n  return `${lhs} ${explainNumberMatchCriteria(match)}`;\n}\nfunction explainNumberMatchCriteria(match) {\n  return `${match.op} ${match.rhs}`;\n}\n\n// src/manifest/signals/criteria/evaluators/pageViewCountEvaluator.ts\nvar pageViewCountDimension = getEnrichmentVectorKey(\"$pvc\", \"v\");\nvar pageViewCountEvaluator = ({ update, criteria, commands, onLogMessage }) => {\n  var _a, _b;\n  if (criteria.type !== \"PVC\") {\n    return { result: false, changed: false };\n  }\n  const hasUrlChanged = Boolean(\n    update.state.url && (!update.previousState || ((_a = update.state.url) == null ? void 0 : _a.toString()) !== ((_b = update.previousState.url) == null ? void 0 : _b.toString()))\n  );\n  const existingValueNumber = update.visitor.sessionScores[pageViewCountDimension] || 0;\n  const updatedCount = existingValueNumber + 1;\n  const finalResult = { result: false, changed: hasUrlChanged };\n  const hasExistingPageViewIncrementCommand = commands.some(\n    (c) => c.type === \"modscoreS\" && c.data.dimension === pageViewCountDimension\n  );\n  if (hasUrlChanged && !hasExistingPageViewIncrementCommand) {\n    commands.push({\n      type: \"modscoreS\",\n      data: {\n        dimension: pageViewCountDimension,\n        delta: 1\n      }\n    });\n  }\n  if (isNumberMatch(updatedCount, criteria.match)) {\n    finalResult.result = true;\n  }\n  onLogMessage == null ? void 0 : onLogMessage([\n    \"debug\",\n    203,\n    { criteria, result: finalResult, explanation: explainNumberMatch(updatedCount, criteria.match) }\n  ]);\n  return finalResult;\n};\npageViewCountEvaluator.alwaysExecute = true;\n\n// src/manifest/signals/criteria/evaluators/queryStringEvaluator.ts\nvar queryStringEvaluator = ({ update, criteria, onLogMessage }) => {\n  var _a, _b, _c, _d, _e;\n  if (criteria.type !== \"QS\") {\n    return { result: false, changed: false };\n  }\n  const hasQueryChanged = !update.previousState || ((_b = (_a = update.state.url) == null ? void 0 : _a.searchParams) == null ? void 0 : _b.toString()) !== ((_d = (_c = update.previousState.url) == null ? void 0 : _c.searchParams) == null ? void 0 : _d.toString());\n  const value = (_e = update.state.url) == null ? void 0 : _e.searchParams.get(criteria.queryName);\n  const result = isStringMatch(value, criteria.match);\n  const finalResult = { result, changed: hasQueryChanged };\n  onLogMessage == null ? void 0 : onLogMessage([\n    \"debug\",\n    203,\n    { criteria, result: finalResult, explanation: explainStringMatch(value, criteria.match) }\n  ]);\n  return finalResult;\n};\n\n// src/manifest/signals/criteria/evaluators/quirkEvaluator.ts\nvar quirkEvaluator = ({ update, criteria, signal, onLogMessage }) => {\n  var _a;\n  if (criteria.type !== \"QK\") {\n    return { result: false, changed: false };\n  }\n  if (typeof document === \"undefined\" && update.scores[signal.id] > 0) {\n    return { result: true, changed: false };\n  }\n  const visitorValue = update.visitor.quirks[criteria.key];\n  const updateValue = (_a = update.state.quirks) == null ? void 0 : _a[criteria.key];\n  const value = updateValue != null ? updateValue : visitorValue;\n  const changed = Boolean(updateValue && visitorValue !== updateValue);\n  const result = isStringMatch(value, criteria.match);\n  const finalResult = { result, changed };\n  onLogMessage == null ? void 0 : onLogMessage([\n    \"debug\",\n    203,\n    { criteria, result: finalResult, explanation: explainStringMatch(value, criteria.match) }\n  ]);\n  return finalResult;\n};\n\n// src/manifest/signals/criteria/GroupCriteriaEvaluator.ts\nvar _evaluators;\nvar GroupCriteriaEvaluator = class {\n  constructor(criteriaEvaluators) {\n    __privateAdd(this, _evaluators, void 0);\n    __privateSet(this, _evaluators, criteriaEvaluators);\n  }\n  evaluate(update, crit, commands, signal, onLogMessage) {\n    const hasMultipleClauses = crit.clauses.length > 1;\n    if (hasMultipleClauses) {\n      onLogMessage == null ? void 0 : onLogMessage([\"debug\", 202, \"GROUP\", crit]);\n    }\n    try {\n      const earlyExitEvaluatorResult = crit.op === \"&\" || !crit.op ? false : true;\n      let earlyExitResult = null;\n      let isAnyChanged = false;\n      for (const criteria of crit.clauses) {\n        let result;\n        if (criteria.type === \"G\") {\n          result = this.evaluate(update, criteria, commands, signal, onLogMessage);\n        } else {\n          const evaluator = __privateGet(this, _evaluators)[criteria.type];\n          if (earlyExitResult && !evaluator.alwaysExecute) {\n            continue;\n          }\n          if (!evaluator) {\n            throw new Error(`${criteria.type} signal criteria not registered`);\n          }\n          result = evaluator({ update, criteria, commands, signal, onLogMessage });\n        }\n        if (result.changed) {\n          isAnyChanged = true;\n        }\n        if (!earlyExitResult && result.result === earlyExitEvaluatorResult) {\n          earlyExitResult = { result: earlyExitEvaluatorResult, changed: isAnyChanged };\n        }\n      }\n      const finalResult = earlyExitResult != null ? earlyExitResult : { result: !earlyExitEvaluatorResult, changed: isAnyChanged };\n      if (hasMultipleClauses) {\n        onLogMessage == null ? void 0 : onLogMessage([\"debug\", 204, finalResult]);\n      }\n      return finalResult;\n    } finally {\n      if (hasMultipleClauses) {\n        onLogMessage == null ? void 0 : onLogMessage([\"debug\", 202, \"ENDGROUP\"]);\n      }\n    }\n  }\n};\n_evaluators = new WeakMap();\n\n// src/placement/criteria/evaluateVariantMatch.ts\nfunction evaluateVariantMatch(variantId, match, vec, onLogMessage) {\n  onLogMessage == null ? void 0 : onLogMessage([\"info\", 301, \"GROUP\", { id: variantId, op: match == null ? void 0 : match.op }]);\n  let result;\n  try {\n    if (!(match == null ? void 0 : match.crit)) {\n      onLogMessage == null ? void 0 : onLogMessage([\"info\", 302, { matched: true, description: \"default variation\" }]);\n      result = true;\n    } else if (!match.op || match.op === \"&\") {\n      result = match.crit.every((c) => evaluateDimensionMatch(c, vec, onLogMessage));\n    } else {\n      result = match.crit.some((c) => evaluateDimensionMatch(c, vec, onLogMessage));\n    }\n    onLogMessage == null ? void 0 : onLogMessage([\"info\", 303, result]);\n  } finally {\n    onLogMessage == null ? void 0 : onLogMessage([\"info\", 301, \"ENDGROUP\"]);\n  }\n  return result;\n}\nfunction evaluateDimensionMatch(crit, vec, onLogMessage) {\n  var _a, _b;\n  const { op, l: lhs } = crit;\n  const lhsScore = (_a = vec[lhs]) != null ? _a : 0;\n  if (op === \"+\") {\n    const result = Math.max(...Object.values(vec)) === lhsScore && lhsScore > 0;\n    onLogMessage == null ? void 0 : onLogMessage([\n      \"info\",\n      302,\n      {\n        matched: result,\n        description: `${crit.l} has the highest score`\n      }\n    ]);\n    return result;\n  } else if (op === \"-\") {\n    const result = Math.min(...Object.values(vec)) === lhsScore && lhsScore > 0;\n    onLogMessage == null ? void 0 : onLogMessage([\n      \"info\",\n      302,\n      {\n        matched: result,\n        description: `${crit.l} has the lowest non-zero score`\n      }\n    ]);\n    return result;\n  }\n  let rhsScore;\n  if (crit.rDim) {\n    rhsScore = vec[crit.rDim] || 0;\n  } else {\n    rhsScore = parseInt(crit.r, 10);\n  }\n  if (isNaN(rhsScore)) {\n    onLogMessage == null ? void 0 : onLogMessage([\n      \"info\",\n      302,\n      {\n        matched: false,\n        description: `${(_b = crit.rDim) != null ? _b : crit.r} has no score value`\n      }\n    ]);\n    return false;\n  }\n  if (op === \">\") {\n    const result = lhsScore > rhsScore;\n    explain(onLogMessage, result, crit, lhsScore, rhsScore);\n    return result;\n  } else if (op === \">=\") {\n    const result = lhsScore >= rhsScore;\n    explain(onLogMessage, result, crit, lhsScore, rhsScore);\n    return result;\n  } else if (op === \"<\") {\n    const result = lhsScore < rhsScore;\n    explain(onLogMessage, result, crit, lhsScore, rhsScore);\n    return result;\n  } else if (op === \"<=\") {\n    const result = lhsScore <= rhsScore;\n    explain(onLogMessage, result, crit, lhsScore, rhsScore);\n    return result;\n  } else if (op === \"=\") {\n    const result = lhsScore === rhsScore;\n    explain(onLogMessage, result, crit, lhsScore, rhsScore);\n    return result;\n  } else if (op === \"!=\") {\n    const result = lhsScore !== rhsScore;\n    explain(onLogMessage, result, crit, lhsScore, rhsScore);\n    return result;\n  } else {\n    throw new Error(`Unknown op: ${op}`);\n  }\n}\nfunction explain(onLogMessage, result, crit, lhsScore, rhsScore) {\n  onLogMessage == null ? void 0 : onLogMessage([\n    \"info\",\n    302,\n    {\n      matched: result,\n      description: `${crit.l}[${lhsScore}] ${crit.op} ${crit.rDim ? `${crit.rDim}[${rhsScore}]` : crit.r}`\n    }\n  ]);\n}\n\n// src/placement/personalize.ts\nfunction personalizeVariations({\n  name,\n  context,\n  variations,\n  take = 1,\n  onLogMessage\n}) {\n  var _a, _b, _c;\n  onLogMessage == null ? void 0 : onLogMessage([\"info\", 300, \"GROUP\", { name, take }]);\n  try {\n    const control = (_a = context.storage.data.controlGroup) != null ? _a : false;\n    const results = [];\n    let personalized = false;\n    const scores = context.scores;\n    for (const variant of variations) {\n      if (results.length === take) {\n        break;\n      }\n      if (!((_b = variant.pz) == null ? void 0 : _b.crit.length)) {\n        onLogMessage == null ? void 0 : onLogMessage([\"info\", 301, \"GROUP\", { id: variant.id, op: (_c = variant.pz) == null ? void 0 : _c.op }]);\n        onLogMessage == null ? void 0 : onLogMessage([\"info\", 302, { matched: true, description: \"default variation\" }]);\n        onLogMessage == null ? void 0 : onLogMessage([\"info\", 303, true]);\n        onLogMessage == null ? void 0 : onLogMessage([\"info\", 301, \"ENDGROUP\"]);\n        results.push(variant);\n        continue;\n      }\n      if (control) {\n        continue;\n      }\n      if (evaluateVariantMatch(variant.id, variant.pz, scores, onLogMessage)) {\n        personalized = true;\n        results.push(variant);\n      }\n    }\n    return {\n      personalized,\n      variations: results\n    };\n  } finally {\n    onLogMessage == null ? void 0 : onLogMessage([\"info\", 300, \"ENDGROUP\"]);\n  }\n}\n\n// src/placement/test.ts\nvar normalizeVariationDistributions = (variations) => {\n  const { values, total, missingDistribution } = variations.reduce(\n    (previous, current) => {\n      if (current.testDistribution) {\n        previous.total += current.testDistribution;\n      } else {\n        ++previous.missingDistribution;\n      }\n      previous.values.push(current.testDistribution);\n      return previous;\n    },\n    {\n      values: [],\n      total: 0,\n      missingDistribution: 0\n    }\n  );\n  if (total > 100) {\n    throw new Error(`Total distribution ${total} is over the maximum 100.`);\n  } else if (total < 100) {\n    const remainder = 100 - total;\n    const missingSlice = remainder / missingDistribution;\n    values.forEach((value, index) => {\n      if (typeof value === \"undefined\") {\n        values[index] = missingSlice;\n      }\n    });\n  }\n  return values;\n};\nvar testVariations = ({\n  name,\n  context,\n  variations,\n  onLogMessage\n}) => {\n  onLogMessage == null ? void 0 : onLogMessage([\"info\", 400, \"GROUP\", name]);\n  try {\n    let selectedVariant;\n    const selectedVariantId = context.getTestVariantId(name);\n    if (selectedVariantId === null) {\n      onLogMessage == null ? void 0 : onLogMessage([\"error\", 401, name]);\n      return { result: void 0, variantAssigned: false };\n    }\n    if (selectedVariantId) {\n      selectedVariant = variations.find((variation) => variation.id === selectedVariantId);\n      if (!selectedVariant) {\n        onLogMessage == null ? void 0 : onLogMessage([\n          \"warn\",\n          402,\n          { missingVariant: selectedVariantId, variants: variations.map((v) => v.id) }\n        ]);\n      }\n    }\n    if (!selectedVariant) {\n      const distributions = normalizeVariationDistributions(variations);\n      const random = Math.floor(Math.random() * 100);\n      let distributionOffset = 0;\n      selectedVariant = variations.find((variant, index) => {\n        const distribution = distributions[index];\n        if (random > distributionOffset && random <= distributionOffset + distribution) {\n          return variant;\n        }\n        distributionOffset += distribution;\n      });\n      if (selectedVariant) {\n        onLogMessage == null ? void 0 : onLogMessage([\"info\", 403, selectedVariant.id]);\n        context.setTestVariantId(name, selectedVariant.id);\n      }\n    }\n    if (selectedVariant) {\n      onLogMessage == null ? void 0 : onLogMessage([\"info\", 404, selectedVariant.id]);\n    }\n    return {\n      result: selectedVariant,\n      variantAssigned: !selectedVariantId\n    };\n  } finally {\n    onLogMessage == null ? void 0 : onLogMessage([\"info\", 400, \"ENDGROUP\"]);\n  }\n};\n\n// src/storage/CookieTransitionDataStore.ts\nimport Cookies from \"js-cookie\";\n\n// src/storage/TransitionDataStore.ts\nimport { dequal as dequal2 } from \"dequal/lite\";\nimport mitt from \"mitt\";\nvar SERVER_STATE_ID = \"__UNIFORM_DATA__\";\nvar _data, _initialData, _mitt;\nvar TransitionDataStore = class {\n  constructor({ initialData }) {\n    __privateAdd(this, _data, void 0);\n    __privateAdd(this, _initialData, void 0);\n    __privateAdd(this, _mitt, mitt());\n    __publicField(this, \"events\", {\n      on: __privateGet(this, _mitt).on,\n      off: __privateGet(this, _mitt).off\n    });\n    if (initialData) {\n      __privateSet(this, _data, initialData);\n      __privateSet(this, _initialData, initialData);\n    }\n  }\n  get data() {\n    return __privateGet(this, _data);\n  }\n  get initialData() {\n    return __privateGet(this, _initialData);\n  }\n  updateData(commands, computedValue) {\n    __privateSet(this, _data, computedValue);\n    return this.handleUpdateData(commands, computedValue);\n  }\n  async delete(fromAllDevices) {\n    __privateSet(this, _data, void 0);\n    await this.handleDelete(fromAllDevices);\n  }\n  signalAsyncDataUpdate(newScores) {\n    if (dequal2(this.data, newScores)) {\n      return;\n    }\n    __privateSet(this, _data, newScores);\n    __privateGet(this, _mitt).emit(\"dataUpdatedAsync\", newScores);\n  }\n  getClientTransitionState() {\n    if (typeof document === \"undefined\") {\n      return;\n    }\n    const matchesElement = document.getElementById(SERVER_STATE_ID);\n    return (matchesElement == null ? void 0 : matchesElement.textContent) ? JSON.parse(matchesElement.textContent) : void 0;\n  }\n};\n_data = new WeakMap();\n_initialData = new WeakMap();\n_mitt = new WeakMap();\n\n// src/storage/util/numberToBase64.ts\nvar alphabet = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar b2s = alphabet.split(\"\");\nvar s2b = new Array(123);\nfor (let i = 0; i < alphabet.length; i++) {\n  s2b[alphabet.charCodeAt(i)] = i;\n}\nvar ntob = (number) => {\n  if (number < 0)\n    return `-${ntob(-number)}`;\n  let lo = number >>> 0;\n  let hi = number / 4294967296 >>> 0;\n  let right = \"\";\n  while (hi > 0) {\n    right = b2s[63 & lo] + right;\n    lo >>>= 6;\n    lo |= (63 & hi) << 26;\n    hi >>>= 6;\n  }\n  let left = \"\";\n  do {\n    left = b2s[63 & lo] + left;\n    lo >>>= 6;\n  } while (lo > 0);\n  return left + right;\n};\nvar bton = (base64) => {\n  let number = 0;\n  const sign = base64.charAt(0) === \"-\" ? 1 : 0;\n  for (let i = sign; i < base64.length; i++) {\n    number = number * 64 + s2b[base64.charCodeAt(i)];\n  }\n  return sign ? -number : number;\n};\n\n// src/storage/CookieTransitionDataStore.ts\nvar ssr = typeof document === \"undefined\";\nvar UNIFORM_DEFAULT_COOKIE_NAME = \"ufvd\";\nvar _cookieName, _cookieAttributes;\nvar CookieTransitionDataStore = class extends TransitionDataStore {\n  constructor({\n    serverCookieValue,\n    cookieName = UNIFORM_DEFAULT_COOKIE_NAME,\n    cookieAttributes = { sameSite: \"lax\" }\n  }) {\n    super({\n      initialData: ssr ? parseScoreCookie(serverCookieValue) : void 0\n    });\n    __privateAdd(this, _cookieName, void 0);\n    __privateAdd(this, _cookieAttributes, void 0);\n    __privateSet(this, _cookieName, cookieName);\n    __privateSet(this, _cookieAttributes, cookieAttributes);\n  }\n  handleDelete() {\n    if (ssr)\n      return Promise.resolve();\n    Cookies.remove(__privateGet(this, _cookieName));\n    return Promise.resolve();\n  }\n  async handleUpdateData(_, computedValue) {\n    if (ssr)\n      return;\n    if (computedValue.consent) {\n      Cookies.set(__privateGet(this, _cookieName), serializeCookie(computedValue), __privateGet(this, _cookieAttributes));\n    } else {\n      Cookies.remove(__privateGet(this, _cookieName));\n    }\n  }\n};\n_cookieName = new WeakMap();\n_cookieAttributes = new WeakMap();\nvar TYPE_SEP = \"~\";\nvar PAIR_SEP = \"!\";\nvar KV_SEP = \"-\";\nfunction parseScoreCookie(cookieValue) {\n  if (!cookieValue)\n    return;\n  const types = cookieValue.split(TYPE_SEP);\n  if (types.length > 3)\n    return;\n  const [abTestData, sessionScores, visitorScores] = types;\n  return {\n    consent: true,\n    sessionScores: decodeCookieType(parseCookieType(sessionScores)),\n    scores: decodeCookieType(parseCookieType(visitorScores)),\n    tests: parseCookieType(abTestData)\n  };\n}\nfunction parseCookieType(type) {\n  const pairs = type.split(PAIR_SEP).map((pair) => pair.split(KV_SEP));\n  return pairs.reduce((acc, cur) => {\n    if (cur.length < 2)\n      return acc;\n    acc[cur[0]] = cur.slice(1).join(\"-\");\n    return acc;\n  }, {});\n}\nfunction decodeCookieType(type) {\n  return Object.entries(type).reduce((acc, [key, value]) => {\n    acc[key] = bton(value);\n    return acc;\n  }, {});\n}\nfunction serializeCookie(data) {\n  return [\n    serializeCookieType(data.tests),\n    serializeCookieType(encodeCookieType(data.sessionScores)),\n    serializeCookieType(encodeCookieType(data.scores))\n  ].join(TYPE_SEP);\n}\nfunction encodeCookieType(type) {\n  return Object.entries(type).reduce((acc, [key, value]) => {\n    acc[key] = ntob(value);\n    return acc;\n  }, {});\n}\nfunction serializeCookieType(type) {\n  return Object.entries(type).map((kv) => kv.join(KV_SEP)).join(PAIR_SEP);\n}\n\n// src/storage/EdgeTransitionDataStore.ts\nvar _fetchData, fetchData_fn;\nvar EdgeTransitionDataStore = class extends TransitionDataStore {\n  constructor({ serverCookieValue, visitorIdCookieName = \"ufvi\", ...base }) {\n    super(base);\n    __privateAdd(this, _fetchData);\n    if (!base.initialData) {\n      __privateMethod(this, _fetchData, fetchData_fn).call(this).catch((err) => {\n        console.error(err);\n      });\n    }\n  }\n  handleDelete(fromAllDevices) {\n    throw new Error(\"Method not implemented.\");\n  }\n  async handleUpdateData(commands) {\n    const commandResults = await new Promise((resolve) => {\n      setTimeout(() => {\n        resolve(void 0);\n      }, 2e3);\n    });\n    if (commandResults) {\n      this.signalAsyncDataUpdate(commandResults);\n    }\n  }\n};\n_fetchData = new WeakSet();\nfetchData_fn = async function() {\n  const serviceData = await new Promise((resolve) => {\n    setTimeout(() => {\n      resolve(void 0);\n    }, 2e3);\n  });\n  if (serviceData) {\n    this.signalAsyncDataUpdate(serviceData);\n  }\n};\n\n// src/storage/linearDecay.ts\nfunction createLinearDecay(options) {\n  const { gracePeriod = 864e5, decayRate = 1 / 30, decayCap = 0.95 } = options != null ? options : {};\n  return function linearDecay({ now, lastUpd, scores, sessionScores, onLogMessage }) {\n    if (typeof lastUpd !== \"number\") {\n      return false;\n    }\n    const timeSinceLastUpdate = now - lastUpd;\n    const timeSinceGracePeriod = timeSinceLastUpdate - gracePeriod;\n    if (timeSinceGracePeriod <= 0) {\n      return false;\n    }\n    const timeSinceGracePeriodInDays = timeSinceGracePeriod / 864e5;\n    const decayFactor = 1 - Math.min(decayCap, timeSinceGracePeriodInDays * decayRate);\n    if (decayFactor <= 0) {\n      return false;\n    }\n    decayVector(scores, decayFactor);\n    decayVector(sessionScores, decayFactor);\n    onLogMessage == null ? void 0 : onLogMessage([\"info\", 140, `linear decay factor ${decayFactor.toPrecision(6)}`]);\n    return true;\n  };\n}\nfunction decayVector(vector, decay) {\n  for (const key in vector) {\n    if (key.startsWith(\"$\")) {\n      continue;\n    }\n    vector[key] *= decay;\n  }\n}\n\n// src/types.ts\nvar emptyVisitorData = () => ({\n  quirks: {},\n  scores: {},\n  sessionScores: {},\n  tests: {},\n  consent: false,\n  controlGroup: false\n});\n\n// src/storage/VisitorDataStore.ts\nimport { dequal as dequal3 } from \"dequal/lite\";\nimport mitt2 from \"mitt\";\n\n// src/storage/util/applyCommandsToData.ts\nimport rfdc from \"rfdc\";\nvar clone = rfdc();\nfunction applyCommandsToData(commands, state, inControlGroup) {\n  const newData = state ? clone(state) : emptyVisitorData();\n  commands.forEach((command) => {\n    var _a, _b;\n    switch (command.type) {\n      case \"consent\":\n        newData.consent = command.data;\n        break;\n      case \"setquirk\":\n        newData.quirks[command.data.key] = command.data.value;\n        break;\n      case \"settest\":\n        newData.tests[command.data.test] = command.data.variant;\n        break;\n      case \"modscore\":\n        if (inControlGroup)\n          break;\n        const delta = Number(command.data.delta);\n        if (isNaN(delta)) {\n          throw new Error(\"Non-number delta received\");\n        }\n        const existing = (_a = newData.scores[command.data.dimension]) != null ? _a : 0;\n        newData.scores[command.data.dimension] = existing + delta;\n        break;\n      case \"modscoreS\":\n        if (inControlGroup)\n          break;\n        const deltaS = Number(command.data.delta);\n        if (isNaN(deltaS)) {\n          throw new Error(\"Non-number delta received\");\n        }\n        const existingS = (_b = newData.sessionScores[command.data.dimension]) != null ? _b : 0;\n        newData.sessionScores[command.data.dimension] = existingS + deltaS;\n        break;\n      case \"identify\":\n        break;\n      case \"setcontrol\":\n        newData.controlGroup = command.data;\n        break;\n      default:\n        throw new Error(`Unknown command`);\n    }\n  });\n  return newData;\n}\n\n// src/storage/util/LocalStorage.ts\nvar LocalStorage = class {\n  constructor() {\n    __publicField(this, \"inMemoryFallback\", {});\n    __publicField(this, \"hasLocalStorageObject\", typeof localStorage !== \"undefined\");\n  }\n  get(key) {\n    const fallbackValue = this.inMemoryFallback[key];\n    if (!this.hasLocalStorageObject || fallbackValue) {\n      return fallbackValue;\n    }\n    try {\n      const value = localStorage.getItem(key);\n      return value ? JSON.parse(value) : void 0;\n    } catch (e) {\n      return fallbackValue;\n    }\n  }\n  set(key, value, storageConsent) {\n    this.inMemoryFallback[key] = value;\n    if (!this.hasLocalStorageObject || !storageConsent) {\n      return;\n    }\n    try {\n      localStorage.setItem(key, JSON.stringify(value));\n    } catch (e) {\n      console.warn(e);\n    }\n  }\n  delete(key, leaveInMemory) {\n    if (!leaveInMemory) {\n      delete this.inMemoryFallback[key];\n    }\n    try {\n      localStorage.removeItem(key);\n    } catch (e) {\n    }\n  }\n};\n\n// src/storage/VisitorDataStore.ts\nvar STORAGE_KEY = \"ufvisitor\";\nvar _mitt2, _persist, _visitTimeout, _options, _currentData, currentData_get, _replaceData, replaceData_fn, _setVisitTimeout, setVisitTimeout_fn, _isExpired, isExpired_fn, _handleCaps, handleCaps_fn, _defaultData, defaultData_fn;\nvar VisitorDataStore = class {\n  constructor(options) {\n    __privateAdd(this, _currentData);\n    __privateAdd(this, _replaceData);\n    __privateAdd(this, _setVisitTimeout);\n    __privateAdd(this, _isExpired);\n    __privateAdd(this, _handleCaps);\n    __privateAdd(this, _defaultData);\n    __privateAdd(this, _mitt2, mitt2());\n    __privateAdd(this, _persist, new LocalStorage());\n    __privateAdd(this, _visitTimeout, void 0);\n    __privateAdd(this, _options, void 0);\n    __publicField(this, \"events\", {\n      on: __privateGet(this, _mitt2).on,\n      off: __privateGet(this, _mitt2).off\n    });\n    __privateSet(this, _options, options);\n    if (!__privateGet(this, _currentData, currentData_get)) {\n      __privateMethod(this, _replaceData, replaceData_fn).call(this, __privateMethod(this, _defaultData, defaultData_fn).call(this), true);\n    }\n    if (options.transitionStore) {\n      const serverToClientTransitionState = options.transitionStore.getClientTransitionState();\n      if (serverToClientTransitionState && options.onServerTransitionReceived) {\n        options.onServerTransitionReceived(serverToClientTransitionState);\n      }\n      options.transitionStore.events.on(\"dataUpdatedAsync\", (data) => {\n        __privateMethod(this, _replaceData, replaceData_fn).call(this, {\n          ...__privateGet(this, _currentData, currentData_get).visitorData,\n          ...data\n        });\n      });\n      const transitionData = options.transitionStore.data;\n      if (transitionData) {\n        __privateMethod(this, _replaceData, replaceData_fn).call(this, { ...__privateGet(this, _currentData, currentData_get).visitorData, ...transitionData }, true);\n      }\n    }\n  }\n  get data() {\n    var _a, _b;\n    const data = __privateGet(this, _currentData, currentData_get);\n    if (__privateMethod(this, _isExpired, isExpired_fn).call(this, data)) {\n      const { sessionScores, ...newData } = data.visitorData;\n      __privateMethod(this, _replaceData, replaceData_fn).call(this, { ...newData, sessionScores: {} });\n      (_b = (_a = __privateGet(this, _options)).onLogMessage) == null ? void 0 : _b.call(_a, [\"info\", 120]);\n      return __privateGet(this, _currentData, currentData_get).visitorData;\n    }\n    return data.visitorData;\n  }\n  get decayEnabled() {\n    return !!__privateGet(this, _options).decay;\n  }\n  get options() {\n    return __privateGet(this, _options);\n  }\n  async updateData(commands) {\n    var _a, _b, _c, _d;\n    if (commands.length === 0) {\n      return;\n    }\n    (_b = (_a = __privateGet(this, _options)).onLogMessage) == null ? void 0 : _b.call(_a, [\"debug\", 101, commands]);\n    const newData = applyCommandsToData(commands, this.data, (_c = __privateGet(this, _currentData, currentData_get)) == null ? void 0 : _c.visitorData.controlGroup);\n    if (commands.some((c) => c.type === \"consent\" && !c.data)) {\n      __privateGet(this, _persist).delete(STORAGE_KEY, true);\n    }\n    __privateMethod(this, _replaceData, replaceData_fn).call(this, newData);\n    await ((_d = __privateGet(this, _options).transitionStore) == null ? void 0 : _d.updateData(commands, __privateGet(this, _currentData, currentData_get).visitorData));\n  }\n  async delete(fromAllDevices) {\n    var _a, _b, _c, _d, _e;\n    (_b = (_a = __privateGet(this, _options)).onLogMessage) == null ? void 0 : _b.call(_a, [\"info\", 103, \"GROUP\", fromAllDevices]);\n    try {\n      __privateGet(this, _persist).delete(STORAGE_KEY, false);\n      await ((_c = __privateGet(this, _options).transitionStore) == null ? void 0 : _c.delete(fromAllDevices));\n      __privateMethod(this, _replaceData, replaceData_fn).call(this, __privateMethod(this, _defaultData, defaultData_fn).call(this));\n    } finally {\n      (_e = (_d = __privateGet(this, _options)).onLogMessage) == null ? void 0 : _e.call(_d, [\"info\", 103, \"ENDGROUP\"]);\n    }\n  }\n};\n_mitt2 = new WeakMap();\n_persist = new WeakMap();\n_visitTimeout = new WeakMap();\n_options = new WeakMap();\n_currentData = new WeakSet();\ncurrentData_get = function() {\n  return __privateGet(this, _persist).get(STORAGE_KEY);\n};\n_replaceData = new WeakSet();\nreplaceData_fn = function(data, quiet = false) {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i;\n  const oldData = __privateGet(this, _currentData, currentData_get);\n  const now = Date.now();\n  if (data.controlGroup) {\n    data.scores = {};\n    data.sessionScores = {};\n  } else {\n    __privateMethod(this, _handleCaps, handleCaps_fn).call(this, data.scores);\n    __privateMethod(this, _handleCaps, handleCaps_fn).call(this, data.sessionScores);\n    (_b = (_a = __privateGet(this, _options)).decay) == null ? void 0 : _b.call(_a, {\n      now,\n      lastUpd: oldData == null ? void 0 : oldData.updated,\n      scores: data.scores,\n      sessionScores: data.sessionScores,\n      onLogMessage: __privateGet(this, _options).onLogMessage\n    });\n  }\n  const haveScoresChanged = !dequal3(oldData == null ? void 0 : oldData.visitorData.scores, data.scores);\n  const haveSessionScoresChanged = !dequal3(oldData == null ? void 0 : oldData.visitorData.sessionScores, data.sessionScores);\n  const haveQuirksChanged = !dequal3(oldData == null ? void 0 : oldData.visitorData.quirks, data.quirks);\n  const haveTestsChanged = !dequal3(oldData == null ? void 0 : oldData.visitorData.tests, data.tests);\n  const updatedData = {\n    updated: now,\n    visitorData: data\n  };\n  __privateMethod(this, _setVisitTimeout, setVisitTimeout_fn).call(this);\n  __privateGet(this, _persist).set(STORAGE_KEY, updatedData, !!data.consent);\n  (_d = (_c = __privateGet(this, _options)).onLogMessage) == null ? void 0 : _d.call(_c, [\"debug\", 102, data]);\n  if (!quiet) {\n    if (haveScoresChanged || haveSessionScoresChanged) {\n      __privateGet(this, _mitt2).emit(\"scoresUpdated\", data);\n    }\n    if (haveQuirksChanged) {\n      __privateGet(this, _mitt2).emit(\"quirksUpdated\", data);\n    }\n    if (haveTestsChanged) {\n      __privateGet(this, _mitt2).emit(\"testsUpdated\", data);\n    }\n    if (((_e = oldData == null ? void 0 : oldData.visitorData) == null ? void 0 : _e.consent) !== data.consent) {\n      __privateGet(this, _mitt2).emit(\"consentUpdated\", data);\n    }\n    if (((_f = oldData == null ? void 0 : oldData.visitorData) == null ? void 0 : _f.controlGroup) !== data.controlGroup) {\n      __privateGet(this, _mitt2).emit(\"controlGroupUpdated\", data);\n      (_i = (_h = __privateGet(this, _options)).onLogMessage) == null ? void 0 : _i.call(_h, [\"debug\", 104, (_g = data.controlGroup) != null ? _g : false]);\n    }\n  }\n};\n_setVisitTimeout = new WeakSet();\nsetVisitTimeout_fn = function() {\n  if (typeof document === \"undefined\" || !__privateGet(this, _options).visitLifespan) {\n    return;\n  }\n  if (__privateGet(this, _visitTimeout)) {\n    window.clearTimeout(__privateGet(this, _visitTimeout));\n  }\n  __privateSet(this, _visitTimeout, window.setTimeout(() => {\n    this.data;\n  }, __privateGet(this, _options).visitLifespan + 50));\n};\n_isExpired = new WeakSet();\nisExpired_fn = function(data) {\n  const expires = __privateGet(this, _options).visitLifespan;\n  return expires ? data.updated + expires < Date.now() : false;\n};\n_handleCaps = new WeakSet();\nhandleCaps_fn = function(scores) {\n  var _a, _b;\n  if (!__privateGet(this, _options).manifest) {\n    return;\n  }\n  for (const dim in scores) {\n    const score = scores[dim];\n    const dimDef = __privateGet(this, _options).manifest.getDimensionByKey(dim);\n    if (!dimDef) {\n      continue;\n    }\n    if (score > dimDef.cap) {\n      (_b = (_a = __privateGet(this, _options)).onLogMessage) == null ? void 0 : _b.call(_a, [\"debug\", 110, { dim, score, cap: dimDef.cap }]);\n      scores[dim] = dimDef.cap;\n    }\n  }\n};\n_defaultData = new WeakSet();\ndefaultData_fn = function() {\n  var _a, _b, _c;\n  return {\n    ...emptyVisitorData(),\n    consent: (_a = __privateGet(this, _options).defaultConsent) != null ? _a : false,\n    controlGroup: (_c = (_b = __privateGet(this, _options).manifest) == null ? void 0 : _b.rollForControlGroup()) != null ? _c : false\n  };\n};\n\n// src/Context.ts\nimport { dequal as dequal4 } from \"dequal/lite\";\nimport mitt3 from \"mitt\";\nvar _serverTransitionState, _scores, _state, _pzCache, _mitt3, _emitTest, emitTest_fn, _updateComputedScores, updateComputedScores_fn, _calculateScores, calculateScores_fn;\nvar Context = class {\n  constructor(options) {\n    __privateAdd(this, _emitTest);\n    __privateAdd(this, _updateComputedScores);\n    __privateAdd(this, _calculateScores);\n    __publicField(this, \"manifest\");\n    __privateAdd(this, _serverTransitionState, void 0);\n    __privateAdd(this, _scores, {});\n    __privateAdd(this, _state, void 0);\n    __privateAdd(this, _pzCache, {});\n    __privateAdd(this, _mitt3, mitt3());\n    __publicField(this, \"events\", {\n      on: __privateGet(this, _mitt3).on,\n      off: __privateGet(this, _mitt3).off\n    });\n    __publicField(this, \"storage\");\n    var _a, _b;\n    const { manifest, ...storageOptions } = options;\n    __privateSet(this, _state, {});\n    (_a = options.plugins) == null ? void 0 : _a.forEach((plugin) => {\n      if (!plugin.logDrain) {\n        return;\n      }\n      __privateGet(this, _mitt3).on(\"log\", plugin.logDrain);\n    });\n    __privateGet(this, _mitt3).emit(\"log\", [\"info\", 1, \"GROUP\"]);\n    try {\n      this.manifest = new ManifestInstance({\n        onLogMessage: (message) => __privateGet(this, _mitt3).emit(\"log\", message),\n        manifest,\n        evaluator: new GroupCriteriaEvaluator({\n          CK: cookieEvaluator,\n          QS: queryStringEvaluator,\n          QK: quirkEvaluator,\n          PVC: pageViewCountEvaluator,\n          EVT: eventEvaluator,\n          PV: currentPageEvaluator\n        })\n      });\n      this.storage = new VisitorDataStore({\n        ...storageOptions,\n        manifest: this.manifest,\n        onServerTransitionReceived: (state) => {\n          __privateSet(this, _serverTransitionState, state);\n          if (state.ssv) {\n            __privateSet(this, _scores, state.ssv);\n            __privateGet(this, _mitt3).emit(\"log\", [\"debug\", 130, state]);\n          }\n        },\n        onLogMessage: (message) => __privateGet(this, _mitt3).emit(\"log\", message)\n      });\n      this.storage.events.on(\"scoresUpdated\", __privateMethod(this, _updateComputedScores, updateComputedScores_fn).bind(this));\n      if (!__privateGet(this, _serverTransitionState)) {\n        __privateMethod(this, _updateComputedScores, updateComputedScores_fn).call(this, this.storage.data);\n      }\n      this.storage.events.on(\"quirksUpdated\", (quirks) => {\n        const updates = this.manifest.computeSignals({\n          scores: __privateGet(this, _scores),\n          state: __privateGet(this, _state),\n          previousState: __privateGet(this, _state),\n          visitor: this.storage.data\n        });\n        this.storage.updateData(updates);\n        __privateGet(this, _mitt3).emit(\"quirksUpdated\", quirks.quirks);\n        __privateGet(this, _mitt3).emit(\"log\", [\"info\", 4, quirks.quirks]);\n      });\n      (_b = options.plugins) == null ? void 0 : _b.forEach((plugin) => {\n        if (!plugin.init) {\n          return;\n        }\n        plugin.init(this);\n      });\n    } finally {\n      __privateGet(this, _mitt3).emit(\"log\", [\"info\", 1, \"ENDGROUP\"]);\n    }\n  }\n  get scores() {\n    return __privateGet(this, _scores);\n  }\n  get quirks() {\n    var _a, _b;\n    return (_b = (_a = __privateGet(this, _serverTransitionState)) == null ? void 0 : _a.quirks) != null ? _b : this.storage.data.quirks;\n  }\n  async update(newData) {\n    var _a, _b, _c;\n    const commands = [];\n    const newServerSideTests = {};\n    if ((_a = __privateGet(this, _serverTransitionState)) == null ? void 0 : _a.quirks) {\n      newData = {\n        ...newData,\n        quirks: {\n          ...__privateGet(this, _serverTransitionState).quirks,\n          ...newData.quirks || {}\n        }\n      };\n    }\n    if ((_b = __privateGet(this, _serverTransitionState)) == null ? void 0 : _b.tests) {\n      const testEntries = Object.entries(__privateGet(this, _serverTransitionState).tests);\n      if (testEntries.length > 0) {\n        const validTests = [];\n        testEntries.forEach(([testName, testVariantId]) => {\n          if (!this.storage.data.tests[testName]) {\n            validTests.push([testName, testVariantId]);\n            newServerSideTests[testName] = testVariantId;\n          }\n        });\n        commands.push(\n          ...validTests.map(([key, value]) => ({\n            type: \"settest\",\n            data: { test: key, variant: value }\n          }))\n        );\n      }\n    }\n    try {\n      __privateGet(this, _mitt3).emit(\"log\", [\n        \"info\",\n        2,\n        \"GROUP\",\n        {\n          ...newData,\n          url: (_c = newData.url) == null ? void 0 : _c.toString()\n        }\n      ]);\n      if (newData.quirks) {\n        commands.push(\n          ...Object.entries(newData.quirks).map(([key, value]) => ({\n            type: \"setquirk\",\n            data: { key, value }\n          }))\n        );\n      }\n      if (newData.enrichments) {\n        newData.enrichments.forEach((enrichment) => {\n          const dimension = getEnrichmentVectorKey(enrichment.cat, enrichment.key);\n          const dimData = this.manifest.getDimensionByKey(dimension);\n          if (dimData) {\n            commands.push({\n              type: \"modscore\",\n              data: {\n                dimension,\n                delta: enrichment.str\n              }\n            });\n          } else {\n            __privateGet(this, _mitt3).emit(\"log\", [\"warn\", 5, enrichment]);\n          }\n        });\n      }\n      commands.push(\n        ...this.manifest.computeSignals({\n          state: newData,\n          previousState: __privateGet(this, _state),\n          visitor: this.storage.data,\n          scores: __privateGet(this, _serverTransitionState) ? __privateMethod(this, _calculateScores, calculateScores_fn).call(this, this.storage.data) : __privateGet(this, _scores)\n        })\n      );\n      __privateSet(this, _state, {\n        ...__privateGet(this, _state),\n        ...newData\n      });\n      await this.storage.updateData(commands);\n      if (__privateGet(this, _serverTransitionState)) {\n        __privateMethod(this, _updateComputedScores, updateComputedScores_fn).call(this, this.storage.data);\n        Object.entries(newServerSideTests).forEach(([testName, testVariantId]) => {\n          __privateMethod(this, _emitTest, emitTest_fn).call(this, {\n            name: testName,\n            variantId: testVariantId,\n            variantAssigned: true\n          });\n        });\n        __privateSet(this, _serverTransitionState, void 0);\n        __privateGet(this, _mitt3).emit(\"log\", [\"debug\", 131]);\n      }\n    } finally {\n      __privateGet(this, _mitt3).emit(\"log\", [\"info\", 2, \"ENDGROUP\"]);\n    }\n  }\n  getTestVariantId(testName) {\n    var _a, _b, _c, _d;\n    const definition = this.manifest.getTest(testName);\n    if (!definition) {\n      __privateGet(this, _mitt3).emit(\"log\", [\"warn\", 401, testName]);\n      return null;\n    }\n    return (_d = (_c = definition.wv) != null ? _c : (_b = (_a = __privateGet(this, _serverTransitionState)) == null ? void 0 : _a.tests) == null ? void 0 : _b[testName]) != null ? _d : this.storage.data.tests[testName];\n  }\n  setTestVariantId(testName, variantId) {\n    this.storage.updateData([\n      {\n        type: \"settest\",\n        data: {\n          test: testName,\n          variant: variantId\n        }\n      }\n    ]);\n  }\n  log(...message) {\n    __privateGet(this, _mitt3).emit(\"log\", message);\n  }\n  test(options) {\n    var _a, _b;\n    const value = testVariations({\n      ...options,\n      context: this,\n      onLogMessage: (message) => __privateGet(this, _mitt3).emit(\"log\", message)\n    });\n    __privateMethod(this, _emitTest, emitTest_fn).call(this, {\n      name: options.name,\n      variantId: (_b = (_a = value.result) == null ? void 0 : _a.id) != null ? _b : void 0,\n      variantAssigned: value.variantAssigned\n    });\n    return value;\n  }\n  personalize(options) {\n    const value = personalizeVariations({\n      ...options,\n      context: this,\n      onLogMessage: (message) => __privateGet(this, _mitt3).emit(\"log\", message)\n    });\n    const previousPlacement = __privateGet(this, _pzCache)[options.name];\n    const eventData = {\n      name: options.name,\n      variantIds: value.variations.map((variation) => {\n        var _a;\n        return (_a = variation.id) != null ? _a : \"Unknown\";\n      }),\n      control: this.storage.data.controlGroup,\n      changed: true\n    };\n    if (previousPlacement && dequal4(eventData.variantIds, previousPlacement)) {\n      eventData.changed = false;\n    }\n    __privateGet(this, _mitt3).emit(\"personalizationResult\", eventData);\n    __privateGet(this, _pzCache)[options.name] = eventData.variantIds;\n    return value;\n  }\n  async forget(fromAllDevices) {\n    __privateSet(this, _state, {});\n    await this.storage.delete(fromAllDevices);\n  }\n  getServerToClientTransitionState() {\n    const transitionState = {\n      quirks: this.storage.data.quirks,\n      ssv: __privateGet(this, _scores),\n      tests: {}\n    };\n    const allTests = this.storage.data.tests;\n    Object.entries(allTests).map(([testName, testValue]) => {\n      var _a, _b, _c;\n      if (((_c = (_b = (_a = this.storage.options.transitionStore) == null ? void 0 : _a.initialData) == null ? void 0 : _b.tests) == null ? void 0 : _c[testName]) !== allTests[testName] && transitionState.tests) {\n        transitionState.tests[testName] = testValue;\n      }\n    });\n    return transitionState;\n  }\n};\n_serverTransitionState = new WeakMap();\n_scores = new WeakMap();\n_state = new WeakMap();\n_pzCache = new WeakMap();\n_mitt3 = new WeakMap();\n_emitTest = new WeakSet();\nemitTest_fn = function(event) {\n  __privateGet(this, _mitt3).emit(\"testResult\", event);\n};\n_updateComputedScores = new WeakSet();\nupdateComputedScores_fn = function(newData) {\n  const newScores = __privateMethod(this, _calculateScores, calculateScores_fn).call(this, newData);\n  const newScoresHaveChanged = !dequal4(newScores, __privateGet(this, _scores));\n  if (newScoresHaveChanged) {\n    __privateSet(this, _scores, newScores);\n    __privateGet(this, _mitt3).emit(\"scoresUpdated\", newScores);\n    __privateGet(this, _mitt3).emit(\"log\", [\"info\", 3, newScores]);\n  }\n};\n_calculateScores = new WeakSet();\ncalculateScores_fn = function(newData) {\n  var _a;\n  let newScores = { ...newData.scores };\n  for (const session in newData.sessionScores) {\n    newScores[session] = ((_a = newScores[session]) != null ? _a : 0) + newData.sessionScores[session];\n  }\n  newScores = this.manifest.computeAggregateDimensions(newScores);\n  return newScores;\n};\n\n// src/devTools/enableContextDevTools.ts\nvar isBrowser = typeof top !== \"undefined\";\nfunction enableContextDevTools() {\n  return {\n    logDrain: (message) => {\n      if (!isBrowser) {\n        return;\n      }\n      top == null ? void 0 : top.postMessage(\n        {\n          type: \"uniform:context:log\",\n          message\n        },\n        window.location.origin\n      );\n    },\n    init: (context) => {\n      const personalizations = [];\n      const tests = [];\n      const onContextDataUpdated = () => {\n        if (!isBrowser) {\n          return;\n        }\n        top == null ? void 0 : top.postMessage(\n          {\n            type: \"uniform:context:data\",\n            data: {\n              scores: context.scores,\n              data: context.storage.data,\n              manifest: context.manifest.data,\n              personalizations,\n              tests\n            }\n          },\n          window.location.origin\n        );\n      };\n      const onPersonalizationResult = (e) => {\n        if (!e.changed)\n          return;\n        personalizations.push(e);\n      };\n      const onTestResult = (e) => {\n        if (!e.variantAssigned)\n          return;\n        tests.push(e);\n      };\n      if (isBrowser) {\n        window.__UNIFORM_DEVTOOLS_CONTEXT_INSTANCE__ = context;\n        try {\n          top == null ? void 0 : top.addEventListener(\"message\", async (event) => {\n            if (!event.data) {\n              return;\n            }\n            const message = event.data;\n            await handleMessageFromDevTools(message, context);\n          });\n        } catch (e) {\n          console.warn(\n            \"Unable to initialize Uniform Context DevTools because it is in a cross-domain iframe.\",\n            e\n          );\n        }\n        top == null ? void 0 : top.postMessage(\n          {\n            type: \"uniform:context:hello\",\n            uiVersion: 2\n          },\n          window.location.origin\n        );\n        onContextDataUpdated();\n      }\n      context.events.on(\"personalizationResult\", onPersonalizationResult);\n      context.events.on(\"testResult\", onTestResult);\n      context.events.on(\"scoresUpdated\", onContextDataUpdated);\n      context.storage.events.on(\"*\", onContextDataUpdated);\n      return () => {\n        context.events.off(\"scoresUpdated\", onContextDataUpdated);\n        context.storage.events.off(\"*\", onContextDataUpdated);\n        context.events.off(\"personalizationResult\", onPersonalizationResult);\n        context.events.off(\"testResult\", onTestResult);\n      };\n    }\n  };\n}\nasync function handleMessageFromDevTools(message, context) {\n  if (message.type === \"uniform-in:context:update\" && message.newData) {\n    await context.update(message.newData);\n  }\n  if (message.type === \"uniform-in:context:commands\" && message.commands && Array.isArray(message.commands)) {\n    await context.storage.updateData(message.commands);\n  }\n  if (message.type === \"uniform-in:context:forget\") {\n    await context.forget(false);\n  }\n}\n\n// src/edge/index.ts\nvar ScriptType = /* @__PURE__ */ ((ScriptType2) => {\n  ScriptType2[\"ListStart\"] = \"nesi-list-start\";\n  ScriptType2[\"ListEnd\"] = \"nesi-list-end\";\n  ScriptType2[\"ListItem\"] = \"nesi-list-item-html\";\n  ScriptType2[\"ListItemSettings\"] = \"nesi-list-item-settings\";\n  ScriptType2[\"TestStart\"] = \"nesi-test-start\";\n  ScriptType2[\"TestEnd\"] = \"nesi-test-end\";\n  ScriptType2[\"Unknown\"] = \"unknown\";\n  return ScriptType2;\n})(ScriptType || {});\nvar EdgeNodeTagName = \"nesitag\";\n\n// src/logging/enableConsoleLogDrain.ts\nimport rfdc2 from \"rfdc\";\n\n// src/logging/isEnabled.ts\nfunction isEnabled(level, severity) {\n  if (level === \"none\") {\n    return false;\n  }\n  switch (severity) {\n    case \"debug\":\n      return level === \"debug\";\n    case \"info\":\n      return level === \"info\" || level === \"debug\";\n    case \"warn\":\n      return level === \"warn\" || level === \"info\" || level === \"debug\";\n    case \"error\":\n      return level === \"debug\" || \"info\";\n    default:\n      return false;\n  }\n}\n\n// src/logging/enableConsoleLogDrain.ts\nvar dc = rfdc2();\nfunction createConsoleLogDrain(level) {\n  return ([severity, ...other]) => {\n    if (!isEnabled(level, severity)) {\n      return;\n    }\n    const [id, ...params] = other;\n    console[severity](`\\u{1F94B} [${severity}] Uniform event ID ${id}\n`, ...params.map(dc));\n  };\n}\nfunction enableConsoleLogDrain(level) {\n  const consoleLogDrain = createConsoleLogDrain(level);\n  return {\n    logDrain: consoleLogDrain\n  };\n}\n\n// src/logging/enableDebugConsoleLogDrain.ts\nimport rfdc3 from \"rfdc\";\n\n// src/logging/messageContent.ts\nvar messageContent = {\n  1: () => [\"context\", \"initializing Uniform Context\"],\n  2: (update) => [\"context\", \"received update()\", update],\n  3: (scores) => [\"context\", \"new score vector\", scores],\n  4: (quirks) => [\"context\", \"updated quirks\", quirks],\n  5: (enrichment) => [\"context\", \"ignored enrichment update for unknown enrichment category\", enrichment.cat],\n  101: (commands) => [\"storage\", \"received update commands\", commands],\n  102: (data) => [\"storage\", \"data was updated\", data],\n  103: (fromAllDevices) => [\n    \"storage\",\n    `deleting visitor data ${fromAllDevices ? \"from all devices\" : \"from this device\"}`\n  ],\n  104: (isControl) => [\n    \"context\",\n    isControl ? \"Visitor assigned to personalization control group\" : \"Visitor assigned to personalization experiment group\"\n  ],\n  110: ({ dim, cap, score }) => [\"storage\", `${dim} score ${score} exceeded cap ${cap}. Rounded down.`],\n  120: () => [\"storage\", \"visitor data expired and was cleared\"],\n  130: (data) => [\n    \"storage\",\n    \"server to client transition score data was loaded; it will persist until the next update event occurs\",\n    data\n  ],\n  131: () => [\"storage\", \"server to client transition data was discarded\"],\n  140: (decayMessage) => [\"storage\", `score decay was applied: ${decayMessage}`],\n  200: () => [\"signals\", \"evaluating signals\"],\n  201: (signal) => [\"signals\", `evaluating signal ${signal.id} (${signal.dur})`],\n  202: (group) => [\"signals\", group.op === \"|\" ? \"OR\" : \"AND\"],\n  203: ({ criteria, result, explanation }) => [\n    \"signals\",\n    `${criteria.type}: ${explanation} is ${result.result} [${result.changed ? \"CHANGED\" : \"unchanged\"}]`\n  ],\n  204: (result) => [\n    \"signals\",\n    `group result: ${result.result} [${result.changed ? \"CHANGED\" : \"unchanged\"}]`\n  ],\n  300: (placement) => [\"personalization\", `executing personalization '${placement.name}'`],\n  301: ({ id, op }) => [\"personalization\", `testing variation ${id} (${op === \"|\" ? \"OR\" : \"AND\"})`],\n  302: ({ matched, description }) => [\"personalization\", `${description} is ${matched}`],\n  303: (selected) => [\"personalization\", selected ? \"selected variation\" : \"did not select variation\"],\n  400: (name) => [\"testing\", `executing A/B test '${name}'`],\n  401: (testName) => [\"testing\", `${testName} is not registered in the manifest; it will not be run.`],\n  402: ({ missingVariant, variants }) => [\n    \"testing\",\n    `test variation '${missingVariant}' previously assigned to the visitor for this test no longer exists as a variant. It will be removed. This may indicate changing test variations after publishing a test, which will make results invalid. Known variants: ${variants.join(\n      \", \"\n    )}`\n  ],\n  403: (variant) => [\"testing\", `assigned new test variant '${variant}'`],\n  404: (variant) => [\"testing\", `displaying variation '${variant}'`],\n  700: () => [\n    \"gtag\",\n    \"gtag is not defined, skipping analytics event emission. Ensure you have added the gtag script to your page.\"\n  ],\n  701: () => [\"gtag\", \"enabled gtag event signal redirection\"]\n};\n\n// src/logging/enableDebugConsoleLogDrain.ts\nvar dc2 = rfdc3();\nfunction createDebugConsoleLogDrain(level, options) {\n  const isServer = typeof document === \"undefined\";\n  const { enableOnServer = false } = options != null ? options : {};\n  return ([severity, ...other]) => {\n    if (!isEnabled(level, severity) || isServer && !enableOnServer) {\n      return;\n    }\n    const [id, ...params] = other;\n    let consoleFunc = console[severity];\n    if (params[0] === \"GROUP\") {\n      params.shift();\n      consoleFunc = console.groupCollapsed;\n    }\n    if (params[0] === \"ENDGROUP\") {\n      console.groupEnd();\n      return;\n    }\n    const messageFunc = messageContent[id];\n    let icon = \"\";\n    switch (severity) {\n      case \"debug\":\n        icon = \"\\u{1F41E}\";\n        break;\n      case \"info\":\n        icon = \"\\u{1F4AC}\";\n        break;\n      case \"warn\":\n        icon = \"\\u26A0\\uFE0F\";\n        break;\n      case \"error\":\n        icon = \"\\u{1F4A5}\";\n        break;\n    }\n    const messagePrefix = icon;\n    if (!messageFunc) {\n      consoleFunc(\n        `${messagePrefix} unknown event ID ${id}. Log messages data may be older than Uniform Context package.`,\n        ...params\n      );\n      return;\n    }\n    const [category, messageBody, ...outParams] = messageFunc(...params);\n    consoleFunc(`${messagePrefix}[${category}] ${messageBody}\n`, ...outParams.map(dc2));\n  };\n}\nfunction enableDebugConsoleLogDrain(level, options) {\n  const debugConsoleLogDrain = createDebugConsoleLogDrain(level, options);\n  return { logDrain: debugConsoleLogDrain };\n}\n\n// src/quickconnect/quickconnect.ts\nfunction serializeQuickConnect(config) {\n  return `${config.apiKey}|${config.projectId}${config.apiHost ? `|${config.apiHost}` : \"\"}`;\n}\nfunction parseQuickConnect(serialized) {\n  const [apiKey, projectId, apiHost] = serialized.split(\"|\");\n  if (!apiKey.startsWith(\"uf\")) {\n    throw new Error(\"Invalid API key\");\n  }\n  if (!/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12})$/i.test(projectId)) {\n    throw new Error(\"Invalid project ID\");\n  }\n  return {\n    apiKey,\n    projectId,\n    apiHost: apiHost || \"https://uniform.app\"\n  };\n}\nexport {\n  Context,\n  CookieTransitionDataStore,\n  EdgeNodeTagName,\n  EdgeTransitionDataStore,\n  GroupCriteriaEvaluator,\n  ManifestInstance,\n  SERVER_STATE_ID,\n  ScriptType,\n  TransitionDataStore,\n  UNIFORM_DEFAULT_COOKIE_NAME,\n  VisitorDataStore,\n  computeAggregateDimensions,\n  cookieEvaluator,\n  createConsoleLogDrain,\n  createDebugConsoleLogDrain,\n  createLinearDecay,\n  currentPageEvaluator,\n  emptyVisitorData,\n  enableConsoleLogDrain,\n  enableContextDevTools,\n  enableDebugConsoleLogDrain,\n  evaluateVariantMatch,\n  eventEvaluator,\n  explainStringMatch,\n  explainStringMatchCriteria,\n  getEnrichmentVectorKey,\n  isStringMatch,\n  pageViewCountDimension,\n  pageViewCountEvaluator,\n  parseQuickConnect,\n  personalizeVariations,\n  queryStringEvaluator,\n  quirkEvaluator,\n  serializeQuickConnect,\n  testVariations\n};\n","// src/hooks/useQuirks.ts\nimport { useEffect, useState } from \"react\";\nfunction useQuirks() {\n  const { context } = useUniformContext();\n  const [quirks, setQuirks] = useState(context.quirks);\n  const quirkChangeListener = (updatedQuirks) => {\n    setQuirks(updatedQuirks);\n  };\n  useEffect(() => {\n    context.events.on(\"quirksUpdated\", quirkChangeListener);\n    return () => {\n      context.events.off(\"quirksUpdated\", quirkChangeListener);\n    };\n  }, [context]);\n  return quirks;\n}\n\n// src/hooks/useScores.ts\nimport { dequal } from \"dequal/lite\";\nimport { useEffect as useEffect2, useState as useState2 } from \"react\";\nfunction useScores() {\n  const { context } = useUniformContext();\n  const [scores, setScores] = useState2(context.scores);\n  useEffect2(() => {\n    const scoringChangeListener = (updatedScores) => {\n      setScores(updatedScores);\n    };\n    const currentScores = context.scores;\n    if (!dequal(scores, currentScores)) {\n      setScores(currentScores);\n    }\n    context.events.on(\"scoresUpdated\", scoringChangeListener);\n    return () => {\n      context.events.off(\"scoresUpdated\", scoringChangeListener);\n    };\n  }, [context]);\n  return scores;\n}\n\n// src/hooks/useUniformContext.ts\nimport { useContext } from \"react\";\n\n// src/contexts.tsx\nimport { createContext } from \"react\";\nvar UniformContextContext = createContext(void 0);\nvar PersonalizationContext = createContext({});\n\n// src/hooks/useUniformContext.ts\nfunction useUniformContext(options = {}) {\n  const { throwOnMissingProvider = true } = options;\n  const value = useContext(UniformContextContext);\n  if (throwOnMissingProvider) {\n    if (value === void 0) {\n      throw new Error(\"useUniformContext must be used within a <UniformContext> provider\");\n    }\n    return value;\n  }\n  return value;\n}\n\n// src/components/Personalize.tsx\nimport React3 from \"react\";\n\n// src/constants.ts\nvar isServer = typeof window === \"undefined\";\n\n// src/components/PersonalizeEdge.tsx\nimport { ScriptType } from \"@uniformdev/context\";\nimport React, { Fragment } from \"react\";\n\n// src/components/EdgeTag.tsx\nimport { EdgeNodeTagName } from \"@uniformdev/context\";\nimport { createElement } from \"react\";\nvar EdgeTag = (props) => {\n  return createElement(EdgeNodeTagName, props);\n};\n\n// src/components/PersonalizeEdge.tsx\nfunction PersonalizeEdge(props) {\n  const { variations, count, component } = props;\n  const options = {\n    name: props.name,\n    count: count != null ? count : 1\n  };\n  const Component = component;\n  return /* @__PURE__ */ React.createElement(React.Fragment, null, /* @__PURE__ */ React.createElement(\n    EdgeTag,\n    {\n      \"data-type\": ScriptType.ListStart,\n      dangerouslySetInnerHTML: { __html: JSON.stringify(options) }\n    }\n  ), variations.map((variant) => /* @__PURE__ */ React.createElement(Fragment, { key: variant.id }, /* @__PURE__ */ React.createElement(\n    EdgeTag,\n    {\n      \"data-type\": ScriptType.ListItemSettings,\n      dangerouslySetInnerHTML: {\n        __html: JSON.stringify({\n          id: variant.id,\n          pz: variant.pz || null\n        })\n      }\n    }\n  ), /* @__PURE__ */ React.createElement(EdgeTag, { \"data-type\": ScriptType.ListItem }, /* @__PURE__ */ React.createElement(\n    Component,\n    {\n      key: variant.id,\n      personalizationResult: { variation: variant, personalizationOccurred: false },\n      ...variant\n    }\n  )))), /* @__PURE__ */ React.createElement(EdgeTag, { \"data-type\": ScriptType.ListEnd }));\n}\n\n// src/components/PersonalizeStandard.tsx\nimport React2, { useMemo } from \"react\";\nfunction PersonalizeStandard({\n  variations,\n  component,\n  wrapperComponent,\n  name,\n  count = 1\n}) {\n  const { context } = useUniformContext();\n  const scores = useScores();\n  const { variations: personalizedVariations, personalized: personalizationOccurred } = useMemo(\n    () => context.personalize({\n      name,\n      variations,\n      take: count\n    }),\n    [scores, context, count, name, variations]\n  );\n  const Wrapper = wrapperComponent != null ? wrapperComponent : ({ children }) => /* @__PURE__ */ React2.createElement(React2.Fragment, null, children);\n  const Component = component;\n  return /* @__PURE__ */ React2.createElement(PersonalizationContext.Provider, { value: { personalized: true } }, personalizedVariations.length ? /* @__PURE__ */ React2.createElement(Wrapper, { personalizationOccurred }, personalizedVariations.map((variant) => /* @__PURE__ */ React2.createElement(\n    Component,\n    {\n      key: variant.id,\n      personalizationResult: { variation: variant, personalizationOccurred },\n      ...variant\n    }\n  ))) : null);\n}\n\n// src/components/Personalize.tsx\nfunction Personalize(props) {\n  var _a;\n  const { outputType } = (_a = useUniformContext({ throwOnMissingProvider: false })) != null ? _a : {};\n  if (!outputType) {\n    throw new Error(\n      \"Using the <Personalize /> component requires the <UniformContext> provider to be present.\"\n    );\n  }\n  if (!isServer || outputType === \"standard\") {\n    return /* @__PURE__ */ React3.createElement(PersonalizeStandard, { ...props });\n  } else if (outputType === \"edge\") {\n    return /* @__PURE__ */ React3.createElement(PersonalizeEdge, { ...props });\n  }\n  return null;\n}\n\n// src/components/Test.tsx\nimport React6 from \"react\";\n\n// src/components/TestEdge.tsx\nimport { ScriptType as ScriptType2 } from \"@uniformdev/context\";\nimport React4, { Fragment as Fragment2 } from \"react\";\nfunction TestEdge(props) {\n  const { name, variations, component } = props;\n  const options = {\n    name\n  };\n  const Component = component;\n  return /* @__PURE__ */ React4.createElement(React4.Fragment, null, /* @__PURE__ */ React4.createElement(\n    EdgeTag,\n    {\n      \"data-type\": ScriptType2.TestStart,\n      dangerouslySetInnerHTML: { __html: JSON.stringify(options) }\n    }\n  ), variations.map((variation, index) => {\n    return /* @__PURE__ */ React4.createElement(Fragment2, { key: variation.id }, /* @__PURE__ */ React4.createElement(\n      EdgeTag,\n      {\n        \"data-type\": ScriptType2.ListItemSettings,\n        dangerouslySetInnerHTML: {\n          __html: JSON.stringify({\n            id: variation.id\n          })\n        }\n      }\n    ), /* @__PURE__ */ React4.createElement(EdgeTag, { \"data-type\": ScriptType2.ListItem }, /* @__PURE__ */ React4.createElement(Component, { key: index, ...variation })));\n  }), /* @__PURE__ */ React4.createElement(EdgeTag, { \"data-type\": ScriptType2.TestEnd }));\n}\n\n// src/components/TestStandard.tsx\nimport React5 from \"react\";\nvar TestStandard = ({\n  name,\n  variations,\n  component\n}) => {\n  const { context } = useUniformContext();\n  const { result } = context.test({\n    name,\n    variations\n  });\n  if (!result) {\n    return null;\n  }\n  const Component = component;\n  return /* @__PURE__ */ React5.createElement(Component, { ...result });\n};\n\n// src/components/Test.tsx\nvar Test = (props) => {\n  var _a;\n  const { outputType } = (_a = useUniformContext({ throwOnMissingProvider: false })) != null ? _a : {};\n  if (!outputType) {\n    throw new Error(\"Using the <Test /> component requires the <UniformContext> provider to be present.\");\n  }\n  if (!isServer || outputType === \"standard\") {\n    return /* @__PURE__ */ React6.createElement(TestStandard, { ...props });\n  } else if (outputType === \"edge\") {\n    return /* @__PURE__ */ React6.createElement(TestEdge, { ...props });\n  }\n  return null;\n};\n\n// src/components/Track.tsx\nimport { createElement as createElement2, useEffect as useEffect3, useRef, useState as useState3 } from \"react\";\n\n// src/hooks/useIsPersonalized.ts\nimport { useContext as useContext2 } from \"react\";\nvar useIsPersonalized = (options) => {\n  const { personalized } = useContext2(PersonalizationContext);\n  if (typeof personalized !== \"undefined\") {\n    return personalized;\n  }\n  if (typeof (options == null ? void 0 : options.personalized) !== \"undefined\") {\n    return options.personalized;\n  }\n  return false;\n};\n\n// src/components/Track.tsx\nvar Track = ({\n  behavior,\n  children,\n  tagName = \"div\",\n  threshold = 0.5,\n  disableVisibilityTrigger = typeof window === \"undefined\" || !(\"IntersectionObserver\" in window),\n  ...rest\n}) => {\n  const currentUrl = typeof document === \"undefined\" ? \"__uniform_ssr_url\" : document.location.href;\n  const { context } = useUniformContext();\n  const insidePersonalizeComponent = useIsPersonalized();\n  const [lastUrl, setLastUrl] = useState3();\n  const [hasTracked, setHasTracked] = useState3(false);\n  const wrapperEl = useRef(null);\n  const disconnect = useRef();\n  useEffect3(() => {\n    const urlHasChanged = lastUrl !== currentUrl;\n    if (urlHasChanged) {\n      setHasTracked(false);\n      setLastUrl(currentUrl);\n    }\n  }, [currentUrl, lastUrl]);\n  useEffect3(() => {\n    var _a;\n    const hasNoBehaviorValue = !behavior || Array.isArray(behavior) && !behavior.length;\n    const cannotTrack = insidePersonalizeComponent || hasNoBehaviorValue;\n    if (cannotTrack || !wrapperEl.current)\n      return;\n    const enrichments = Array.isArray(behavior) ? behavior : [behavior];\n    const pushBehaviorEnrichment = () => {\n      var _a2;\n      if (hasTracked) {\n        return;\n      }\n      context.update({\n        enrichments\n      });\n      setHasTracked(true);\n      (_a2 = disconnect.current) == null ? void 0 : _a2.call(disconnect);\n    };\n    if (disableVisibilityTrigger) {\n      pushBehaviorEnrichment();\n    } else {\n      (_a = disconnect.current) == null ? void 0 : _a.call(disconnect);\n      const instance = new IntersectionObserver(\n        ([entry]) => {\n          if (entry.isIntersecting) {\n            pushBehaviorEnrichment();\n          }\n        },\n        {\n          threshold\n        }\n      );\n      instance.observe(wrapperEl.current);\n      disconnect.current = () => {\n        var _a2;\n        return (_a2 = instance.disconnect) == null ? void 0 : _a2.call(instance);\n      };\n    }\n    return () => {\n      var _a2;\n      (_a2 = disconnect.current) == null ? void 0 : _a2.call(disconnect);\n    };\n  }, [\n    context,\n    behavior,\n    disableVisibilityTrigger,\n    threshold,\n    insidePersonalizeComponent,\n    lastUrl,\n    currentUrl,\n    hasTracked\n  ]);\n  const element = createElement2(tagName, { ...rest, ref: wrapperEl }, children);\n  return element;\n};\n\n// src/components/TrackFragment.tsx\nimport React7 from \"react\";\nimport { useEffect as useEffect4, useState as useState4 } from \"react\";\nvar TrackFragment = ({ behavior, children }) => {\n  const currentUrl = typeof document === \"undefined\" ? \"__uniform_ssr_url\" : document.location.href;\n  const { context } = useUniformContext();\n  const insidePersonalizeComponent = useIsPersonalized();\n  const [lastUrl, setLastUrl] = useState4();\n  const [hasTracked, setHasTracked] = useState4(false);\n  useEffect4(() => {\n    const urlHasChanged = lastUrl !== currentUrl;\n    if (urlHasChanged) {\n      setHasTracked(false);\n      setLastUrl(currentUrl);\n    }\n  }, [currentUrl, lastUrl]);\n  useEffect4(() => {\n    const hasNoBehaviorValue = !behavior || Array.isArray(behavior) && !behavior.length;\n    const cannotTrack = insidePersonalizeComponent || hasNoBehaviorValue;\n    if (cannotTrack)\n      return;\n    const pushBehaviorEnrichment = () => {\n      if (hasTracked) {\n        return;\n      }\n      const enrichments = Array.isArray(behavior) ? behavior : [behavior];\n      context.update({\n        enrichments\n      });\n      setHasTracked(true);\n    };\n    pushBehaviorEnrichment();\n  }, [context, behavior, insidePersonalizeComponent, hasTracked]);\n  return /* @__PURE__ */ React7.createElement(React7.Fragment, null, children);\n};\n\n// src/components/UniformContext.tsx\nimport { SERVER_STATE_ID } from \"@uniformdev/context\";\nimport cookie from \"cookie\";\nimport React8, { useEffect as useEffect5 } from \"react\";\nvar UniformContext = ({\n  context,\n  children,\n  outputType = \"standard\",\n  trackRouteOnRender = true\n}) => {\n  useEffect5(() => {\n    if (isServer || !trackRouteOnRender) {\n      return;\n    }\n    context.update({\n      url: new URL(window.location.href),\n      cookies: cookie.parse(document.cookie)\n    });\n  });\n  return /* @__PURE__ */ React8.createElement(UniformContextContext.Provider, { value: { context, outputType } }, children, isServer ? /* @__PURE__ */ React8.createElement(TransferState, null) : null);\n};\nfunction TransferState() {\n  const { context } = useUniformContext();\n  const transferState = context.getServerToClientTransitionState();\n  return /* @__PURE__ */ React8.createElement(\n    \"script\",\n    {\n      id: SERVER_STATE_ID,\n      type: \"application/json\",\n      dangerouslySetInnerHTML: {\n        __html: JSON.stringify(transferState)\n      }\n    }\n  );\n}\nexport {\n  Personalize,\n  Test,\n  Track,\n  TrackFragment,\n  UniformContext,\n  useQuirks,\n  useScores,\n  useUniformContext\n};\n","// src/components/DefaultNotImplementedComponent.tsx\nimport { CANVAS_LOCALIZATION_TYPE } from \"@uniformdev/canvas\";\nimport React from \"react\";\nvar wrapperStyles = {\n  borderLeft: \"4px solid #e42535\",\n  padding: \"16px\",\n  fontSize: \"16px\",\n  borderRadius: \"0 8px 8px 0\",\n  margin: \"8px\",\n  backgroundColor: \"rgba(255, 255, 255, 0.45)\",\n  color: \"#1d3557\"\n};\nfunction DefaultNotImplementedComponent(props) {\n  var _a;\n  const componentType = (_a = props.component) == null ? void 0 : _a.type;\n  if (!componentType) {\n    return null;\n  }\n  if (componentType === CANVAS_LOCALIZATION_TYPE) {\n    return /* @__PURE__ */ React.createElement(\"div\", { style: wrapperStyles }, /* @__PURE__ */ React.createElement(\"p\", null, \"Seems like localization is not enabled in your application. Please read our documentation on how to\", \" \", /* @__PURE__ */ React.createElement(\n      \"a\",\n      {\n        href: \"https://docs.uniform.app/guides/composition/localization#activate-front-end\",\n        target: \"_blank\",\n        style: { fontWeight: \"bolder\", textDecoration: \"underline\" },\n        rel: \"noreferrer\"\n      },\n      \"enable localization in your front-end application.\"\n    )));\n  }\n  return /* @__PURE__ */ React.createElement(\"div\", { style: wrapperStyles }, /* @__PURE__ */ React.createElement(\"h2\", null, \"Component: \", /* @__PURE__ */ React.createElement(\"code\", null, componentType)), /* @__PURE__ */ React.createElement(\"p\", null, /* @__PURE__ */ React.createElement(\"code\", null, /* @__PURE__ */ React.createElement(\"strong\", null, componentType)), \" \", \"has no React implementation. It may need to be added to your \", /* @__PURE__ */ React.createElement(\"code\", null, \"resolveRenderer()\"), \" function.\"), /* @__PURE__ */ React.createElement(\"details\", null, /* @__PURE__ */ React.createElement(\"summary\", { style: { cursor: \"pointer\" } }, \"Props\"), /* @__PURE__ */ React.createElement(\"pre\", null, JSON.stringify(props, null, 2))));\n}\n\n// src/components/UniformComponent.tsx\nimport {\n  CANVAS_ENRICHMENT_TAG_PARAM\n} from \"@uniformdev/canvas\";\nimport { Track, TrackFragment, useUniformContext } from \"@uniformdev/context-react\";\nimport React4, { createContext, useContext } from \"react\";\n\n// src/convertComponentToProps.ts\nfunction convertComponentToProps(component) {\n  var _a;\n  const parameters = (_a = component.parameters) != null ? _a : {};\n  const renderComponentProps = {\n    ...Object.keys(parameters).reduce((acc, cur) => {\n      acc[cur] = parameters[cur].value;\n      return acc;\n    }, {}),\n    ...component.data,\n    component\n  };\n  return renderComponentProps;\n}\n\n// src/storeDefinition.ts\nvar NOT_IMPLEMENTED_COMPONENT = \"__not_implemented__\";\nvar getTypeWithVariant = (type, variantId) => `${type}${variantId ? `__${variantId}` : \"\"}`;\nvar createComponentStore = () => {\n  const components = /* @__PURE__ */ new Map();\n  components.set(NOT_IMPLEMENTED_COMPONENT, DefaultNotImplementedComponent);\n  return {\n    register: ({ type, component, variantId }) => {\n      components.set(getTypeWithVariant(type, variantId), component);\n    },\n    get: (type, variantId) => {\n      return components.get(getTypeWithVariant(type, variantId));\n    }\n  };\n};\nvar createComponentStoreResolver = ({ store, defaultComponent = DefaultNotImplementedComponent }) => {\n  return (component) => {\n    const resolved = store.get(getTypeWithVariant(component.type, component.variant));\n    return resolved || defaultComponent;\n  };\n};\n\n// src/store.ts\nvar componentStore = createComponentStore();\nvar registerUniformComponent = ({\n  type,\n  variantId,\n  component\n}) => {\n  componentStore.register({\n    type,\n    variantId,\n    component\n  });\n};\nvar componentStoreResolver = createComponentStoreResolver({\n  store: componentStore\n});\n\n// src/components/UniformSlot.tsx\nimport {\n  CANVAS_LOCALE_TAG_PARAM,\n  CANVAS_PERSONALIZE_TYPE,\n  CANVAS_TEST_TYPE,\n  IN_CONTEXT_EDITOR_COMPONENT_START_ROLE,\n  PLACEHOLDER_ID\n} from \"@uniformdev/canvas\";\nimport React3 from \"react\";\n\n// src/defaultSystemComponentResolver.tsx\nimport {\n  mapSlotToPersonalizedVariations,\n  mapSlotToTestVariations\n} from \"@uniformdev/canvas\";\nimport { Personalize, Test } from \"@uniformdev/context-react\";\nimport * as React2 from \"react\";\nvar defaultSystemComponentResolver = {\n  test: (component, key, renderChild) => {\n    var _a, _b, _c, _d, _e;\n    const testComponent = component;\n    const variants = (_b = (_a = testComponent.slots) == null ? void 0 : _a.test) != null ? _b : [];\n    const testName = (_e = (_d = (_c = testComponent.parameters) == null ? void 0 : _c.test) == null ? void 0 : _d.value) != null ? _e : \"Untitled Test\";\n    const finalVariants = mapSlotToTestVariations(variants);\n    return /* @__PURE__ */ React2.createElement(\n      Test,\n      {\n        key,\n        variations: finalVariants,\n        name: testName,\n        component: (variation) => renderChild(variation, key)\n      }\n    );\n  },\n  personalization: (component, key, renderChild) => {\n    var _a, _b, _c, _d, _e, _f, _g;\n    const pzComponent = component;\n    const processedVariants = mapSlotToPersonalizedVariations((_a = pzComponent == null ? void 0 : pzComponent.slots) == null ? void 0 : _a.pz);\n    return /* @__PURE__ */ React2.createElement(\n      Personalize,\n      {\n        key,\n        variations: processedVariants,\n        count: Number((_d = (_c = (_b = pzComponent.parameters) == null ? void 0 : _b.count) == null ? void 0 : _c.value) != null ? _d : 1),\n        name: (_g = (_f = (_e = pzComponent.parameters) == null ? void 0 : _e.trackingEventName) == null ? void 0 : _f.value) != null ? _g : \"Untitled Personalization\",\n        component: (variation) => renderChild(variation, 0)\n      }\n    );\n  }\n};\n\n// src/components/UniformSlot.tsx\nfunction UniformSlot({\n  name,\n  resolveRenderer,\n  children,\n  emptyPlaceholder\n}) {\n  var _a;\n  const { data: parentData, resolveRenderer: parentResolveRenderer } = useUniformCurrentComponent();\n  if (!parentData) {\n    throw new Error(\"Cannot use Slot without a <UniformComponent /> wrapper.\");\n  }\n  const slot = (_a = parentData.slots) == null ? void 0 : _a[name];\n  if (!slot || !Array.isArray(slot)) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.warn(\n        `[canvas-dev] slot '${name}' was rendered, but it was not defined on its component. This is expected if the slot is optional, otherwise it may indicate a typo. Component:`,\n        parentData\n      );\n    }\n    return null;\n  }\n  const resolver = resolveRenderer != null ? resolveRenderer : parentResolveRenderer;\n  const systemResolver = defaultSystemComponentResolver;\n  const finalChildren = slot.map((component, index) => {\n    const child = renderComponent({\n      component,\n      resolveRenderer: resolver,\n      resolveSystem: systemResolver,\n      key: `inner-${index}`,\n      indexInSlot: index,\n      slotName: name,\n      parentComponent: parentData,\n      slotChildrenCount: slot.length,\n      emptyPlaceholder\n    });\n    const elements = children ? children({ child, component, key: `wrapped-inner-${index}` }) : child;\n    return React3.createElement(React3.Fragment, { key: index }, elements);\n  });\n  return React3.createElement(React3.Fragment, void 0, finalChildren);\n}\nfunction renderComponent({\n  component,\n  resolveRenderer,\n  resolveSystem,\n  key = 0,\n  indexInSlot,\n  slotName,\n  parentComponent,\n  slotChildrenCount,\n  emptyPlaceholder\n}) {\n  var _a, _b, _c, _d;\n  const RenderComponent = resolveRenderer == null ? void 0 : resolveRenderer(component);\n  if (component.type === CANVAS_TEST_TYPE) {\n    return resolveSystem.test(\n      component,\n      key,\n      (component2, key2) => renderComponent({ component: component2, resolveRenderer, resolveSystem, key: key2 })\n    );\n  } else if (component.type === CANVAS_PERSONALIZE_TYPE) {\n    return resolveSystem.personalization(\n      component,\n      key,\n      (component2, key2) => renderComponent({ component: component2, resolveRenderer, resolveSystem, key: key2 })\n    );\n  } else if (RenderComponent) {\n    const props = convertComponentToProps(component);\n    const shouldRenderContextualEditingTags = Boolean(component._id);\n    const isPlaceholder = component._id === PLACEHOLDER_ID;\n    return /* @__PURE__ */ React3.createElement(UniformComponent, { key, data: component, resolveRenderer }, !shouldRenderContextualEditingTags ? null : /* @__PURE__ */ React3.createElement(\n      \"script\",\n      {\n        key,\n        \"data-role\": IN_CONTEXT_EDITOR_COMPONENT_START_ROLE,\n        \"data-parent-id\": parentComponent == null ? void 0 : parentComponent._id,\n        \"data-parent-type\": parentComponent == null ? void 0 : parentComponent.type,\n        \"data-component-id\": component._id,\n        \"data-slot-name\": slotName != null ? slotName : \"\",\n        \"data-component-index\": indexInSlot != null ? indexInSlot : \"\",\n        \"data-total-components\": slotChildrenCount != null ? slotChildrenCount : \"\",\n        \"data-component-name\": component.type,\n        \"data-is-placeholder\": isPlaceholder ? \"true\" : void 0,\n        \"data-is-localized\": ((_a = component.parameters) == null ? void 0 : _a[CANVAS_LOCALE_TAG_PARAM]) ? \"true\" : void 0,\n        \"data-component-title\": (_d = (_c = (_b = component.parameters) == null ? void 0 : _b.title) == null ? void 0 : _c.value) != null ? _d : \"\"\n      }\n    ), isPlaceholder && emptyPlaceholder !== void 0 ? emptyPlaceholder : /* @__PURE__ */ React3.createElement(RenderComponent, { ...props }), !shouldRenderContextualEditingTags ? null : /* @__PURE__ */ React3.createElement(\"script\", { \"data-role\": \"component-end\" }));\n  } else if (process.env.NODE_ENV !== \"production\") {\n    console.warn(\n      `[canvas] found component of type '${component.type}' which the resolveRenderer prop returned no component for. Nothing will be rendered. The resolveRenderer function may need to be extended to handle the new type.`,\n      component\n    );\n  }\n  return null;\n}\nvar Slot = UniformSlot;\n\n// src/components/UniformComponent.tsx\nvar UniformComponentContext = createContext({});\nfunction useUniformCurrentComponent() {\n  return useContext(UniformComponentContext);\n}\nvar componentStoreResolver2 = (component) => {\n  const resolved = componentStore.get(component.type, component.variant);\n  return resolved || null;\n};\nfunction UniformComponent({\n  data,\n  resolveRenderer,\n  children,\n  behaviorTracking\n}) {\n  var _a, _b, _c;\n  const parentData = useUniformCurrentComponent();\n  const contextContextProviderPresent = useUniformContext({ throwOnMissingProvider: false }) !== void 0;\n  if (!data) {\n    if (process.env.NODE_ENV === \"development\") {\n      console.warn(`[canvas-dev] UniformComponent was rendered with no data, nothing will be output.`);\n    }\n    return null;\n  }\n  const contextValue = {\n    data,\n    resolveRenderer: resolveRenderer || (parentData == null ? void 0 : parentData.resolveRenderer) || componentStoreResolver2,\n    behaviorTracking: (_a = behaviorTracking != null ? behaviorTracking : parentData == null ? void 0 : parentData.behaviorTracking) != null ? _a : \"onView\"\n  };\n  const enrichmentTags = (_c = (_b = data.parameters) == null ? void 0 : _b[CANVAS_ENRICHMENT_TAG_PARAM]) == null ? void 0 : _c.value;\n  const TrackComponent = contextValue.behaviorTracking === \"onLoad\" ? TrackFragment : Track;\n  const resolvedChildren = resolveChildren({\n    children,\n    data,\n    hasParentLayout: Boolean(parentData.data)\n  });\n  return /* @__PURE__ */ React4.createElement(UniformComponentContext.Provider, { value: contextValue }, contextContextProviderPresent ? /* @__PURE__ */ React4.createElement(TrackComponent, { behavior: enrichmentTags }, resolvedChildren) : resolvedChildren);\n}\nfunction resolveChildren({\n  children,\n  data,\n  hasParentLayout\n}) {\n  var _a;\n  if (!children && !hasParentLayout) {\n    const rootComponent = componentStore.get(data.type);\n    if (rootComponent) {\n      children = React4.createElement(rootComponent, convertComponentToProps(data));\n    } else {\n      if (Object.keys((_a = data.slots) != null ? _a : {}).length > 1 && process.env.NODE_ENV === \"development\") {\n        console.warn(\n          `[canvas-dev] All the slots in component '${data.type}' are rendered in no particular order. Use '<Slot name={slotName} />' to reliably render the slots.`\n        );\n      }\n      children = Object.keys(data.slots || {}).map((slotName) => /* @__PURE__ */ React4.createElement(UniformSlot, { key: slotName, name: slotName }));\n    }\n  }\n  const renderChildren = typeof children === \"function\" ? children(convertComponentToProps(data)) : children;\n  return renderChildren;\n}\n\n// src/components/UniformComposition.tsx\nimport React5, { createContext as createContext2, useContext as useContext2 } from \"react\";\n\n// src/hooks/useUniformContextualEditing.ts\nimport {\n  createCanvasChannel,\n  createUniformApiEnhancer,\n  IN_CONTEXT_EDITOR_EMBED_SCRIPT_ID,\n  IN_CONTEXT_EDITOR_QUERY_STRING_PARAM,\n  isUpdateCompositionMessage\n} from \"@uniformdev/canvas\";\nimport { useEffect, useMemo, useState } from \"react\";\nvar createApiEnhancer = createUniformApiEnhancer;\nvar registeredCompositionIds = /* @__PURE__ */ new Set();\nvar useUniformContextualEditing = ({\n  initialCompositionValue,\n  enhance = (message) => message.composition\n}) => {\n  const [contextualComposition, setContextualComposition] = useState();\n  const channel = useMemo(() => {\n    var _a;\n    if (!isInContextEditingMode()) {\n      return;\n    }\n    const channel2 = createCanvasChannel({\n      broadcastTo: [(_a = window.opener) != null ? _a : window.top],\n      listenTo: [window]\n    });\n    return channel2;\n  }, []);\n  useEffect(() => {\n    if (!channel || registeredCompositionIds.has(initialCompositionValue == null ? void 0 : initialCompositionValue._id)) {\n      return;\n    }\n    const unsubscribe = channel.on(\"update-composition\", async (message) => {\n      if (!isUpdateCompositionMessage(message)) {\n        return;\n      }\n      const enhancedComposition = await enhance(message);\n      setContextualComposition(enhancedComposition);\n    });\n    registeredCompositionIds.add(initialCompositionValue == null ? void 0 : initialCompositionValue._id);\n    return () => {\n      unsubscribe();\n      registeredCompositionIds.delete(initialCompositionValue == null ? void 0 : initialCompositionValue._id);\n    };\n  }, [channel, enhance, initialCompositionValue == null ? void 0 : initialCompositionValue._id]);\n  useEffect(() => {\n    if (!isInContextEditingMode()) {\n      return;\n    }\n    const existingScript = document.getElementById(IN_CONTEXT_EDITOR_EMBED_SCRIPT_ID);\n    if (existingScript) {\n      return;\n    }\n    window.__UNIFORM_CONTEXTUAL_EDITING__ = {\n      framework: \"React\"\n    };\n    const script = document.createElement(\"script\");\n    script.id = IN_CONTEXT_EDITOR_EMBED_SCRIPT_ID;\n    script.src = getCanvasInContextEmbedScriptUrl();\n    script.async = true;\n    document.head.appendChild(script);\n  }, []);\n  return {\n    composition: contextualComposition != null ? contextualComposition : initialCompositionValue\n  };\n};\nfunction getCanvasInContextEmbedScriptUrl() {\n  const scriptUrl = `${window.document.referrer}files/canvas-in-context-embed/index.js`;\n  return scriptUrl;\n}\nfunction isInContextEditingMode() {\n  if (typeof window === \"undefined\") {\n    return false;\n  }\n  const isOpenedByInContextEditor = new URLSearchParams(window.location.search).has(\n    IN_CONTEXT_EDITOR_QUERY_STRING_PARAM\n  );\n  const isAllowlistedReferrer = Boolean(\n    window.document.referrer.match(/(^https:\\/\\/|\\.)(uniform.app|uniform.wtf|localhost:\\d{4})\\//)\n  );\n  return isOpenedByInContextEditor && isAllowlistedReferrer;\n}\nvar useContextualEditing = useUniformContextualEditing;\n\n// src/components/UniformComposition.tsx\nvar UniformCompositionContext = createContext2({ data: void 0 });\nfunction useUniformCurrentComposition() {\n  return useContext2(UniformCompositionContext);\n}\nfunction UniformComposition({\n  data,\n  behaviorTracking = \"onView\",\n  children,\n  resolveRenderer,\n  contextualEditingEnhancer\n}) {\n  const { composition } = useUniformContextualEditing({\n    initialCompositionValue: data,\n    enhance: contextualEditingEnhancer\n  });\n  return /* @__PURE__ */ React5.createElement(UniformCompositionContext.Provider, { value: { data: composition, behaviorTracking, resolveRenderer } }, /* @__PURE__ */ React5.createElement(\n    UniformComponent,\n    {\n      data: composition,\n      behaviorTracking,\n      resolveRenderer\n    },\n    children\n  ));\n}\nvar useComposition = useUniformCurrentComposition;\nvar Composition = UniformComposition;\n\n// src/hooks/useCompositionEventEffect.ts\nimport {\n  CANVAS_DRAFT_STATE,\n  createEventBus,\n  subscribeToComposition\n} from \"@uniformdev/canvas\";\nimport { useEffect as useEffect2 } from \"react\";\nfunction useCompositionEventEffect({\n  enabled,\n  projectId,\n  compositionId,\n  effect\n}) {\n  useEffect2(() => {\n    if (!enabled || !compositionId || !projectId) {\n      return;\n    }\n    let goodbye = void 0;\n    const loadEffect = async () => {\n      const eventBus = await createEventBus();\n      if (eventBus) {\n        goodbye = subscribeToComposition({\n          eventBus,\n          compositionId,\n          compositionState: CANVAS_DRAFT_STATE,\n          projectId,\n          callback: effect,\n          event: \"updated\"\n        });\n      }\n    };\n    loadEffect();\n    return () => {\n      if (goodbye) {\n        goodbye();\n      }\n    };\n  }, [compositionId, enabled, projectId, effect]);\n}\nexport {\n  Composition,\n  DefaultNotImplementedComponent,\n  NOT_IMPLEMENTED_COMPONENT,\n  Slot,\n  UniformComponent,\n  UniformComposition,\n  UniformSlot,\n  componentStore,\n  componentStoreResolver,\n  createApiEnhancer,\n  createComponentStore,\n  createComponentStoreResolver,\n  createUniformApiEnhancer,\n  registerUniformComponent,\n  useComposition,\n  useCompositionEventEffect,\n  useContextualEditing,\n  useUniformContextualEditing,\n  useUniformCurrentComponent,\n  useUniformCurrentComposition\n};\n","// src/components/Hero.tsx\nimport {Slot} from \"@uniformdev/canvas-react\";\nimport * as React from \"react\";\n\ntype HeroProps = {\n    title: string;\n    description: string;\n    image: string;\n    children?: any;\n};\n\nexport const Hero = ({title, description, image, children}: HeroProps) => {\n    return (\n        <div className=\"grid grid-cols-2 py-[3em]\">\n            <div className=\"mb-5\">\n                <h1 className=\"text-4xl mb-5\">{title}</h1>\n                <p className=\"mb-5\">{description}</p>\n                <div>\n                    <Slot name=\"ctas\"/>\n                </div>\n            </div>\n            <div>\n                <img src={image} width=\"500px\"/>\n            </div>\n        </div>\n    );\n};","\n// src/components/CTA.tsx\nimport * as React from \"react\";\nexport const CTA = ({\n  title,\n  link,\n}: {\n  title: string;\n  link: string;\n}) => {\n  return (\n    <div>\n      <a href={link}>\n        <button className=\"px-4 py-2 bg-[#c98686] rounded\">{title}</button>\n      </a>\n    </div>\n  );\n};","// src/components/GenericGrid.tsx\nimport {Slot} from \"@uniformdev/canvas-react\";\nimport * as React from \"react\";\n\nexport const GenericGrid = ({\n                                title,\n                                children,\n                            }: {\n    title: string;\n    children: any;\n}) => {\n    return (\n        <div className=\"border-t-2 py-[4em]\">\n            <h3 className=\"text-3xl text-center mb-10 font-medium\">{title}</h3>\n            <div className=\"grid grid-cols-3 gap-5\">\n                <Slot name=\"items\"/>\n            </div>\n        </div>\n    );\n};","// src/components/GenericCard.tsx\nimport * as React from \"react\";\n\nexport const GenericCard = ({\n                                title,\n                                ctaLink = \"#\",\n                                ctaTitle,\n                                body,\n                            }: {\n    title: string;\n    ctaLink?: string;\n    ctaTitle?: string;\n    body?: string | any;\n}) => {\n    return (\n        <div className=\"h-full flex flex-col justify-between\">\n            <h3 className=\"text-xl font-medium text-center mb-5\">{title}</h3>\n            <p className=\"px-10\">{body.body}</p>\n            <a href={ctaLink}>\n                <p className=\"text-center mt-5 text-[#c98686] font-semibold\">\n                    {ctaTitle}\n                </p>\n            </a>\n        </div>\n    );\n}","// src/components/OfferingCard.tsx\n\nimport * as React from \"react\";\n\nexport const OfferingCard = ({\n                                 offering: {offeringName, offeringImage, offeringSummary},\n                             }: {\n    offering: any;\n}) => {\n    return (\n        <div className=\"text-center rounded-md border-2 p-3 h-full flex flex-col justify-between\">\n            <p className=\"text-lg font-semibold\">{offeringName}</p>\n\n            <div className=\"min-h-150\">\n                <img\n                    src={offeringImage}\n                    width=\"100px\"\n                    className=\"mx-auto\"\n                    height={300}\n                />\n            </div>\n            <p className=\"text-sm\">{offeringSummary}</p>\n        </div>\n    );\n};","// src/components/OfferingGrid.tsx\n\nimport {Slot} from \"@uniformdev/canvas-react\";\nimport * as React from \"react\";\n\nexport const OfferingGrid = ({title}: { title: string; children: any }) => {\n    return (\n        <div className=\"border-t-2 py-[4em]\">\n            <h3 className=\"text-3xl text-center mb-10 font-medium\">{title}</h3>\n            <div className=\"grid grid-cols-4 gap-7\">\n                <Slot name=\"offerings\"/>\n            </div>\n        </div>\n    );\n};","// src/components/default.tsx\nimport * as React from \"react\";\nexport const Default = () => {\n    return (\n        <div>\n            <h1>Default component</h1>\n        </div>\n    );\n};","// src/createSanityEnhancer.ts\nimport {\n  createLimitPolicy\n} from \"@uniformdev/canvas\";\nvar CANVAS_SANITY_PARAMETER_TYPES = Object.freeze([\"sanityEntrySelector\"]);\nfunction createSanityEnhancer({\n  client,\n  previewClient,\n  modifyQuery,\n  limitPolicy\n}) {\n  previewClient = previewClient != null ? previewClient : client;\n  return {\n    enhanceOne: async ({ parameter, parameterName, component, context }) => {\n      var _a;\n      if (parameterIsSanityEntrySelector(parameter)) {\n        const clientToUse = context.preview ? previewClient : client;\n        try {\n          const defaultQuery = `*[_id == $id][0]`;\n          const defaultParams = { id: parameter.value };\n          const { query, queryParameters } = (_a = modifyQuery == null ? void 0 : modifyQuery({\n            query: defaultQuery,\n            queryParameters: defaultParams,\n            parameter,\n            component,\n            parameterName,\n            context\n          })) != null ? _a : { query: defaultQuery, queryParameters: defaultParams };\n          return await clientToUse.fetch(query, queryParameters);\n        } catch (e) {\n          throw new Error(`Failed loading Sanity document ${parameter.value} ${e.toString()}`);\n        }\n      }\n    },\n    limitPolicy: limitPolicy != null ? limitPolicy : createLimitPolicy({\n      throttle: false\n    })\n  };\n}\nfunction parameterIsSanityEntrySelector(parameter) {\n  return parameter.type === \"sanityEntrySelector\" && typeof (parameter == null ? void 0 : parameter.value) === \"string\";\n}\nexport {\n  CANVAS_SANITY_PARAMETER_TYPES,\n  createSanityEnhancer\n};\n","import * as React from \"react\";\nimport createSanityClient from \"@sanity/client\";\nimport {PageComponent} from \"../components/Page\";\nimport {Hero} from \"../components/Hero\";\nimport {CTA} from \"../components/CTA\";\nimport {GenericGrid} from \"../components/GenericGrid\";\nimport {GenericCard} from \"../components/GenericCard\";\nimport {OfferingCard} from \"../components/OfferingCard\";\nimport {OfferingGrid} from \"../components/OfferingGrid\";\nimport {ComponentProps} from \"@uniformdev/canvas-react\";\nimport {Default} from \"../components/Default\";\n\nimport type {\n    GetServerDataProps,\n    GetServerDataReturn,\n    PageProps,\n} from \"gatsby\";\nimport {\n    CanvasClient,\n    ComponentInstance,\n    enhance,\n    EnhancerBuilder,\n} from \"@uniformdev/canvas\";\nimport {\n    CANVAS_SANITY_PARAMETER_TYPES,\n    createSanityEnhancer,\n} from \"@uniformdev/canvas-sanity\";\nimport {\n    Composition,\n    Slot,\n    useContextualEditing,\n} from \"@uniformdev/canvas-react\";\n\n// function to get composition\nexport const getComposition = async () => {\n    const proId: string = \"4d683e30-c332-4084-9024-fea2fd04c0d4\";\n    const apiK: string = \"uf1j5j9wleq08ysfsdgz4h3z3u3ajykv7pf5n309jdr4z7qf9pfwytd3x839q8xytzu68g2p639ux8un7s2rzv3mapd6kcexq\";\n\n    const client = new CanvasClient({\n        apiKey: apiK,\n        projectId: proId,\n    });\n    const {composition} = await client.getCompositionBySlug({slug: \"home\"});\n    return composition;\n};\n\n// Function to fetch Composition server-side\nexport async function getServerData({\n                                        headers,\n                                        method,\n                                        url,\n                                        query,\n                                        params,\n                                    }: GetServerDataProps): GetServerDataReturn {\n    const composition = await getComposition();\n    // Enhance composition\n    await enhanceComposition(composition);\n    // Return enhanced composition\n    return {\n        status: 200,\n        props: {composition},\n    };\n}\n\n// Sanity enhancer function\nexport async function enhanceComposition(composition: ComponentInstance) {\n    const sanity_pro_id: string = \"of2hm1rq\"\n    const sanity_data_Set: string = \"production\"\n\n    const sanityClient = createSanityClient({\n        projectId: sanity_pro_id,\n        dataset: sanity_data_Set,\n        useCdn: false,\n    });\n    // Create a modified enhancer to enhance the images and return offeringImage\n    const sanityEnhancer = createSanityEnhancer({\n        client: sanityClient,\n        modifyQuery: (options) => {\n            options.query = `*[_id == $id][0] { \n        \"offeringImage\": offeringImage.asset->url,\n        ...\n      }`;\n            return options;\n        },\n    });\n    await enhance({\n        composition,\n        enhancers: new EnhancerBuilder().parameterType(\n            CANVAS_SANITY_PARAMETER_TYPES,\n            sanityEnhancer\n        ),\n        context: {},\n    });\n}\n\n// Resolve Render function\nexport function componentResolutionRenderer(\n    component: ComponentInstance\n): React.ComponentType<ComponentProps<any>> {\n    switch (component.type) {\n        case \"hero\":\n            return Hero;\n        case \"callToActionParametersAndType\":\n            return CTA;\n        case \"genericCard\":\n            return GenericCard;\n        case \"genericGrid\":\n            return GenericGrid;\n        case \"offeringCard\":\n            return OfferingCard;\n        case \"offeringGrid\":\n            return OfferingGrid;\n        default:\n            return Default;\n    }\n}\n\nconst Homepage = (props: PageProps) => {\n    const {serverData} = props;\n    const {composition: initialCompositionValue} = serverData as any;\n    const {composition} = useContextualEditing({\n        initialCompositionValue,\n        enhance: async ({composition}) => {\n            await enhanceComposition(composition);\n            return composition;\n        },\n    });\n    return (\n        <PageComponent>\n            <Composition\n                data={composition}\n                resolveRenderer={componentResolutionRenderer}\n            ></Composition>\n        </PageComponent>\n    );\n};\n\nexport default Homepage;\n\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","var trim = function(string) {\n  return string.replace(/^\\s+|\\s+$/g, '');\n}\n  , isArray = function(arg) {\n      return Object.prototype.toString.call(arg) === '[object Array]';\n    }\n\nmodule.exports = function (headers) {\n  if (!headers)\n    return {}\n\n  var result = {}\n\n  var headersArr = trim(headers).split('\\n')\n\n  for (var i = 0; i < headersArr.length; i++) {\n    var row = headersArr[i]\n    var index = row.indexOf(':')\n    , key = trim(row.slice(0, index)).toLowerCase()\n    , value = trim(row.slice(index + 1))\n\n    if (typeof(result[key]) === 'undefined') {\n      result[key] = value\n    } else if (isArray(result[key])) {\n      result[key].push(value)\n    } else {\n      result[key] = [ result[key], value ]\n    }\n  }\n\n  return result\n}\n","'use strict'\nmodule.exports = rfdc\n\nfunction copyBuffer (cur) {\n  if (cur instanceof Buffer) {\n    return Buffer.from(cur)\n  }\n\n  return new cur.constructor(cur.buffer.slice(), cur.byteOffset, cur.length)\n}\n\nfunction rfdc (opts) {\n  opts = opts || {}\n\n  if (opts.circles) return rfdcCircles(opts)\n  return opts.proto ? cloneProto : clone\n\n  function cloneArray (a, fn) {\n    var keys = Object.keys(a)\n    var a2 = new Array(keys.length)\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i]\n      var cur = a[k]\n      if (typeof cur !== 'object' || cur === null) {\n        a2[k] = cur\n      } else if (cur instanceof Date) {\n        a2[k] = new Date(cur)\n      } else if (ArrayBuffer.isView(cur)) {\n        a2[k] = copyBuffer(cur)\n      } else {\n        a2[k] = fn(cur)\n      }\n    }\n    return a2\n  }\n\n  function clone (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (o instanceof Date) return new Date(o)\n    if (Array.isArray(o)) return cloneArray(o, clone)\n    if (o instanceof Map) return new Map(cloneArray(Array.from(o), clone))\n    if (o instanceof Set) return new Set(cloneArray(Array.from(o), clone))\n    var o2 = {}\n    for (var k in o) {\n      if (Object.hasOwnProperty.call(o, k) === false) continue\n      var cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur instanceof Date) {\n        o2[k] = new Date(cur)\n      } else if (cur instanceof Map) {\n        o2[k] = new Map(cloneArray(Array.from(cur), clone))\n      } else if (cur instanceof Set) {\n        o2[k] = new Set(cloneArray(Array.from(cur), clone))\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        o2[k] = clone(cur)\n      }\n    }\n    return o2\n  }\n\n  function cloneProto (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (o instanceof Date) return new Date(o)\n    if (Array.isArray(o)) return cloneArray(o, cloneProto)\n    if (o instanceof Map) return new Map(cloneArray(Array.from(o), cloneProto))\n    if (o instanceof Set) return new Set(cloneArray(Array.from(o), cloneProto))\n    var o2 = {}\n    for (var k in o) {\n      var cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur instanceof Date) {\n        o2[k] = new Date(cur)\n      } else if (cur instanceof Map) {\n        o2[k] = new Map(cloneArray(Array.from(cur), cloneProto))\n      } else if (cur instanceof Set) {\n        o2[k] = new Set(cloneArray(Array.from(cur), cloneProto))\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        o2[k] = cloneProto(cur)\n      }\n    }\n    return o2\n  }\n}\n\nfunction rfdcCircles (opts) {\n  var refs = []\n  var refsNew = []\n\n  return opts.proto ? cloneProto : clone\n\n  function cloneArray (a, fn) {\n    var keys = Object.keys(a)\n    var a2 = new Array(keys.length)\n    for (var i = 0; i < keys.length; i++) {\n      var k = keys[i]\n      var cur = a[k]\n      if (typeof cur !== 'object' || cur === null) {\n        a2[k] = cur\n      } else if (cur instanceof Date) {\n        a2[k] = new Date(cur)\n      } else if (ArrayBuffer.isView(cur)) {\n        a2[k] = copyBuffer(cur)\n      } else {\n        var index = refs.indexOf(cur)\n        if (index !== -1) {\n          a2[k] = refsNew[index]\n        } else {\n          a2[k] = fn(cur)\n        }\n      }\n    }\n    return a2\n  }\n\n  function clone (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (o instanceof Date) return new Date(o)\n    if (Array.isArray(o)) return cloneArray(o, clone)\n    if (o instanceof Map) return new Map(cloneArray(Array.from(o), clone))\n    if (o instanceof Set) return new Set(cloneArray(Array.from(o), clone))\n    var o2 = {}\n    refs.push(o)\n    refsNew.push(o2)\n    for (var k in o) {\n      if (Object.hasOwnProperty.call(o, k) === false) continue\n      var cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur instanceof Date) {\n        o2[k] = new Date(cur)\n      } else if (cur instanceof Map) {\n        o2[k] = new Map(cloneArray(Array.from(cur), clone))\n      } else if (cur instanceof Set) {\n        o2[k] = new Set(cloneArray(Array.from(cur), clone))\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        var i = refs.indexOf(cur)\n        if (i !== -1) {\n          o2[k] = refsNew[i]\n        } else {\n          o2[k] = clone(cur)\n        }\n      }\n    }\n    refs.pop()\n    refsNew.pop()\n    return o2\n  }\n\n  function cloneProto (o) {\n    if (typeof o !== 'object' || o === null) return o\n    if (o instanceof Date) return new Date(o)\n    if (Array.isArray(o)) return cloneArray(o, cloneProto)\n    if (o instanceof Map) return new Map(cloneArray(Array.from(o), cloneProto))\n    if (o instanceof Set) return new Set(cloneArray(Array.from(o), cloneProto))\n    var o2 = {}\n    refs.push(o)\n    refsNew.push(o2)\n    for (var k in o) {\n      var cur = o[k]\n      if (typeof cur !== 'object' || cur === null) {\n        o2[k] = cur\n      } else if (cur instanceof Date) {\n        o2[k] = new Date(cur)\n      } else if (cur instanceof Map) {\n        o2[k] = new Map(cloneArray(Array.from(cur), cloneProto))\n      } else if (cur instanceof Set) {\n        o2[k] = new Set(cloneArray(Array.from(cur), cloneProto))\n      } else if (ArrayBuffer.isView(cur)) {\n        o2[k] = copyBuffer(cur)\n      } else {\n        var i = refs.indexOf(cur)\n        if (i !== -1) {\n          o2[k] = refsNew[i]\n        } else {\n          o2[k] = cloneProto(cur)\n        }\n      }\n    }\n    refs.pop()\n    refsNew.pop()\n    return o2\n  }\n}\n"],"names":["evs","module","exports","EventSourcePolyfill","global","setTimeout","clearTimeout","XMLHttpRequest","XDomainRequest","ActiveXObject","NativeEventSource","EventSource","document","Promise","fetch","Response","TextDecoder","TextEncoder","AbortController","window","body","readyState","addEventListener","event","undefined","Object","create","C","F","prototype","Date","now","getTime","originalFetch2","url","options","signal","headers","credentials","cache","then","response","reader","getReader","_reader","_aborted","cancel","status","statusText","this","abort","TextDecoderPolyfill","bitsNeeded","codePoint","decode","octets","valid","shift","octetsCount","Error","REPLACER","string","i","length","octet","String","fromCharCode","encode","stream","error","console","debug","supportsStreamOption","k","XHRWrapper","xhr","withCredentials","responseText","onprogress","onload","onerror","onreadystatechange","_contentType","_xhr","_sendTimeout","_abort","toLowerCase","name","replace","c","charCodeAt","HeadersPolyfill","all","map","array","split","parts","value","join","_map","XHRTransport","HeadersWrapper","_headers","FetchTransport","EventTarget","_listeners","throwError","e","Event","type","target","MessageEvent","call","data","lastEventId","ConnectionEvent","ErrorEvent","open","method","that","state","timeout","silent","onabort","onStart","contentType","getResponseHeader","onProgress","onFinish","preventDefault","TypeError","onTimeout","onReadyStateChange","indexOf","setRequestHeader","getAllResponseHeaders","send","error1","get","HEADERS_RECEIVED","onStartCallback","onProgressCallback","onFinishCallback","offset","chunk","slice","hasOwnProperty","controller","textDecoder","resolve","reject","readNextChunk","read","result","done","dispatchEvent","typeListeners","listener","handleEvent","listeners","found","push","removeEventListener","filtered","WAITING","AFTER_CR","contentTypeRegExp","parseDuration","def","n","parseInt","clampDuration","Math","min","max","fire","f","onopen","onmessage","_close","es","Boolean","lastEventIdQueryParameterName","initialRetry","heartbeatTimeout","retry","wasActivity","textLength","TransportOption","Transport","isFetchSupported","transport","abortController","currentState","dataBuffer","lastEventIdBuffer","eventTypeBuffer","textBuffer","fieldStart","valueStart","test","message","close","textChunk","position","field","requestURL","p","paramName","encodeURIComponent","requestHeaders","nextHeartbeat","start","CONNECTING","OPEN","CLOSED","R","factory","v","globalThis","self","__toString","toString","fieldContentRegExp","str","decodeURIComponent","val","tryDecode","defaultOptions","navigator","product","processOptions","opts","assign","URL","normalizeTimeout","query","key","entries","Array","isArray","searchParams","append","toUpperCase","origin","concat","pathname","time","connect","socket","delay","Number","isNaN","validUrl","validateOptions","channelNames","middlehooks","createRequester","initMiddleware","httpRequest","loadedMiddleware","middleware","reduce","ware","request","channels","subscribers","nextId","publish","id","subscribe","subscriber","createPubSub","applyMiddleware","hook","defaultValue","bailEarly","_len","arguments","args","_key","handler","middlewareReducer","context","ongoingRequest","unsubscribe","ctx","err","res","reqErr","onResponse","returnValue","use","newMiddleware","onReturn","forEach","clone","_method","_url","_resHeaders","_controller","__accessCheck","obj","member","msg","has","__privateGet","getter","__privateAdd","WeakSet","add","set","__privateSet","setter","WeakMap","adapter","XmlHttpRequest","constructor","_async","textBody","responseType","text","arrayBuffer","resBody","catch","_a","httpRequester","callback","timers","injectedResponse","cbTimer","delays","aborted","loaded","timedOut","onError","ontimeout","stopTimers","timeoutRequest","resetTimers","statusCode","statusMessage","onLoad","rawBody","code","force","isNetworkError","isObject","o","isBuffer","Buffer","serializeTypes","jsonRequest","ctor","prot","pipe","JSON","stringify","jsonResponse","shouldDecode","tryParse","Accept","parse","actualGlobal","global$1","observable","Observable","implementation","observer","progress","next","complete","promise","PromiseImplementation","cancelToken","reason","onlyBody","Cancel","__CANCEL__","_CancelToken","executor","resolvePromise","CancelToken","source","token","can","isCancel","extendStatics","d","b","setPrototypeOf","__proto__","__extends","__","__values","s","Symbol","iterator","m","__read","r","ar","__spreadArray","to","from","pack","l","isFunction","createErrorClass","createImpl","ctorFunc","instance","stack","UnsubscriptionError","_super","errors","arrRemove","arr","item","index","splice","Subscription","initialTeardown","closed","_parentage","_finalizers","empty","e_1","e_2","_b","_parentage_1","_parentage_1_1","remove","e_1_1","return","initialFinalizer","_finalizers_1","_finalizers_1_1","finalizer","execFinalizer","e_2_1","teardown","_hasParent","_addParent","parent","includes","_removeParent","EMPTY","isSubscription","config","onUnhandledError","onStoppedNotification","useDeprecatedSynchronousErrorHandling","useDeprecatedNextContext","timeoutProvider","_i","delegate","apply","handle","noop","COMPLETE_NOTIFICATION","createNotification","kind","Subscriber","destination","_this","isStopped","EMPTY_OBSERVER","SafeSubscriber","handleStoppedNotification","nextNotification","_next","_error","_complete","_bind","Function","bind","fn","thisArg","ConsumerObserver","partialObserver","handleUnhandledError","observerOrNext","context_1","errorThrown","reportUnhandledError","notification","identity","x","pipeFromArray","fns","input","prev","_subscribe","lift","operator","isObserver","cb","isRoot","errorContext","_trySubscribe","sink","promiseCtor","getPromiseCtor","operations","toPromise","EmptyError","lastValueFrom","hasConfig","_value","_hasValue","operate","init","hasLift","liftedSource","createOperatorSubscriber","onNext","onComplete","onFinalize","OperatorSubscriber","shouldUnsubscribe","closed_1","project","filter","predicate","ClientError","props","extractErrorProps","super","ServerError","responseBody","details","description","httpErrorMessage","httpError","printWarnings","warn","projectHeader","getSelection","sel","params","selectionOpts","VALID_ASSET_TYPES","VALID_INSERT_LOCATIONS","dataset","validateAssetType","validateObject","op","validateDocumentId","requireDocumentId","doc","_id","hasDataset","requestTag","tag","encodeQueryString","_ref","URLSearchParams","_client$5","_client2$5","__accessCheck$6","__privateGet$6","__privateAdd$6","__privateSet$6","BasePatch","selection","attrs","_assign","setIfMissing","diffMatchPatch","unset","inc","dec","insert","at","selector","items","signature","loc","validateInsert","prepend","deleteCount","startIndex","delCount","delRange","rangeSelector","ifRevisionId","rev","ifRevisionID","serialize","toJSON","reset","merge","_set","_ObservablePatch","client","commit","returnFirst","returnDocuments","mutate","patch","ObservablePatch","_Patch","Patch","_client$4","_client2$4","__accessCheck$5","__privateGet$5","__privateAdd$5","__privateSet$5","defaultMutateOptions","BaseTransaction","transactionId","trxId","_add","createIfNotExists","createOrReplace","delete","documentId","mut","_Transaction","patchOrDocumentId","patchOps","isBuilder","Transaction","_ObservableTransaction","ObservableTransaction","excludeFalsey","param","defValue","getMutationQuery","dryRun","returnIds","visibility","autoGenerateArrayKeys","skipCrossDatasetReferenceValidation","isResponse","getBody","indexBy","docs","attr","indexed","_fetch","mapResponse","filterResponse","_dataRequest","_getDocument","uri","_getDataUrl","json","_requestObservable","documents","_getDocuments","ids","_createIfNotExists","_create","_createOrReplace","_delete","mutations","_mutate","endpoint","isMutation","isQuery","strQuery","useGet","stringQuery","reqOptions","canUseCdn","results","mutation","useCdn","requestTagPrefix","overrides","Authorization","useGlobalApi","useProjectHostname","projectId","proxy","requestOptions","_getUrl","requester","isDomExceptionSupported","DOMException","_createAbortError","subscription","_request","operation","path","catalog","baseUri","cdnUrl","base","_client$3","_httpRequest$4","_client2$3","_httpRequest2$4","__accessCheck$4","__privateGet$4","__privateAdd$4","__privateSet$4","ObservableAssetsClient","upload","assetType","_upload","AssetsClient","meta","extract","assetEndpoint","optionsFromFile","label","title","creditLine","filename","sourceId","sourceName","sourceUrl","file","File","preserveFilename","generateHelpUrl","slug","createWarningPrinter","didCall","once","printCdnWarning","printBrowserTokenWarning","printNoApiVersionSpecifiedWarning","printNoDefaultExport","defaultConfig","apiHost","apiVersion","LOCALHOSTS","initConfig","prevConfig","specifiedConfig","newConfig","projectBased","helpUrl","isBrowser","location","hostname","isLocalhost","host","isLocal","ignoreBrowserTokenWarning","isDefaultApi","apiDate","validateApiVersion","hostParts","protocol","cdnHost","defaults","keys","prop","pick","possibleOptions","includeResult","_listen","listenOpts","qs","listenFor","events","shouldEmitReconnect","esOptions","reconnectTimer","getEventSource","stopped","onChannelError","cooerceError","onMessage","evt","parseEvent","onDisconnect","extractErrorMessage","_client$2","_httpRequest$3","_client2$2","_httpRequest2$3","__accessCheck$3","__privateGet$3","__privateAdd$3","__privateSet$3","ObservableDatasetsClient","_modify","edit","list","DatasetsClient","_client$1","_httpRequest$2","_client2$1","_httpRequest2$2","__accessCheck$2","__privateGet$2","__privateAdd$2","__privateSet$2","ObservableProjectsClient","getById","ProjectsClient","_client","_httpRequest$1","_client2","_httpRequest2$1","__accessCheck$1","__privateGet$1","__privateAdd$1","__privateSet$1","ObservableUsersClient","UsersClient","_clientConfig","_httpRequest","_clientConfig2","_httpRequest2","_ObservableSanityClient","listen","assets","datasets","projects","users","allowReconfigure","withConfig","getDocument","getDocuments","transaction","getUrl","getDataUrl","ObservableSanityClient","_SanityClient","dataRequest","SanityClient","envMiddleware","getIt","onRequest","handleProgress","stage","percent","lengthComputable","total","maxRedirects","defaultRequester","defineHttpRequest","Footer","React","className","Header","Layout","children","PageComponent","__defProp","defineProperty","__publicField","enumerable","configurable","writable","__defNormalProp","nullLimitPolicy","async","func","ApiClientError","errorMessage","fetchMethod","fetchUri","requestId","ApiClient","_c","_d","_e","apiKey","bearerToken","leFetch","ensureApiHost","limitPolicy","bypassCache","coreHeaders","apiResponse","callApi","backoffRetries","backoffRetriesLeft","resetWait","dateHeader","serverTime","resetTime","info","round","pow","backoffWait","random","handleRateLimits","ok","parsed","getRequestId","expectNoContent","createUrl","queryParams","hostOverride","startsWith","endsWith","substring","static","apigRequestId","_AggregateClient","apiClient","AggregateClient","_url2","_DimensionClient","DimensionClient","_url3","_valueUrl","_EnrichmentClient","EnrichmentClient","_url4","_ManifestClient","siteId","ManifestClient","_url5","_QuirkClient","QuirkClient","_url6","_SignalClient","SignalClient","_url7","_TestClient","TestClient","mod","isNodeMode","__create","__getOwnPropDesc","getOwnPropertyDescriptor","__getOwnPropNames","getOwnPropertyNames","__getProtoOf","getPrototypeOf","__hasOwnProp","__commonJS","__copyProps","except","desc","require_retry_operation","RetryOperation","timeouts","forever","_originalTimeouts","_timeouts","_options","_maxRetryTime","maxRetryTime","Infinity","_fn","_errors","_attempts","_operationTimeout","_operationTimeoutCb","_timeout","_operationStart","_timer","_cachedTimeouts","stop","currentTime","unshift","unref","attempt","timeoutOps","try","log","attempts","mainError","counts","mainErrorCount","count","require_retry","retries","factor","minTimeout","maxTimeout","randomize","createTimeout","sort","a","wrap","methods","original","original2","pop","require_retry2","import_retry","__esModule","networkErrorMsgs","Set","AbortError","originalError","getDOMException","pRetry","onFailedAttempt","default","attemptNumber","retriesLeft","decorateErrorWithCounts","error2","AbortError2","createLimitPolicy","throttle","interval","limit","retry2","throttler","strict","isFinite","queue","Map","currentTick","activeCount","strictTicks","getDelay","earliestTime","function_","throttled","isEnabled","clear","pThrottle","currentFunc","retryFunc","CANVAS_URL","CanvasClient","edgeApiHost","unstable_getCompositionByNodePath","getOneComposition","unstable_getCompositionByNodeId","getCompositionBySlug","getCompositionById","unstable_resolveData","resolveData","unstable_dynamicVariables","dynamicVariables","unstable_dataDiagnostics","dataDiagnostics","edgeParams","edgeUrl","_DataTypeClient","walkComponentTree","component","visitor","initialContext","componentQueue","ancestorsAndSelf","parentSlot","parentSlotIndex","childContexts","currentQueueEntry","currentComponent","visitDescendants","descendantContext","replaceComponent","replacementComponent","property","removeComponent","parentComponent","slots","insertAfter","components","componentsToInsert","enqueueingComponent","findIndex","stopProcessingDescendants","setDescendantsContext","setChildContext","child","slotKeys","slotIndex","slotKey","componentIndex","getComponentPath","enhance","composition","enhancers","onErrors","promises","usedComponentEnhancers","usedParameterEnhancers","componentContext","parameters","paramValue","enhancer","resolveParameterEnhancer","parameterName","parameter","completeAll","enhancedValue","enhanceOne","enhanceParameter","componentEnhancers","resolveComponentEnhancers","size","enhancerName","enhanceComponent","flatMap","enhancerSet","issues","issue","ChildEnhancerBuilder","_paramMatches","_dataMatches","_resolveParameterEnhancer","name2","parameterType","type2","find","EnhancerBuilder","_componentIndex","_rootBuilder","builder","eb","targetedResolver","CANVAS_LOCALIZATION_TYPE","IN_CONTEXT_EDITOR_EMBED_SCRIPT_ID","generateHash","secret","hash","foo","bar","len","RegExp","converter","defaultAttributes","attributes","expires","toUTCString","escape","stringifiedAttributes","attributeName","cookie","write","cookies","jar","foundKey","withAttributes","withConverter","freeze","__privateMethod","getEnrichmentVectorKey","category","pageViewCountDimension","pageViewCountEvaluator","update","criteria","commands","onLogMessage","changed","hasUrlChanged","previousState","updatedCount","sessionScores","finalResult","hasExistingPageViewIncrementCommand","some","dimension","lhs","match","delta","lhsValue","rhs","isNumberMatch","explanation","explainNumberMatchCriteria","alwaysExecute","alphabet","s2b","_mitt2","_persist","_visitTimeout","_currentData","currentData_get","_setVisitTimeout","setVisitTimeout_fn","_handleCaps","handleCaps_fn","_scores","_mitt3","_calculateScores","calculateScores_fn","STORAGE_KEY","visitLifespan","scores","manifest","dim","score","dimDef","getDimensionByKey","cap","newData","newScores","session","computeAggregateDimensions","ScriptType","ScriptType2","UniformContextContext","createContext","PersonalizationContext","useUniformContext","throwOnMissingProvider","useContext","isServer","EdgeTag","createElement","PersonalizeEdge","variations","Component","ListStart","dangerouslySetInnerHTML","__html","variant","Fragment","ListItemSettings","pz","ListItem","personalizationResult","variation","personalizationOccurred","ListEnd","PersonalizeStandard","wrapperComponent","setScores","useState","useEffect","scoringChangeListener","updatedScores","currentScores","on","off","useScores","personalizedVariations","personalized","useMemo","personalize","take","Wrapper","Provider","Personalize","outputType","TestEdge","TestStandard","Test","useIsPersonalized","Track","behavior","tagName","threshold","disableVisibilityTrigger","rest","currentUrl","href","insidePersonalizeComponent","lastUrl","setLastUrl","hasTracked","setHasTracked","wrapperEl","useRef","disconnect","hasNoBehaviorValue","current","enrichments","pushBehaviorEnrichment","_a2","IntersectionObserver","entry","isIntersecting","observe","ref","TrackFragment","wrapperStyles","borderLeft","padding","fontSize","borderRadius","margin","backgroundColor","color","DefaultNotImplementedComponent","componentType","style","fontWeight","textDecoration","rel","cursor","convertComponentToProps","acc","cur","getTypeWithVariant","variantId","componentStore","register","createComponentStore","defaultSystemComponentResolver","store","defaultComponent","createComponentStoreResolver","renderChild","testComponent","variants","testName","finalVariants","slot","contextTag","testId","personalization","_f","_g","pzComponent","processedVariants","trackingEventName","UniformSlot","resolveRenderer","emptyPlaceholder","parentData","parentResolveRenderer","useUniformCurrentComponent","resolver","systemResolver","finalChildren","renderComponent","resolveSystem","indexInSlot","slotName","slotChildrenCount","elements","RenderComponent","component2","key2","shouldRenderContextualEditingTags","isPlaceholder","UniformComponent","Slot","UniformComponentContext","componentStoreResolver2","behaviorTracking","contextContextProviderPresent","contextValue","enrichmentTags","TrackComponent","resolvedChildren","hasParentLayout","rootComponent","resolveChildren","registeredCompositionIds","useUniformContextualEditing","initialCompositionValue","contextualComposition","setContextualComposition","channel","isInContextEditingMode","listenTo","broadcastTo","handlerCounter","handlers","broadcastToItems","postMessage","messageEventListener","parsedMessage","hasOwn","handlerId","types","ready","framework","__UNIFORM_CONTEXTUAL_EDITING__","destroy","selectComponent","updateComposition","addComponent","moveComponent","dismissPlaceholder","createCanvasChannel","opener","top","isUpdateCompositionMessage","enhancedComposition","getElementById","script","src","referrer","head","appendChild","isOpenedByInContextEditor","search","isAllowlistedReferrer","useContextualEditing","UniformCompositionContext","Composition","contextualEditingEnhancer","Hero","image","width","CTA","link","GenericGrid","GenericCard","ctaLink","ctaTitle","OfferingCard","offering","offeringName","offeringImage","offeringSummary","height","OfferingGrid","Default","CANVAS_SANITY_PARAMETER_TYPES","getComposition","enhanceComposition","sanityClient","createSanityClient","sanityEnhancer","previewClient","modifyQuery","parameterIsSanityEntrySelector","clientToUse","preview","defaultQuery","defaultParams","queryParameters","createSanityEnhancer","componentResolutionRenderer","serverData","formatArgs","useColors","namespace","humanize","diff","lastC","save","namespaces","storage","setItem","removeItem","load","getItem","process","DEBUG","__nwjs","userAgent","documentElement","WebkitAppearance","firebug","exception","table","$1","localStorage","localstorage","warned","colors","formatters","j","env","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","curr","ms","coerce","format","formatter","selectColor","extend","delimiter","newDebug","toNamespace","regexp","disable","names","skips","enable","abs","h","w","y","plural","msAbs","isPlural","exec","parseFloat","long","fmtLong","fmtShort","trim","arg","headersArr","row","copyBuffer","buffer","byteOffset","circles","refs","refsNew","proto","cloneProto","cloneArray","o2","ArrayBuffer","isView","a2","rfdcCircles"],"sourceRoot":""}